.
«
FFEFFFFFFFFFFFE333533333
FFFFFFFFFFFFFEF333333333
FFFFFFFFFFFFFFF
3355555553
FFF333
FFF333
FFFf b
FFF
FFF
FrF
FFFFFFFrFFFF
FFFrEFFFFFFF
FFFEFFFEFFFF
FFF
FFF
FFF
FFF
333
FFF333
FFF355
g
FFF
353335333
FFF553535353
FFF555555553
LPTSPL
VERSION
wSTARTY
REQUEST
£E3
USER
©(344)
MLITS
CREATELS
RUNNING
(U,
60WL])
12=5tP=75
DOKBAIF3I00UNV,h000)
SWITCHES!
nILL
BASIL
MLS
/FILESASCII
VELETED
B0B0
AFTER
LPTE
JUB
F3
DATE
10W=-S5EP=75
3216200
MACKU
47(113)
235312
Qui3vaB0400SAaLL
LENGTHs=2
A0sS00REALIO==)
wusueLPTSWs=y
NT
|@-SEP=-7S5
MONITOR
ALBURUERGUE
SCHOUOLS
S@T7B
*START»
@8352843
/FURMSENORMAL
10=SEP=75
PAGE
|
FILE
-
CUMMON
20100SEARCHMCSs@8
20200SUBTTLCOMMON
LYY
warteo
JTHE
UNIVERSAL
FILE
FILE
§}
CASSw=s=
PURE=2()
@
MEANS
4K,
1
MEANS
8K,
2
MEANS
12K
JCASSETTE SwITCh (CSAVE,CLOAD)
JON FOR PURE COLE
OSKFUNz=0
JON
TO
KEAO/WRITE
CONSSw==0
S
OO
28:242132
PRINTED:
ZLIMITE1305
W
V3108
42
/SPACING:Y
FRINTING
GATES/ALLEN/DAVIDUFF
b=SEF=b4
SEQ,
|P=SEPe’?S
/CUPLES:Z
VS
C
BE
ON
05118306
CREATED:
CLMwID=3"0D14JMAKE
RAMBOT="0202000JBOTTOM
CUNTRwzs=)JALLOW
<
KEALLU,
IFE
LPToazzQ
COMMA
COLUMNS
LOCATION
OF
FOURTEEN
RAM
FOR
CHARACTERS
PURE
SWITCH
=0
1SIMULATOR
DEFAULTS
CASSwe=p
CUNSSwW=3z0
DSKFUNE=0Q
CUNTRW=z3A>
Aecve
:
ve3vo
be4due
<
LENGTH,
EXTFNC2z9JONMEANSEXTENUEU
STRING==QJONMEANSSTRINGS
MULUIME=2Q
peseve
veo6unCASSwW==0
nerveLPTSwzzy
DSFFUN==Q
weaun
nevoeCONSSw=zQ
w3000CONTRw==20>
45209LENGTH=1,<
ns300EXTFNC==}
23400MULODIM==]
STRING=z=}1>
45500
LENGTH=2,<
23700
p3800EXTENC=2]
23900MULOIM==]
#4000
STRINL==1>
DEFINESYNCHA(A),<RST
wadueDEF INECHRGET, <RST
A4S00DEF LNEOUTCHK, <RST
Auc0b
A>
wa3pe
DEFINE, <RST
CUMPAR
DEFINEFSIGN,<kST
248UVDEF INEw49DEFINEPUSHM, <RST
PUSHFHM, <PUSHM
A460Q
a4700
25000
15100
PUSHM>
DEF INE
ws2u¢
S53ve
<
ACRLF,
*013
IFN
STRING,<TMD10>>
JON MEANS MULTIFLE
FUNCTIONS
UDIMENSIONED
ALLOWED
ARRAYS ALLOWEDBASIC
MES
c
8080
GATES/ALLEN/VAVIDUFF
6=SEP~04
COMMON
03108
54
MACKD
A7(113)
@3i12
10=5EP=75
PAGE
1=1
F ILE
05400
<
PUSHR,
DEFINE
PUSH
95500
Se#5600
5725700
5895800
596005900
26000
61
D
B>
FUSH
DEF INE
<
POPR,
POP
POP.8
06100X4*0100¢,0001
DEFINE
0>
<
HOVRI(8,C,0,€)
6296200EXP©
6306300EXPB
0406400XD=0100¢,"0021
6506500Exp£
6626600Exp0>
"LxI8"
1io"Lxrov
i
67
06800
6926900i)21000707100LENGTH, <PRINTX
/SHALL/>
LENGTH=1, <PKINTX
IMEDIUM/>
LENGTN=2, <PRINTX
/B16/>
T2071200KEALIO, <PRINTX
/SIHULATE/>
7397300REALLO, <PRINTX70N
7497400CASSH, <PRINTX7527500PURE
, <PRINTX
MACHINE/>
7697600LPTSW, <PRINTX/CASSETTE/>
JPURE/>
ILPT/>
1721700OSKFUN, <PRINTX/D1SK/>
7697800CONSSH, <PRINTX/CONSOLE/>>
797900
[]
[
BASIC
F3
MCS
8080
MaC
GATES/ALLEN/DAVIOGFF
bmSEP=04
03111
MACKO
10=SEP=75
47(113)
=
3,020020SUBTTLVERSION
2049TITLE20060IFNDEFBASIC NCS 8080
LENGTH, <PRINTX
END>
ORE
20080
000000*
PAGE
VERSION
20109
FEATUKES
3,0
1
1060
==MORE
FEATURES
T0
60
GATES/ALLEN/DAYI0OFF
MUST
111
1)
COM
HAVE
MCSSIH(START)
»
06120COMMENT
20160
20160COPYRIGHT
1975
BY
BILL
ANDPAUL
POP=1¢FROM
GATES
ALLEN
26200
00260ORIGINALLYWRITTEN20260FEBRUARYTO20320BILLGATESWROTETHERUNTIME
20340PAULALLENWROTETHENONeRUNTIME
20360HUNTE
a0400
9
DAVIDGFF
THINGS
10
WROTE
9
THE
G0SUB/
prrenPRINTPUNCTUATION
00460MULTIPLE
aease
20500RESTART
USERDEF INED
20520
20540
20560
00580MAKESTACK
INPUT
MATH
AT
0
BUG
(BUF
SMASH)
MANDATORY
SHOULD
G0
THROUGH
PUNCH, RENUMBEK, ,
CONSTANT
STUFF
EXACT
CONVERSION==MAKE
RADIX
wuaues20640NUMLEVZ=174LENGTHR2
10
LPTLENz=72
20100LINLEN==72
000110620720BUFLENa=72
200¢04001404
20000500760LENGTH=2, <STRSIZ=23>
200023
2095
20780
LENGTH=2, SNUMTHF25>
0080
aeoe1s0080Chezt3
voeel?20840CONTW=15
CITET00860ODONE==128
0000010088n
2L8CGL86908
WORK
JFOR
THE
NON=MATH
JINPUT
BUFFER
INUMBER
OF
PBIT FOR
SIZE
STRING
TO
TEMPORARIES
SUPRESS
DUTPUT
DONE
OUTPUT
TTQCHN==1TTICHNSFTELETYPEINPUTCHANNEL
JONMEANSUSERFUNCTIONS
71CANNOTXTI092020000020960LISTEN==0
21000
21620FUNCTS221
1PN
REALIO,
<
21240
71060
21080LISTENs=1>
n1120FUNCTs220>
IFE
<
LENGTH,
ROUTINES
FTELETYPE LINE LENGTH
781T FOR INPUT DONE
STELETYRE QUTPUT CHANNEL
1
PACKAGE
FIXUPS
SIMULATOR
INUMBER OF STACK LEVELS RESERVED
JWITH AN EXPLICIT CALL TO GETSTK
IWIDTH OF LINE=PRINTER
JCHARACTER
202001
avauet
IT
JTHROUGHOUT
NI
00660
20680
STKINI
FUNCTIONS (MULTI=ARG,MULTI=LINE,STRINGS)
BOUNDAKY
402000
000110
STUFF,
PACKAGE
LET
20620
0620
209110
STUFF,
003
ov42e
INLINE
THE
ON
APKIL
JON MEANS LISTEN FOR =C
ALLOWED
BE ON WITH LENGTH=8
(SUBFLG)BASIC
F3
MCS
8080
MAC
GATES/ALLEN/DAVIOUFF
b=SEP=64
03111
MACKO
47(113)
VERSTON
5.0
03§121G=SEP=T5
MOREFEATUKES
==
01200INTERNAL
01220INTERNAL
4C1,BUF READY, REASON ,
EXTFNG, <INTERNAL
21280
EXTERNALFERR
EXTERNAL
EXTERNALGINT, ZERO, MOVE, FOUT,FIN, FCOMP, FADD, PUSHF , INT, INIT
HOVFR, MOVRF s MOYRH, INPRT , LINPR
21360EXTERNALHUVFH, HOVMF , TSTACK , FLOATRT , FADDS
21362INTERNAL
EXTERNALINTERNAL
014601FN
91462INTERNAL
01464INTERNAL
GATES/ALLEN/DAVIDOFF
b=SEP=64
03111
0UTO0, STRUVI
STKTOP,
ERKOR , FCERR
STRING,
<
214661FN
01468INTERNA
VALTYP, TENPPT
INTERNAL
MENSIZ,FRETOP
21500EXTERNAL01520INTERNAL915401ENHULDIM, <INTERNAL01560IFNMULOIM, <EXTERNALUHULT>
915801FELENGTH, <INTERNALRNDF IX, SGKFIX, SINFIX>
91600INTERNALSIGNn1620EXTERNALSIGNC, POPHRT
SIGNS>
FBUFFR,MINUTK, PLUSTK,CROU,LINGET, INTXT,GINLIN
BSERR>
<
CONTRH,
216401FN21660INTERNAL01680IFNLPTSH,
<
017201FE<
LENGTH=2,
91730EXTERNAL
CNTWFL>
INTERNAL
21700
8080
EXE>
ILLFUNFAC,FACLD,
TXTTAB, STROUT, SCRTCH
INRART,NEG ,FLOAT
INTERNAL,
#1440
01460
HAC
ATNFIX,COSFIX,
SINFIX, TARFIX
2136021320
91420
HCS
REPINT
91340
21400
172
SNERK , OMERK ,
REALIO,
<
CNLCAL, CNLCAR, CNLEAS>
21260
BASIC
1=1
60
STREND, CUKLIN, DVOERR , ERROV
01240
F3
PAGE
TO
LPTROS, FRTFLG>
CONSIH, VMOVF A, VHOVAF , ISIGN, FPWRG,CONIA, GETBCD, VSIGN
01740EXTERNAL#1768EXTERNAL01760EXTERNALTHERR, VMOVE , VALINT, VALSNG, FRCSTR , CHRSTR, MAKINT
21800INTERNALOFACLO, ARG, ARGLO, VALTYP, ERRTH, TEMF2,
01820PAGE
MACKO
4/(113)
VHOVHE | VMOVF M, FRCINT , FRCSNG, FRCUBL , VNEG, PUFOUT , DCXBRT, TADD
1508, IMULT, 101V, ICOMP,
75312
SOMEEXPLANATION
21640SUBTTL
10=SEP=15
SOME
PAGE
INEG, DADD, DSUB, DMULT,0DIV, DCOMP, VINT
TEMP3, GETYPE>
2
EXFLANATION
173
174
01880COMMENT
21920ALTAIR
21960LOW
»
175
176
BASIC
CONFIGURES
MEMORY
AS
FOLLOWS:
177
178
LOCATIONS
179
180
22000
Rl
SUBROUTINES
161
18202040
163w2060
STARTUP
INITIALLY
A
1642208016502100RESTARTING
16602120EXECUTIUN
BUT
JHP
CHANGED
TO
TO
A
THE
CAN
THE
JMP
INITIALIZATION
TO
HACHINE
LEAVE
CODE
READY,
AT
@
THINGS
DURING
MESSED
PRUGKAM
UP,
167
185
22160SYNCHK
18902180190@220A CHECK IS MADE TO MAKE SURE THE
CHARACTER POINTER POINTS AT A SPECIFIC
191192w2220
we2uy195302260THECHRGET
194THECHARACTER
19502280
93¢0ONEWILL19602320THECONUITION
19702340
22360
02380EXAMPLE:SYNCHK
GIVENINTHE
199WOULDCRECK
20002400AND1FSO224e0IFNOT,A
196
02460
02480
CHARACTER,IF
RUUTINECALLED,
1S
NOT
KST
BE
THE
18
PUT
"SYNTAX
1F
IN
THE
[A]
CODES
ERROR"
SO,
DROPPED
AFTER
SO
AND
wiLL
THENTK
LOCATION
INTOQ
MATCHED
KEFLECT
(THE
THIS
MATCH
AFTER
THE
HAKESUKE(W,L]
FETCHTHENEX1CHARACTER
"SYNTAX
CHARACTER
POINTED
ERROR"WOULD
TEXTPOINTER
BE
TO
INTO
A
THENTK
(A],
GIVEN,
CHRGET
USING
(H,L]
AS
THE
02500THE
TEXT
02520AND
THE
0254002580IF THE CHARACTER IS A " " IT
IS SKIPPED
OVER AND THE NEXT CHARACTER IS FETCHED,
THE STATEMENT TERMINATORS "i" AND 0
22600LEAVE
#2560
IS
RST)
TO
POINTER
NEXT
THE
ZERO
INCREMENTED
FLAG
FETCHED
INTO
(A
SET,
THE
02640FLAG
72660REFETCHED
02680IF
n2700OCX
nevee#2760TO REEXAMINE THE CHARACTER BEFORE
THE CURRENT
ONE SINCE SPACES MAY BE IN=BETWEEN,
OCX H,DCX Wy CHRGET WILL NOT ALWAYS WORK,
92800OUTCHR
02820
SET,
THE
"@"
18
02620
02140
NUMERICS
1S
CHARACTEK
THE
THROUGH
CURKENT
INTO
(A)
CONDITION
H,CHRGET
THECHARACTER
02840THEUSEK®S
2860CONDITION
WILL
IN
LEAVE
OUINGA
CODESrMUSTBE
WORK,
[A]
TERMINAL,
CODES
"9"
CHARACTER
BY
AKE
1S
(A
IT
IS
SET
VERY
PRINTED
ANU
THE
PRESERVED,
THE
CAN
MOV
ON
CARRY
BE
A,M,
UP
AGAIN
ODIFFICULT3ASIC
F3
MCS
808U
HAC
GATES/ALLEN/DAVIOUFF
6=SEP=6d
05111
MACKU
47(113)
SUME
25312
10=SEP=75
PAGE
02900
CuMPAK
#2920(U,E)
02940O0UBLE-EYTE
(ML)
02960ARE
03000THING
#3020Is
23040EGUAL
03082FSIGN
23100THE
03111
CANBESAIDTHEZERKO
IF
1S
SET
IF
THEY
DEFINITE
[A)ONRETURN
SET,[A)WILL
@,
FAC
(FLUATING
ACCUMULATUR)
T0 STORE
SEE WHAT
NUMERIC RESULTS
SIGN 11§
HAS,
DOUBLE
BYTE
QUANTITY
POINTED
T0
STACK,
(B,C)
VALUE
PUSHED,
03320
03340IN THE 4K VERSION RST 7 IS UNUSED AND THE
ASSOCIATED WITH IT ARE USED TO CONTINUE
05360
23360THE CODE FOR RST
AROUND THE FIRST
BY
(r,L)
OURING
IS
RST
CONTAINSA
AAN
FUNCTION
JMP
DISPATCH
TO
FUNCTIONKOUTINESIN
FUNCTIONNAMESTHE
25560THEFUNCTIONS23580AREAT
CONTAINS
THE
THE
23660FOLLOWED
23682THE
as700OPERATOR
93720
23742OF
OF
THE
IN
THAT
END,
THE
SEE
OPTAB
TABLE
BY
THE
ADDRESS
THE
TABLE
IS
AN
OF
INDEX
MADE
LOCATIONS
WADE
INITIALLY
CAN
CHANGE
IT
10
ROUTINE,
OF
THE
OF
THE
ONE
ARGUMENT
AT
OPERATORS
ISFUN,
THE
PRECEDENCE
KOUTINE
10
PERFORM
THE
SUBTRACTING
OFF
THE
Trit LOWEST NUMBERED UPERATOR, THE ORDER
OPERATORS IN THE CRUNCH LIST AND IN OPTAB
PRECEDENCES
CUMPARATIVE
ARE
SIZES,
ARBITRAKY,EXCEPT
NOTE
OPERATORSSUCH
SPECIALLYWITHOUT
RESERVED
WORD
WHEN
A
23900IT
93920AAS
23940CALLED
IS
OK
CRUNCH
COMMAND
STORED
BEEN
10=SEP=75
OR
IN
TYPED
T0
NOT
THE
AND
USING
FOR
THEIR
PRECEDENCE
NEGATION
A
AS
ALL
LINE
SOON
(INLIN
FOR
ARE
TABLE,
1S
AS
TYPED
THE
RETURNS)
RESERVED
IN
WHOLE
CRUNCH
LINE
IS
WORDS10THEIR
SIZEOFTHE
2=2
VALUES,
23980PKOGRAM
28024000TABLE
AND
THIS
SPEEDS
DISPATCHES
28124020AND28204040NAMES
263prerWHEN
284LrernOF
OPEKATIONS,
e8504100THE286na120THE28194140INITS
28624160TUOCTAL
26904180INTHE
AKE
A
IS
ENTIRE
INPUT
LINE
PLACE,
20@
A
OF
BECAUSE
BETWEEN
WORD
THE
AND
A
A
IN
ALL
IN
THE
THE
STRING
CRUNCH
WORD
WORD
STATEMENT
CRUNCH
A
KESERVED
THE
ALLOWING
THE
MATCRED
RESERVED
PLUS
CKUNCH
IS
BY
FUNCTIONS,STATEMENTS,
CONSECUTIVELY
FOUND
AND
TEXT
THE
EXECUTION
PERFOKM
THIS
STORED
HATCH
CHARACTERS
REOUCES
UP
TO
TAKEN
WORDTOKEN
TOKENIS
PUSITION
OF
TRE
preer)29404280TO
29504300WORD
29604320IF
29704340TKEAT
29894360OTHERWISE
A
04380RESERVED
WORD
2uaen
vasapTO DISPATCH TO 1S FETCHED
OISPATCH TABLE) USING THE
WHEN A STATEMENT
CHARACTER OF
THE
preery
IT
TOKEN
50,
IS
FOK
THE
THE
24460
NUMBER
WORD
IS TO BE EXECUTED,
THE
STATEMENT IS EXAMINED
LESS
THE
"LET"
THAN
CHECK
ThE
LOWEST
CODE
STATEMENT
THE
FOR
244803060452030704540WHENAN
30884560LE]HMUST
34560MESSAGE
24600TO0ab20PROGRAM
04640VALUES
EKROK
OF
MATCHED
IS
AS
15
NUMBEKEU
CALLED
AN
NUMBER
18
STATEMENT
TO
NOT
THE
STATEMENT
MAKE
TOO
STATEMENT,
SURE
LARGE
THE
TU
BE
FROM STHOSP (THE
RESERVED WORD
TO
NAME,
TO
ASSIGNMENT
MADE
FIRST
RESERVED
STATENENT TYPE NUMBER, IF NOT THE ADDRESS
304
OUT
PUT
EQUAL
STATEMENT DISPATCH ADDRESSES
IF
IS
ALWAYS
LIST,
291
SEE
LIST,
LIST
1S
CALCULATE
AN
A
STATEMENT
INDEX
INTO
TABLE,
MESSAGES
ERROR
BE
1S
ERROR,
THE
24660ONLYTHE
THEBKANCH
04700INDEX
0aT20
24740CHARACTER
VALUE
1S
OF
ERROR
DETECTED
A
BELOST,
RESET
PKOGRAM
IS
TO
MESSAGE
ERKOR
MUST
AND
BE
MADE
ALL
VARIABLES
REMAIN
INTACT,
WHEN
IMPORTANT
ERROR,
WHICH
WHICH
BRANCH
BE
(E]
MADE
AND
WILL
WILL
ERRTAB
IS
INDICATE
ACTUAL
(E)
1S
USED
GIVESTHETw0
THATWILLBE
AS
AN
PRINTED
ON
THE
TERMINAL,
STURAGE
Q482ALL04820THE2484015USEDTO04860INTHISAREA,CARE
24880INTHISAREASINCE
249001SOFTEN
TEXTUAL
T0
STACK
THE
INTO
USER?S
UP
CONTEXT
AND
04680
IMPUKE
CONDITION
SET
APPROPRIATE
TEMPORARIES,FLAGS,POINTERS,
FLOATING
ACCUMULATOR, AND
STORE
DEPENDED
A
CHANGING
MUST
THE
BE
THE
BUFFER
ANYTHING
VALUE
MADE
IN
OF
THAT
BE
MOVING
JUXTAPOSITION
AREA,
ELSE
SHOULD
LOCATED
LOCATIONS
Tw0
LUCATIONS
UFON,
MESSAGES
24960CONSTANTMESSAGES
04980THECODETO
95000ISCHANGED
CHELK
THESE
ARE
IF
STUKED
A
STRING
STRINGS
MUST
HEKE,
MUST
BE
UNLESS
BE
COPIED
STORED
ABOVE
VALUE
IDENTICAL,
LIST
PROGRAM
BUF,
IN
CONVEKT
PAGE
THAT
AS
CRUNCH
IS
EXPLANATION
279
24949
7
USER
THAN
INTO
bY
UNARY
24780
RST
EXPLANATION
CONTAINS
OPERATION,
THE
TWO,
LIST,
MORE
THE
SETUP
94240
04260
BY
6K A JWP IS
7 LOCATIONS
SERVICE
ORDER
CRUNCH
23800
03312
THE
KST
ThE
ADDRESSES
TAKE
n3822
47(113)
THE
TAbLE
23640
SUME
6, IN
THREE
BUT
THE
TU
INCREMENTED
ADURESSES
FUNDSF
MACKO
IS
EXECUTION,
43540
THE
ONTO
EQUAL
INTERRUPT
03520
OPERATOR
SET
[W,L]
RET,
03500
THE
PUSHED
IS
6
23420#3440CRUNCH
301
FLAG
IF
IS
ONLY
9326093960
292
293
ABOUT
UNSIGNED
SET23240et
290
THE
83260
03880
bmSEP=6A
IS
ZERO
SWASHED,PUSHN
A
AS
CARKY
(D,E],1S03200#3220
w3860
GATES/ALLEN/DAVIDOFF
THAT
COMPARED
THANVALUE
03780
BA80
THAT
ARE
INTEGERS,
[A]WHICH IS USED
1S CHECKED T0
93760
MaC
(h,L)
LESS
03120
03140
93620
MLS
1S
EGUAL,
23160
23460
[
AND
92960
23400
BASIC
2=1
EXPLANATION.
BASIC
E3
MLS
898w
MAC
GATES/ALLEN/DAVIGUFF
b=SEP=6d
03311
MACKO
SUME
d47(113)
25312
10=SEP=75
33125020DSCTMP,
33%¢w5040THEY
05080
MOST
FUr
THESTACK,
585
bw5EP=64
P3311
BYTE
FINDING
ENTRY
BE
COFIED
ARE25260FURn5280ANDn5300AREELIMINATED
05320PROGRAM25340OF#5360AND25380SPACEEVERYTIME,
w5400CALLSFNOFORTO
05420THE
MADE
"FOR"
THESAME
OTHER
"FORTM
LOOF
"NEXT
PUTS
A
05580THROUGH
IT
SURE
A
05640ON
IF
A
AND
GOSUB
GOSUB
PGINT
NO
ENTRY
ON
THEKETURN
THATWAS
ENTRY,
YOUWHICHTHEns720ABLEFINDTHEMOST
nST4@GOSUBENTRY,THE"RETURN"
¥5760"GOSUB"25780THEGOSUB85820NON=RUNTIMESTUFF25840THECODE
n5860FINDA
25880PERFORM
A
AND
2590ALL
PROGRAM
¥5940ALL
TO
A
IN
IS
THAT
ON
CAN'T
THE
STACK
MAKES
OF
THAT
COULE
ENTERED
STILL
BUT
NEVER
BE
RECENTY
ALL
CODE
"FOR"TM
ELIMINATES
ENTRIES
INPUT
A
LINE,CRUNCH
LINE
IN
THE
"NEw","CLEAR",
MADE
THE
AFTER
THIS
AREA,
STOWRAGE
GIVEN
GIVEN
IT,GIVE
ERRORS,
PKOUGRAM,
AND
ThE
"LIST"
ARE
EXPLANATION
BELOW
THESE
OF
ARE
STRAIGHTFORWARD,
NEWSTT
WHENEVER
STATEMENT
BACKTONEWSTT,
CREATELOOKATSEMI=PERMANENT
23312
10=5EF=T75
UR
PAGE
WHICH
EXECUTION
EXECUTIUN
47(113)
"RET"
FINISHES
DUESLY
1)
A
A
26020
SUME
FOUND
ENTRY,
SPECIFIC
v592@
IS
WILL
IS
FOUND
GOSUB EXECUTION
ASSURES
SECTION
LOOP
RETURN
IS
RUN
CODE
THIS
IFIN
ENTRY
AGAIN
WITH
STOPPED
EXITED
TO
TO
LOOP
ENTRY
STACK,
MAS
ENTRIES
25680
FOR
IT
STACK
MATCH
FNDFOK
POINTER
"FNDFUR"TM
vs7v0
A
ENTRY
AFTER
&
ALSO
OCCUkS,
EXECUTED
"FOR"
A
MATCH
ERROR
IS
ENTRY
A
SO
IN
VARIABLE
RETURNS
IS
"FORTM
WHATEVER
THE
THE
OF
CODE
WHEN
ALL
BYTES
FOR
BYTE
A
KESTARTS
18
MFOR"TM
MADE
1S
MIDULE
"NEXT"
FUR"TM
6
THE
STACK
THAT
wERE
THIS
THEwITH
THE
OF
THE
SO,
THAT
STACK,
AN
ChHECK
SEARCHRETURN
MATCHED,
05620
QUT
RESET,
WITHOUT
CALLED
THE
THEN
AT
IF
ENTRIES
FROM
JUMPS
IS
WHENON
VARIABLE,
"FOR"
VARIABLE
ALSUALREADY
ENTRIES
UP
054860BE
A
THERE
AND"NEXT",
IS
ON
HOWEVER,
IF
USESTACK
25560
SEE
LOOPTHE
SIMPLE
FNODFOUR
ENTRIES
WON'TTHE05540
FAIRLY
PLACE,
A
DONE,
LOUP
THAT
2546025600
TO
ALL
AGAIN
IS5
IS
ANY25440
MACKRO
BEFORE
"FOK"
IS EXECUTED
PUSHED ONTO THE STACK,
05240
THIS
BE
A
ARE
IN
"FUGR"TM
WHENEVER
18
MUST
LYY
GATES/ALLEN/DAVIOOFF
wILL
KOUTINES
DOCUMENTED
BEFORE
26200
528U
ARE
05200
25989
MaC
THEY
45180
25660
MLS
SMALL
ANDUSED#5160
95529
584
ELSE
PRINTED,
25140
05500
F3
OR
ARE
w5120
ns52eev
BASIC
.
2=3
FNDFOR
25100
;
PAGE
EXFLANATION
IT
TAKES
STATEMENTS
THAT
STACK
ENTRIES
:
2e=4
EXPLANATION
26080MUST
GET
TU
RID
26100JMP1.1}veleeCHRGETS
s87P6140NAMEBEFORE
TU
OF
NEWSTT
THE
THE
WHEN
FIRST
RETURN
DONE,
26160BACK
?6180
w6200MUST BE SET UP 1S THE TEXT POINTER IN
(HyL),
NEWSTT WILL CHECK
TO MAKE SURE
59126220[h,L)
39206240IF
A
STATEMENT
SHOULON®T
BE
393a6260IT
1S
PROPERLY
FORMATTED
(I,E,
"NEW")
39406280SIMPLY
READING
ALL
355Vw6300ITS
LO
A
BEING
OFF
597#6340A
5962636000
"LEL17)ROUTINE,
4o06400OVER
4126420AT
4vevea4eCARE
JMP
IT
CANDO
MUST
THAT
BETAKEN
CLODE
TEMP
6480THE
06500CURRENT
LINE
6520IS
BEFORE
4076540EXECUTED,
4es2656040926580411
41206620
Vo640STATEMENT CODE
THE INDIVIDUAL
41306660NEXT,
41406680STATEMENT
41596700ITSELF,
IN
(H,L)
LHLD
ALWAYS
ave
IN
THE
WILL
BE
STARTED
SINCE
IN
BEENCALLED,
IN
OLDTXT
OLDLIN
STATEMENY
AND"END"TM
POINTSAT
THE(H,L)
OFCOURSE
TEMP,
KOUTINE
IN
CAN
NOT
NO
TEMP
IT
ERROR"
STORED
HAS
THE
wHICH
IS
UNLESS
OF
FLAG
SHUULU
TEMP,RET
NUMBER)
TERKMINATOR,
PERFORMED
NEWSTT
THAT
STOKRES
"STOP"
CRARACTER
THERE
AND
STATEMENT
ThHAT
ZERO
"SYNTAX
IS
SMASHES
®"C
THE
STATEMENT
aes
MADE
SINCE
THE
A
THING
STATEMENY
TERMINATOR
TO
IF
NEWSTY
A
AFTER
INDICATES
STATEMENT
THE
ONLY
TO
"RNZ"
ARGUMENTS,
599
N6460
POINTING
NEWSTT
THE
RETURNING
588
15
THE
UF
ALWAYS
AFTER
wHEN
389
390
06320
NEWSTYT
ADDRESS
NEWSTT
CHARACTER
DISPATCHING,
AND
SINCE
THEIR
CURLIN
THE
POINTED
STORE
Y0
THE
=C
(THE
CHECK
IS
TEXT
POINTER
TERMINATING
OLDTXT,
STATEMENT
APPROACH
IS
CODE
CUMES
USEDINEXECUTING
DOCUMENTEDINTHESTATEMENT
EACH
THESTARTING
COULE
416
417A6749
FRMEVL,
THE
FORMULA
GIVEN
418676041926780CHARACTEROF
4en06800EVALUATESTnE
THE
AN
EVALUATOR
(H,L)
VALUE
FORMULA
FURMULA
421u68204eeoe840(hyL)IS42326860THATCOULD
40406880FURMULA,THE
42526900TOTEMPORARY
STURE
IN
POINTING
A
THt
LEAVES
FLOATING
RETURNED
NOT
TU
FRMEVL
AND
ACCUMULATOR
PUINTING
BE
1O
THE
INTERPRETED
ALGORITHM
USES
AS
THE
(FAC),
FIRST
PART
CHARACTER
OFTHE
ZEKOON
STACK
RESULTS:
426
4ei
86940
A,PUT
1,KEAD
06960
:
we9V6980
43007000
431n1020
A
DUMMY
THE
PRECEDENCE
(CONSTANT,FUNCTION,
VARIABLE,FOKMULA
ANDTAKETHE
OFFTHESTACK,
432070404332706043447080IF
43527100OPERATOR
nrieeRETURN
2,
SEE
IF
OF
STACK,
LEXEME
THE
NEXT
LAST
IN
PRECEDENCE
CHARACTEK
NOT,RETUKN,
THIS
APPLICATION
FROM
PARENS)
FRMEVL,
IS
MAY
OR
AN
VALUE
OPERATOR
CAUSE
AN
ACTUAL
:BASIC
HLS
BuBY
MAC
F3
GATES/ALLEN/DAVIDUFF
6=SEP=64
03111
MACRO
S0ME
asy07140
u3p21160
43927180
44gar2eo
47(113)
0
2
10-5EP=75
FAGE
2=5
EXPLANATION
IFIT
IF=
1S,
AND
SEE
WHAT
COMPAKE
OFTHE
ORLESS
PRECEDENCE
1T
LAST
10
THE
GPEKATOK
REMEMBEK
1T
HAS
PRECEDENCE
ON
THE
THE
STACK
TEXT
4uy01220PUINTER
4u2ar240AND
aus327260aay07260APPLICATION OF THE LAST OPERATOR,
EVENTUALLY RETURN TO STEP 2
44501300aa6aup27320
07340
01360449a7380
uar
BY
IF
0O
AT
A
THESTART
RETURNTO
RETURNING
TO
GREATER PUT THE
BACK ON, SAVE
TENFORARY
AND
OF
THIS
OPERATOR
CAUSE
RETAOP,
LAST PRECEDENCE
THE CURRENT
RESULT,
PRECEDENCE
OPERATOR
AND
RETURN
ADURESS
TO
STEP
1,
45¢
451
ase
453
a7420RELATIONAL
27440A COMMON ROUTINE, SPECIAL
CARE 1S TAKEN TG DETECT TYPE
97460
OPERATGRS
ARE
ALL
HANDLED
THROUGH
MISMATCHES
SUCH
AS
3#"F"
as4
45527500
45607520
45727540
45627560
459@7580
a6¢27600
THE ROUTINE
EVAL CHECKS
ENTITIES IT
TO KEAD
FOR THE
A LEXEME
DIFFERENT TYPES
SUPPOSED TU DETECT,
IS
LEADING PLUSES ARE IGNORED,
DIGITS AND "," CAUSE FIN (FLOATING
TU BE CALLED, FUNCTION NANES CAUSE
a6tar620FURMULAINSIOE
462aT640ANDFUNCTION
aesa7660NAMES46427660TUa6s07709THE
THE
CAUSE
THE
PARENTHESES
ROUTINE
PTRGET
VALUE,
FAC,
THE
AN
AND
OFEN
BE
THEN
10
BE
CALLED
THE
TG
VALUE
PARENTHESIS
EVALUATED
A
PUT
CAUSES
POINTER
INTO
FRMEVL
ar7e0TO
BE
21740BE
CHECKED
07760NEGATION)
01780AND ENTER FORMULA EVALUATION AT STEP 1, SO
THAT EVERYTHING UP TO AN OPERATUR GREATER THAN
27800
FOR,
PUT
UNAKY
THEIR
ary21820THEIRare27840ars27860WILL BE
BECAUSEEVALUATED,
IT SEES AN
474918601T475NOT
27900AFTERate27920ONar797940ATEMPORARY
ARETURN
07960
478
PKECEDENCE
DOES
THE
THE
PASS
UNARY
FAC
OR
THE
THE
END
THE
TEXT
HAS
POINTER
THAT
FRHEVL
")"
(NOT
ON
THE
MUST
STACK
FORMULA
IN
BEEN
RETURN
PRECEDENCE
(H,L),
50
PERFORMED
BE
FRMEVL
TG
AND
THE
GOES A
HIGHER
POINTER
OPERATION
TU
OF
WHEN FRMEVL
OPERATOR OF
TEXT
THE
OPERATORS
PRECEDENCE
LOCATION
BACK
AND
VARIABLE
GET
IS
asy
470
(RECURSIVELY),
INPUT)
THE
BE
CALLED,
468
466
ue?
CALLED
10
TO
O
FETCHED
USES
FROM
AND
UONE,
479
460
DIMENSION AND VARIABLE SEARCHING
SPACE IS ALLOCATED FOR VARIABLES AS THEY ARE
ENCOUNTERED, THUS "DIM" STATEMENTS MUST BE
08000
48108020
a278040
ass#8260
uba28080
ags08100
EXECUTED TO WAVE EFFECT, 6 BYTES ARE
FOR EACH SIMPLE VARIABLE, ARETHER IT
NUMBER UR USER DEFINED FUNCTION, THE
98120
BYTES GIVE THE NAME OF THE VARIABLE AND THE LAST FOUR
GIVE
ITS VALUE,
(VARTAB)
GIVES THE FIRST
LOCATION
o840
KCS
Bo8O
MAC
GATES/ALLEN/DAVIDUFF
bm=5EP=64
03111
ve160WHEREA
28150GIVESTHE
HACKO
SOME
ALLOCATED
IS A STRING,
FIRST Tw0
47(113)
23 112
10=8EP=75
SIMPLE
VARIABLE
LOCATION
PAGE
10
NAME
STOP
IS
FOUND
SEARCHING
AND
FOR
[ARYTAB)
SIMPLE
26
EXPLANATION
28200VARIABLES,
w8220ANDA08240THEPROGRAM
A
"FOR"
26260MOVEDWHILE
28280
28300USERDEFINEO
PUINTERSINTO
08320FUNCTIONVALUES
08340ARE
PUINTER
MOVED,
TO
OK
THEKE
WAS
VARIABLE
SIMPLE
A
TEXT
VALUE
ACTIVE"FUR®
FUNCTIONVALUESALSO
SIMPLEVARIABLE
CAN
A
SIMPLE
ADDING
THEARKAY
28400NEW(STREND)
08420THIS
THATMOVEMENT OF
ARKAY VARIABLES
NO POINTER TO AN AKRAY WILL
28460
96480
NEWSIMPLE
WHYARRAY
08500LUP
98520MERELY
ARYTAB
IS
UPDATING
STILL
08580STACK,
28600OF
AN
TOCLOSE
AKRAY
AND
ROOM
WITHOUT
CAN
ARE
26620SECOND
28640FIRST
NUMBER
BE
THE
ARE
28740PTRGET,
A
THE
THE
THE
WHEN
THIS
IS
"FOR"
ARKAY
VARIABLE
DESCRIPTOR
SURE
THERE
STREND
AND
IS
THE
THE
FORMAT
SIMPLY:
CHARACTER
OF
BYTES
USED
WHICH
VALUE,
BY
TO
"OIMFLG"
0880008820OR NOT, IF 50, NO PRIGR ENTRY
GUESTION SHOULD BE FOUND, AND
TWO
INDICATED
FLAGS,ONE
CALLEDPTRGET
IS
THE VARIABLE IN
INDEX INDICATES
HOW
BE "DIMENSIONED", BUT THE ONLY EFFECT WILL BE TO
SET ASIUE SPACE FOR THE VARIABLE IF 1T HASN®T BEEN
ENCOUNTERED YET, THE OTHER IMPORTANT FLAG 1S SUBFLG
08920WAICH
08940ALLOWED
08960THE OPEN
WILL NOT
28960
WITH
29200
29020
29040
A
THERE
THE
ASIDE,
FUR
THE
76860
IN
SET
POINTER
"DIM®
08840
INDICATES
TO
A
IMPORTANT
WHETHER
28900
08880
SPACE
HAS
RETURNS
08760
WHICH
VALUES
DIMENSIONED YARIABLES
IN THE "MULDIN" CODE,
78780
MUCH
SUKE
CHARACTER
ROUTINE
VAKIABLE
STACK,
STACK
HEANS
STAY VALID
DIMENSIONS
IS
THE
USER=-DEFINED
VARIABLES
TRANSFERING
MAKING
THE
ALLUWED
NAKING
VALUES
FORMAT WHEN MULTIPLY
ALLOWED IS DESCRIBED
08680
08720
ELUCK
AND
TO
ANEW
BETWEEN
ON
CONTAIN
ENCOUNTERED,
NOT
MULTIPLE
VARIABLE
08660
SIX
UP
BUILDING
STREND,
ENOUGH
STREND,
BY
SETING
INVOLVES
98540
AND
UP
VARIABLES
VARIABLES
VARIABLES,
08560
08700
NOT
BE
ENTRIES
VARIABLE
08360V8380
08440
TO
NEITHER
CAN
SPACE SO NO
RETAINED IF
SIMPLE
BE
VARIABLES
POINTER
SU
VARIABLES
ARE
ADOING
SIX
ENTRY
A
THE
WHETHER
CURRENT
A
SIMPLE
SUBSCRIFTED
CONTEXT,
IF
CAN
VARIABLE
SUBFLG
IS
SHOULD
BE
NON=ZERO
PARENTHESIS FOK A SUBSCRIPTED VARIABLE
BE SCANNED BY PTRGET, AND PTRGET WILL RETURN
TEXT
WAS
POINTER
POINTING
TO
THE
"(",
IF
ONE,
STRINGS
29080IN THE VARIABLE TABLE STRINGS AKE
NUMERIC VARIABLES, SIMPLE STRINGS
09100BYTES
09120REPRESENTS
29060
VARIABLES
09140IN
09160NAME
WhICH
AANDLING
OF
29180ON
29200THE
THE
29220HAVING
29240THAT
A
N8B
FIRST
INITIALIZED
NULL
1STHAT
TO
STRING),
WHEN
ALL
THE
PTRGET
PTRGET
BIT
SEARCH
ON
OF
IN
THE
THE
ROUTINE
ZEROS
ONLY
SEES
SETS
OF
VARIABLE
NAME
WILL
OF
NOT
(WHICH
DIFFERENCE
A
VALTYP
(MOST=SIGNIFIGANT=BIT)
CHARACTER
THIS
THE
AKE
THE
VARIABLE,
STORED JUST LIKE
HAVE FOUR VALUE
"S"
10
THE
AFTER
ONEAND
VALUEOF
THE
TURNS
NAME,
THE
NATCH
VARIABLE
ENSURESBASIC
F3
MUS
80RO
MAC
GATES/ALLEN/DAVIDOFF
=SEP=64
03311
MACRO
SUME
47(113)
@312
10=SEF=15
PAGE
TA®WLTH
29280THEFOUK
29300
MCS
8080
nAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
05111
OR
VALUE
fAS'
BYTES
WITh
Af,
THE
MEANING
OF
ARED
29320LENGTH
09340UNUSED
29360
09380LOW 8 BITS
HIGH 8 BITS
OF
THE
STRING
OF
THE
09400OF
09420STRING
29440MEANINGLESS
THE
ADORESS
CHARACTERS
IF
IN
THE
LENGTH,NE,O,
OTHERWISE,
HIGH
29480THE
VALUE
OF
2950015
CALLED
THE
09520IT
FROM
09540STRING
99560
29580
99600PART OF AN INPUT STRING, OR AS PART OF DATA, STRLIT
15 CALLED, CAUSING A DESCKIFTOR TO BE BUILT FUR
THE STRING, IF THE STRING CONSTANT IS IN BUF
(WHICH
09620I1
29640STRING
THE
A
STRING
STRING
ACTUAL
CONSTANT
wILL
BE
1S
IF
STRING
OFSOME
09660THEVALUE
ISALWAYS
09700STRINGS,
29740STRINGFUNCTIONS
29760ALWAYSRETURN
29780ASSIGNING
A
19800THROUGH
COPIED
MREAD"
IS
THE
WILLNOTTHESTRING#9860PKOGRAM29880WHEN09900SPACEANDTWEREFS2GSWILLCAUSECUPYING
INSTRINGSPACE,
A
USE
ANY
STRING
DESCKIPTOR
ITSELF,
STRING
IN
SPACE
wILL
VALUE
IS
IS
AN
IN
OR
STATEMENT)
DIRECT
USED
SINCE
TO
BUF,
INTO
OR
THE
IS
DONE
ITISIN
POINTER70OIT,
WASITS
THUS29960WILL29960NEWONE10000THEASSIGNMENT10020THEONLY10040TEMPORARY10060GOAWAY10080ITISThENATUREOFGARBAGECOLLECTION
10100DISALLOWSHAVINGTWOSTRINGDESCRIPTORS
10120
10140AREA
MUST
ONE
BYTE
OF
POINTER
AT
AS
SOON
AS
FIGURE
101802)
CALL
12200
10220RESULT, THE
OK OPERATOR
10240GETSPA10
MAYBE
BESAVED
TOTHE
3)CONSTRUCT
03112
10=5EP=75
PAGE
TO
BUT
SINCE
IS
IS
INVOKED,
THE
DURING
OF
THAT
TO
THE
POINT
AND
THEIR
FOR
TO
THE
SAME
OPERATORS
RESULT
THEIR
FUNCTION
GARBAGE COLLECTION
THING
CALL
OF
RESULT
WILL
DONE,
SPACE
ONLY
THE
THE
WHICH
FUNCTIONS
FIND
DESCKIPTORS
A
FKMEVL
LENGTh
THE
COPYING
STRING
BY
STORE
"CHRS",NO
ARGUMENTS TO THE
MAY CHANGE SINCE
10300
STRING
BY
ASSIGNMENT
THE
10260
47(113)
NEW
OUT10260
SOME
SPACE
IN STRING SPACE, STRING
PROCEED AS FOLLOWS:
1)
GS
CAUSE
CREATED
THE
IF
FS$zCHRS(7)
CREATED
WILL
THE
DESCRIPTOR
12160
MACKO
STRING
STRING
ITSELF
"#"
SINCE
STRING
CHARACTER
COPY
STATEMENT
n9920
USE
THE
BUF
OPERATOR
29949
DATA
AS
"INPUT",
COPYING
ACTIVE
OR
A
SPACE
POINT
GENERAL,
A
STRING SPACE,
VALUE
IN A PROGRAM
ASSIGNMENT
29840
BYTES)
FORMULA
STRING
THEIR VALUES IN
STRING A CONSTANT
OR
IN
IS
ONE
4
OISTINGUISH
A
BEING
STRING
"STKCPY"
AND
TO
WHENEVER
IN
FORMULA
INTG
CHANGING,
A
(THESE
DATA,
ENCOUNTEKED
THE
PART
IS
VARIABLE
DESCKIPTOR
STRING
IS
#9680
09820
JASIC
*AS?
Low
09460
F3
2=7
EXPLANATION
29260
THAT
GETSPA
CAN
IS
A
POINTER
ARGUMENTS,
DESCRIPTOR
IN
DSCTHP,
2=8
EXPLANATION
59619320GETSPA
59710340SPACE,
595103604)CREATE
59910380OFTHE
RETURNS
60010400S5)FREE
601104206)JUMP
66210440DSCTMP
THE
THE
NEW
ARGUMENTS
LOCATION
VALUE
OR
UPTHE
TOPUTNEW
BY
ARGUMENTS
TO
TRANSFERKED
OF
THE
AVAILABLE
CUPYING
PARTS
WHATEVER,
BY
GET
INTO
CALLING
THE
A
FRETHP,
DESCRIPTOR
NEW
STRING
IN
TENPORARY,
603
60410480THEREASONFOR
60510500COLLECTIONHAS
60610520SO60710540USED
IT
KNOWS
TO
STRING
TO
WHAT
STORE
TEMPORARIES
KNOW
IS
THE
ABOUT
AND
ALL
15
THAT
ACTIVE
ISN'TINUSE,
DESCRIPTORSOFSTRING
GARBAGE
STRING
STRING
DESCRIPTORS
TEMPORARIES
ARE
EXPRESSIONS,
608
00910580INSTEAD
61010600FAC,
61110620BEING
61210640VARIABLES,
613
OF
AND
MAVING
HAVING
SAVED
IN
ON
AN
THE
THE
STRINGS
THE
ACTUAL
OF
AS
HAVE
THE
10660STORED
THAT
e1610700
10720STRING FUNCTIONS CANNOT FREE
AWAY SINCE GETSPA MAY FORCE
61710740GARBAGE
61810760MAY
10780
10800WILL NOT BE ABLE TO FIND AN
THEM, FUNCTION AND OPERATOR
18820DSCTHP
10840(PUTNEW)
BE
SAVED
ON
COLLECTION
ANDIT
THESTACK
AND
OVER=WRITTEN
SINCE
A
STRING
AND
THE
THIS
BY
NUMERIC
STRING
THEIR
EVALUATION,
ARGUMENTS
ARGUMENT
UP
RIGHT
STRINGS
COLLECTION
ACTIVE POINTER 10
RESULTS ARE BUILT
ARE
(FRETMP)
DESCRIPTOR
POINTER
FORMULA
GARBAGE
IN
A
FIFO
ORDERING
(1,E,
BE
TO BUILL A RESULT IN A TEMPORARY AFTER
FREEING UP THE ARGUMENT TEMPORARIES COULD RESULT
IN ONE OF THE ARGUMENT TEMPORARIES BEING OVERWRITTEN
10960TUO
11000
11020STRING SPACE IS ALLOCATED AT THE VERY TOP
OF MEMOKY, MEMSIZ POINTS BEYOND THE LAST LOCATION
11040STRING
SPACE,
11060FIRST,
WHENEVER
11080FRETOP,
11100TU
SOUN
GIVE
11120THAT
11140FRETOP
IS
BY
THE
WHICH
THE
NOT
GETS
11160ALLOCATION
11180
11200[STKTOP),
STACK AND
11240GARBAGE
THE
NEW
OLD
ONE(S)
ARE
ARE
STRING
STORED
SPACEIS
INITIALIZEDTO
IN
WIGHESTLOCATION
INTHERESULT
ANDSHALLER,
USE,
SMALLER
WOULD
THIS
THAT
CANNOT
FREED,
TRYING
RESULT,
STRING
IS
TEMPOKARY
IN
ALLOCATED
10900
10920
10940
UNTIL
NEW
THE
RESULT
A
10880
UP
THE
IN
WITH
TU
10860
SET
SO
STORED
TEMPORARY
TEMPORARIES
DEALLOATED
STACK)
IS
SINCE
A
HAPPENS
POINTER
10680
GETS
FAC,
VALUE
VALUESTACK,
MAKE
IN
[FRETOP]
HIGH
(GETSPA)
[MEMSIZ),IS
STRING
18
UPDATED
SPACE
THAT
UNTIL
LESS
MEANS STRING SPACE
GARBAGE COLLECTION
OF
LOCATIONS
ALLOCATED
SOME
THAN
HAS RUN
MUST BE
OR
EGUAL
TO
INTO THE
CALLED,
COLLECTIONS
11260
11280@,
1,
11300
11320
11340
113602, FOR EACH STRING DESCKIPTOR
(TEMPORARIES, SIMPLE STRINGS,
IF
THE STRING 1S NOT NULL
AND
J6T,MINPTR AND ,LT.FRETOP,
MINPTR=[STKTOP)
REWMIN=®
(FRETOP)
= (MEHSIZ)
STRING ARRAYS)
ITS POINTER IS.
.
BASIC
F3
MUS
BpBY
MAL
GATES/ALLEN/DAVIDUFF
6=S5EP=64
03311
MACKO
SUME
47(113)
V3312
10=SEP=75
PAGE
11380AINPTRZTHIS
11400REMMINZPOINTER
11420END
114403,
11460BLOCK
11460
11500TO
SO
(FRETOP),UPDATE
THE
STRINGUATA
POINTERIN
11600TOTHENEwGOTOSTEP
AFTER
TO
[A)
INVOKED,
MATH
1S
THE
11800FLOATING
11820ess
MATh
AND
THE
PACKAGE
OUTPUT
ALL
FRETOP
WAS
,
OF
ARE
IF
THE
IN
THE
INITIALIZATION
TOANYTU12000TERMINAL
SEE
wHAT
12040AT12060AND1208@THIS1eledHIGHEST12120STRINGSPACE
1142STACK,SPECIAL
ChANGED,
OF
THAT
IT
BELOW
INTO,
THE
THE
ONE
UPDATE
SO
IT
STRING
GETSPA
AVAILABLE
NOT
AN
POINTS
DATA,
AGAIN CHECKS
BETWEEN
"OUT
THE
WIDTH,AND
FIRST
TXTTAB
OF
ALL
SET
MEMORY
LOOKS
STRING"
QUESTIONS
ONCE
INIT
12200USED
12220CHANGE
12249OF
FOR
UP
ONCE
THE
DONE,
OF
ARE
ALL
THE
BY
AT
THE
ANSWERED
THE
A
MATH=PACKAGE
NEXT
TO
MAKE
IT
LAST
JUMP
THERE
LOCATION,
WILL
START,
OF
LOCATION
ARE
BE
RETAINED
IS PUT DOWN
AMOUNT
FIRST
LOCATIONS
BASIC
BE
THE
THE
MADE
DONE
TO
ZERO
ARE
TO
IS
A
REGISTER
IN
MEMORY,
STOURAGE
MINUS
STURAGE,
ZERO
THIS
SwWITCH
BE
USED
PUINT
PROGRAM
INIT
PROGRAM
THE
LOCATIONS
FUNCTIONS
NOT
TO
GIVES
FINISHES
AT
AMOUNT
THE USER,
CHECKS
LOCATION
INIT,
POINTS
ITSELF,
SHOULD
WHICH
LOCATION
IN
(FIN)
(FCOMP)
AND FUNCTIONS,
ENTRY
CAUSES
THE
WHERE
(50)
AND
INPUT
COMPARE
OPERATORS
PACKAGE
LOCATIOUN
IS
DETERMINES
FLOATING
FLOATING
I/0
I/0
THEN
ASCERTAINED FROM
121860
REASUNABLY,
USESARE
THINGINIT
TU
IS
READY
NO
THE
DEFAULTED
USED
BY
THE
SURE
WAY
SINCE
DUES
IS
INSTEAD
TO
RESTART
INIT,
12309
STORAGE
12320
12549
A ZERO,
POINTER
(TXTTAB)
LINE
12360CHARACTERS
12400ZERO
1e420POINTER
47(113)
05312
|u=5EF=75
PAGE
#
TO
12360
OF
NEXT
THIS
ON
AT
LINE*S
LINE
THIS
NEXT
(2
POINTER
BYTES)
LINE
LINE®S
POUINTER
2~10
EXPLANATION
12449
(POINTED
12460
124069
LAST
LINES:
eee
REPEATS
POINTER
#
AT
1e50¢LINE
125¢0CHARACTERS
OF
THIS
ON
DOUBLEZERO
SIMPLEVARIABLES,
[VARTAB)
126002
12629ioe
12640
[ARYTAB)
BYTES
ARRAY
see
12700
[STREND)
VALUE
FREESPACE
tesREPEATS
12740MOSTRECENT
12760eseREPEATS
12780
(STRTOP)
12800
12820
12840
(FRETOP)
12860
12889
[MEMS12Z)
12900
12960*
12980PAGE
2
BY
4
THE
ABOVEPOINTER)
PERVALUE,
BYTESTHE
NAME,2
VALUE
BYTES
IF
MULDIM
BYTE
ON)
4.0
STACK
ENTRY
,,,
FREESTRINGSPACE
seeREPEATS
,,,
SPACE
REPEATS
TO
BYTES
(EXTRA
ENTRY
eas
POINTER)
,,
STACK
STRING
6
NAME,
FIRST
IN
USE
(..
HIGHEST MACHINE
UNUSED
HIGH
THE
REPEATS
12720ABOVE
-
VARIABLES,
LENGTH,
12680
THE
LINE
(POINTED
GIVE
REBEATS
12660
BY
LINE
THIS
ZERO12560
12580
TO
,,,
ZERO PUINTER
12540
12920
STRING)
POINTED
ROUTINE
FIRST
TYPE
NUN=STANDARD
BE
ARE
12260
MATH
INITIALIZATION
11980
12160
CONTAINS
NUMERIC
FORMATS,CONVENTIONS
DESCRIBED
==
1eaece
.
80
JUST
MOVED
DESCRIPTOUR
COLLECTION
(FOUT)
THE
11960
1ACKO
UNCOLLECTED
DATA
1,
(FRETOP)
11940
SUME
POINTER
DESCRIPTOR
AN
PACKAGE
11780
INIT
STRING
THE
CHARACTERS
AND
11920
©3311
IF
ERROR
11900
b=SEP=6d
SEE
(STARTOP)11720
STRING
FOUND
DESCRIFPTOR POINTED TO BY REMMIN
BYTE OF STRING DATA IS AT
LOCATION
CALLING GARBAGE
11700
(WE
LOCATION
THETHE
11860
GATES/ALLEN/DAVIDUFF
TO
DESCRIPTORS
THIS
THE
POINTS
11840
BuBY
TRANSFER
IN THE STRING
THAT THE LAST
11540
11760
MAC
AT
11520
11680
MLS
STRING
REMMIN,NE,@
11580
11660
BASIC
IF
11560
11620
F3
2«9
EXPLANATION
EXCEPT
BY
LOCATION
THE
VAL
FUNCTION,
LOCATIUNS
|BASIC
F3
MCS
0pAU
MAC
GATES/ALLEN/DAVIDUFF
b=5EP=64
03111
730
MACKU
RST
47(113)
75312
10-SEP=75
PAGE
3
RUUTINES
15000
13020SUBTTL
RELOC ¢
STAK
731000000*732@w@0e’0pluoo9ve36S13040
733020001°001009@0@30313060
73400Ea02’000000VR0D0X1350penas’00vLED0UELDD
RST
ROUTINES
JDISENABLE
INIT
FINIT
IS
INTEKRUPTS
THE
13060JIT13715100JLOCATIONS13513120JDESIREDAND13913140JCHANGESTHIS
74¢151607411318016213200743132201441324014513260JOFTHE74613280170A14113300LENGTH=2,
<15320ADR (FRCINT)JTURN13340ADR (MAKINT) >FTURN[H,L)INTG
FSETVALTYPFOR
748000RR40ULDD
OA0ONR
749000a5*OgbunePvELER*
750
751©0UE6’
20¥9n7*VDOAVD
000000DLREVU*
©0RER4’
752
753
LENGTH=2,
<
ADR (DEINT)
JSTORE
FTO
74
ADR (GIVABF)>
ponto’
13380
RELOC
UP
DELETES
HERE
TURN
KOUTINE
CERTAIN
T0
THE
THE
TWO=BYTE
FSTORE
13360
754
SETS
INTIALIZE
36
FUNCTIONS
JMP
ROUTINE
FAL
INTO
SIGNED
HERE
THE
INTEGER
ADDRESS
ROUTINE
TO
CONVERT
FLOATINGPOINT
FACAN
INTO
IF
READY
INTEGER
A
[A,8)
NUMBER
VALUE
IN
IN
IN
THE
FAC
(H,L]
THE
FAC
INTEGER
8
15513400
13620SYNCHA
7561344015
A
NOT
LOUKS
AT
SPECIFIC
75715460IF75813480THENEXT
1T
591350013520ALLREGISTERS
13540AND(r,L]
13560WHICH
THE
CHARACTER
(CONTAINED
THE
“SYNTAX
AND
IN
PRESERVED
UPPOINTING
WAKE
IT
AFTER
THE
OTHERWISE
FALLING
[AJSNEW
THE
SURE
LOCATION
ROUTINE,
(BY
EXCEPT
AT
TO
THE
ERROR®
RETURNS,
ARE
ENDS
WAS
CURRENT
THING
CALLS
CHARACTER
INTO
CALL)
IT
GOBBLES
CHRGET)
CHAR
CHARACTER
AFTER
THE
ONE
CHECKED,
13580
P04n10*VploveV0017615600200911°00190020034313620w0ep12*0olone9uoeTe13640
13660136807180ovR15*V01000@BEW4313700000014°001000L034313720JFIX
JPUTRETURN
RETUKN
15740JTHETEXT
080015*631000060302
00001670000002v2UTe’
0000172000000LOUO6®
Moy
Ak
JGETTHE
XTHLJGETCALL
cnpJPUT
JSEETEXT POINTER ON
IF
(A] ECURRENT
13760
s
JIF
15780
F3
MLS
808C
HAC
GATES/ALLEN/DAVIDUFF
beSEP=64
05111
MACKO
RST
13940
764
THING,
ADDKESS,
ADDRESS BACK
CHRGET,
USING
(M,L)
AS
THE
A NEW CHARACTER INTO
(A)
AND SETS CONDITION CODES
NUMERIC
47(113)
#5112
10=SEP=75
13960
£
13980ALL
76614000[CASETCHSE
CHARACTER
WASN'T
RESTORE
RIGHT
CALL
*SYNTAX
JANDGET
ERKOR® ROUTINE,
FALL THROUGH
ANOTHER
CURRENTTEXT
CHARACTER,
PAGE
POINTER
AFTER INCREMENTING
ACCORDING TO WHATS
(M@
THROUGH "9m)
FETCHES
(r,L)
IN [A]
3m1
REGISTERS
OR
SAVED
END=OF=LINE
EXCEPT
(A
[A]ZNEW
©)
CHAR
14020
0ava2e*
14040
769
14069
LENGTH, <CHRGTRE>
19¢000026*001000@EOL4S14080INXHJUPDATE
7910eUe21*01000VOVIT614100MoyAWJGET
7920UEPR2*VA10UBSTE14120cPIagnIMAKE
7930ou@23*0uonaePveLTe
794
14140
795
JALL
14180
7970an024*0ul00eP0032014200
79800U025?010000UV3B314220
7990426’000000063433*600000021°PuoEVEB00U16’801142401802142607THIS803164280iCNTWFL(SUPRESSOUTPUT
80414300}TIMINGETC,,REGISTERS
80514320i14340RELOC143600UTDO:10380IFN806000030
807000D30*
QU100
DUO3ES
808
000031dulo00©00@32*D0VOLE0015417
M0UP33*000000DVOR26*
900034*001000VUDL6!
ROUTINE
NO
OUTPUTS
THE
OR
POINTER
ZERO
ALPHABETICS
GET
ZERO
&
&
60INOFORWHOLE
IN(A)
ROOM
CHARACTER
TTYPOS
(PRINT
CONDITION
CODES
PUSH
PSW
JGETSUPPKESSFLAG
JSEEIFSET
81314440LENGTHICONTRNILPTS,<81414460LOATTYPOS>JUSERST14480JnpQuTCONj
(LPT
CONTRMW,
<
a>7
PRTFLG
POSITION),
CHANGED,
24
CHTWFL14500
OFF
ROUTINE
HEAD
ORA14520
KESERVED
CARRY
USING
ARE
14420
000303
©U3L6S!
VVEL32’
AND
BACK
LDA
Vulcon
V0000D
VOVERY
ON
OFF
146T,"i"
NOT),
OR
HAVE
14400
00ve35*
000036"
©00p37*
PVATZ
KST
TEX]
CHARACTER
"3"
IWOKDS
CHRCON
THE
NEW
JCARRY
14160
796
816
AND
POINTER,
JOTHERWISE
785
787
(n,L]
STACK
CHARACTER
RUUTINES
763
768
INTO
¢
13880
15900
13920
BASIC
CHARACTER
ADDRESS
RIGHT
THE
JTHE
13800
15820
13840
13860
THE
CURRENT
COMPAK
COMPARES
[H,L)
WITH
(D,E]
IT
IS
BYTES,
(A1=TTYPOS
UNSIGNED
14540
14560(ML)LESS
14580(ML)=
THAN
[D,E)
[0,E)
SET
SET
CARRY
ZERD
14600
14620
14640
00040 *
THE
ONLY
REGISTER
USED
14660
€0004G*00100000017414680MOVAH
@o0paleoplove022l14700suB)
@00062*V01000 © 00030014720RNZ600045°0ploMe26017514740MoVAL
V0Anad*00100000BZRS147605UBE
000na5*0n10000VAS1L14760RET©0Ra46*B000G0PHRRRL148201
14840
JSTURE
iTO
HERE
PRINT
THE
AFTER
NUMBER
CRLF
OF
NULLS
OR
TTY).
o
BASIC
MLS
BuBu
MAC
]
836
GATES/ALLEN/DAVIDOFF
6=SEP=64
05311
buenar’
MACRO
RST
47(113)
vusile
14860TTYPOS:
837148890i
83614900
839
10=SEP=75
THE
BLOCK
FSIGN
14920
IFFAC=Q
Az]IFFAC
1494084114960THECUNDITION
14980ANDNO
64315000THISwWORKS
84415020THE*vSIGN®
84S15040IT
846
847
voepsw*
wuanse*
welvee
QuewTe
RETURNS
A=QB84¢B49
OTHER
WILL
15050AND15060
15080i
RELOC40
15100SIGN:
GIVES
LUA
GREATER
CODES
THE
"TMERR"
THAN
ARE
THE
IS
SIGN
ON
TERMINAL
LESS
IS
porys1’Puooeeavunpse’waepueoV se*vovass’wnlveedvboeek
!15120A
853Avapss’Valvoe20030215140SIGNC
854boensSs*000000VUALBO
voupsSe’wpavvevoYes1*
856wenast?*nplave77K
R BY
15160
ZERC
THE
1S
VALUE
A
QF[A)
SINGLEOR
GENERAL
INTEGERS
1518985815200THIS
85915220EFFECT
86015249
AS
861862
THE
IS
NUMBER
STRINGS,
PUSHM
15260INXH
15260
15300MOV
INXByM
H
PUSH86515320
1534086615360
663
864
OIFFICULTY
i
RETURN
RST
IS8
c M
B
COMES
IN
BECAUSE
OF
THE
ADDRESS,
15380
867
LY
15400
ELOC
48
869wolunbw*vulvoewbesas15420XTHL870ooone6l*w1000Avovae15440SHLDPUSHMA+]JFIXUP
871poewse’vweovoew101’navn6s*0eoenYVenesSS*FOPHJREGAIN
SCOVE+S97IN
QouN6L"01000pbwsal15460
875nwonGEes*np1ovYpuases15500
876duvess’bnvenePneers*877avep6!*NANPAEwoveee’
15480
674
878
L
JSWITCH
QuopTe*
([H,L)
JUMP
AND
TO
RETURN
PLACE
TO
ADDRESS
GO
[H,L)
LENGTH,
<
JMP
15520
BK
jFOR
ALLOW
USER
INTERRUPT
TO
HAVE
RST
7
TRAPPING
15540
Bovnr0’bulaeewees118bewoverL*welewevevueL15600
883wevnre’*v1evewevuee15620
vellle
860
PRECISION
WELL
i
MOy
879
DOUBLE
SINCE
RET
857
873
HERE
@2
YT
85587¢
POSITION
THAN
MODIFIED,
FAC
MORE
OF
JSTOREFAC
FAC
85¢
868
IF
REFLECT
WHEN
ROUTINE
TAKE
Azel
REGISTERS
UNLY
851
850
3=2
1
RST
Bde848
PAGE
RUUTINES
881
15560JINITIALLY
15580JROUTINE
884bebnr3’waleve6850074’neleeynvvv4s15660
886vaears*wplevewoalee156860
8872eagTe*bpuloeeaepvas15700
bé8aenatir’an1000aueses15720
15640
NO
INTERKUPT
JGRABFROMMEMOKY
JPUSH[B,C)ONTO
THE
STACK
o
.
-S
bn8v
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
03311
MACKU
RST
47(113)
93312
10=SEP=75
15740
von1a0*291000Quo3es
vo0101°0rvRRRvvn1ee’
pen1pe’wpoeenQvVVeL*
PAGE
3=3
RUUTINES
JSINCE
15760PUSHMA:
15800PAGE
JMP
PUSHMA
IRETURN
IT
CONTAINS
ADORESS
(M)
STURED
HERE.
.
3ASIL
F3
MCS
8uBY
MAC
GATES/ALLEN/DAVIDUFF
beSEP=b4
03311
VON103*VPRVLDVUOLRLR
PPBIN4’VEPYVD©VO1BL*
P00105°QPRYnYVUELREx
NPRRLYVEVLIRS*
MACKO
47(113)
JISPAICH
235312
SUBTTL15860FUNDSP:158801FNLENGTH=2,
<
IFELENGTH=2,<
DISPATCH
1000
VORUVL*
Q00110°VPORVYv0n111°*varevR210776*
ven11*Vpueeeavele7*
PO0113°VERRNA@VT337°
VLO111°
BUR114°GpOGUDvadenn210712°
bU0116°*PYLERLVeB113*
QoVL17*VPOPLEVUVT406°
200120°VRBRRAVLYO115*
Aun121*PpLVBVYQAVOLRUx*
bup12e’voVeweQLV117*
0VA123°PRARVENQVRLRLX
BoV124°*VPVERYVVB121°
000125°VEAVRDVVOLLL
20v126°Qp0eRdwo123*
vun121*VPLRVEAT 112
00n130*Q00erY©LB125*
WU0131°BRRVVEAVALOL
(1%
A0AVRL*
000000©EO131°
Q00135VNIVVRVALV
P0V136"ApveneAvV133°*
V0V137°V0RRO0VLOLDL*
P0V140*VPVVVEVLRL13S’
V20141
*Pp000L©11314°
Yon14e’poRwveQvoL137’*
ApVPER©V1B501°*
QpBRRDVeA141°
A00145°VV0LVNOLOTS564°
VU146VPVROOPLBL43’
0VOBY14T*VPVLVEDllv4ee’
Vob150*2000ve©UVA145"
PO01S)1*2e0pYLV1B515°
vov152°*VebeVeVWViILT*
VOR153°VRUEYe010532°
0RV154°YeREOY®Q2VOIS1*
900144°*
ERROR
TEXT,.,
ALL
CONSTANT
ADR(VINT)>
15960
ADR (ABS)
15980USRLOC:ADRCILLFUN)
160001FNLENGTH,
<AUR (FRE)
IFNLPTSw,<ADR(LPOS)>
16020
FINITIALLY
NO USER
ROUTINE
ADR (FNINP)
16060
ADR (PUS)>
16080SGURFIX:16100RNDFIX:
ADR(SGR)
ADR(RND)
16120IFN<
EXTFNC,
16140
ADR(LOG)
16160
ADR (EXP)
16180COSFIX:16200SINFIX:
ADR(COUS)>
ADR(SIN)
162201FN<
EXTFNC,
16240TANFIX:ADR(TAN)
16260ATNFIX3ADR(ATN)>
162801FN<
LENGTH,
ooe127°*
V0R134°
PUV145*
WORDS,
CUNSTAN
ADR(SGN)
15940
16040
vor135°
TABLES,KESERVED
ALL
QVR1OS*
Vev115°
wony3e’
TEXT,.,
>
ADR(CINT)
15920
VoV106*
PAGE 4
WORDS,
ERRUR
15820
15900
ven10/7°*
190=5EP=75
TABLES,RESERYVED
16300AUR (PEER) >
16320DSKFUN, <ADR(DSK18)>
16340STRING,
<
16360ADR (LEN)
16380AUK (STRS)
16400ADR (VAL)
164290ADR (ASC)
16440AUK (CHRS)
o
.
S
svav
MAL
GATES/ALLEN/ZDAVIDUFF
6=5EP=64
03311
AW1SS*deorrY210552
VoR156°APVVLEBVR1S3’
veu157°Vpvvwe@10631°
VU160V’PPVRVOVUR1SS’
QOU161*PRORRYV10643’
QeR162*QgorVRQLPLIST*
MACKRO
PPOPNE
AVRLTL
VU0164°BROAVYVLOLTL
P0B165°vRAOVALVVL1T3
Vo0L166"VRRVVYavu17s
Wuv167*DpLEBLVEBLTT
V0VITL®
GuRDBe
BPOPBD
VeVL2Y
PLAL10b
ADR(RIGHTS)
16500
16560IFE
DEFINE
,<
LENGTH=?2
ADRP(X),<>>
OPTAB:
121
TABLE CONTAINS
i THE
16660ADRP (FADDT)
16680121
16700ADRP (FSUBT)
16720123
16740ADRP (FMULTT)
16760
ADRP (FDIVT)
16800EXTFNC, <127
16820ADRP (FPWRT) >
80
16880AORP (AND)
16900
ADURESS
70
ADRP (OR) >
i
iTOKENS17000iSIGNIFIGANTBIT
17020;THERESERVED
FOR
LI1IST
OUF
RESERVED
WURDS
ON
WORDS
i
170609=128=1
17080OEFINE
DCI(A),<G=0+1
17990XLIST
17100DC(A)
17110LIST>
17140ENDTK==W
17180FORTK=3w
17240DATATK==Q
GOTOTK=20
vveele1742017480GOSUTK=W
svacie17540REMTK=Q
17660LENGTH=2,<
17700
FOULLOWED
<
LENGTH,
L
16860
17040
ROUTINE
123
1676017360
Qvpesy
JUPERATOR
JPRECEDENCE
woLe1v
weoveew
CONSTANT
ADKP(X),<ADR(X)>
Q0peos
Penel1d
ALL
166492
16980
AT
TeEXT,,,
16620
16960
00veew
4w
ERROR
ADK(MIDS)>
DEFINE
16580
166002
PAGE
wOKRDS,
16480
16920
2001717
10=SEP=7S
ADR(LEFTS)
16840
PWov170°
725312
TABLES,RESERVEL
16460
16540
P00165°
47(113)
OISPAICH
IFTK==0
ELSETK=2=qQ
17780DSKFUN,<DCI"OSKUS">
17800LPTSW, <UCI"LPRINTY>
17820
17880<
LENGTH,
17940REALIU,
<
17960ncivoort>
PRINTK==20
ALWAYS
HAVE
THE
MOST
BYBASIC
F3
MCS
Bo8E
HAC
GATES/ALLEN/DAVLOUFF
bmSEP=64
03111
1001
1002
1003
MACKO
47
(113)
DISPATCH
#3312
16000IFN
1005
000237
18060IFN
1006
16100
181401FN
161607
1007000371
°20009000012418180
160600n372*20000020010116200
100909n375*00neneoveioe1010000374°¢2000002025t16220
16240
+128
1626005041
ovaed118280
18320TABTK=Q
1013
1014
TOTKz2Q
16340<
LENGTH,
1015©on377°20200920012318360wgn
1016200400000060000126wpw
1017
1018000401
¢ 2000001638009910316400wen
290402°0002501642016440
18460
102420024316500
1022veoead18540
1023av024s16560
1024
FMACRO
1026
1028
1029
024l16680
16720PLUSTK=0
16760MINUTKEQ
16889
LSTOPK==0+1=PLUSTKJCRUNCH
200276169001991AGREATER
00025718920G20+t00025716940GREATK=W000260189801ALESS
000000
1033
00027419000EQULTK=Q
168
1635aeee6l19020Q3G+t
1036CITErSY19040LESSTR=a
1034
veedute
000000
103719060
103819080
NOTE
DANGER
1039
104019100OFANUTHER
191201€,
104119140WILL
106219160104319180SECONU
104419190ANOTHER
1045
evne6e19240
0every19420
1067
1049
2e9306
1051
19660
19660
MCS
BnBO
MAC
1059
1060
1063
1064
OF
UNE
GREATER
CASE
IN
MAKE
RESERVED
IF
THE
SMALLER
WORD
O
BEING
Ta§
WILL
O
TABLE
THEN
A
THEN,
BE
PART
4y
CRUNCMED]
!
WORD
APPEARS
(WINP®
.,
AND
"TO"
IS
MINPUT®)
CRUNCHED
ATNTK=20>
GATES/ALLEN/DAVIDUFF
bm5EP=6a
03111
20306
ACKO
47
DISPATCH
19800
DSKFUN, <OCI"DSKIS">
<
STRING,
(113)
23112
10=SEP=75 PAGE
TABLES, RESERVED
WORDS,
19820
000565¢0000002000019900
000564¢90200000347419940
200565°¢
0005607
000567
¢
020570200000209161
03154
900564000571200000000572000000
000000
000020
200000
ause25?
2605606
noauTe’
19960
[
STMDSP:
ADK (END)
ADR (FOR)
199860AUK (NEXT)
20000ADR (DATA)
200570
00000000000204711°000000ovesTe’0000002065001069PITEI00020602005740000000041607
voosT6"20060ADR (READ)
Guais1t20080ADR(LET)
20100ADR (GOTO)
1070000620°1071000621
¢20000010720ove2*
00n603*@00eds1074000604900000avau1e*
1075o0o602”
10772006025° 200200
000606
* 000000
000601 2000001078ooos10*V04325°
200606
vo34ae’
000200
200000
ADR (INPUT)
20040ADR (01M)
000600
003I54°
20120AUR (RUN)
20160AR (IF)
200604
16792006111060
1061
1082vove1e”00000000R613°2000002006107
P00614"
©00000
2002020160AUR (RESTORE)
000000003170*20180AR (G0SUB)
1063
1064
1085200615©0000e0ovb16*00000020200ADR (RETURN)
0006172000002606127
004044*
oonb14*1086000620"@0au0e20220ADR (REM)
1087ovauTar
a00616°20240ADR(STOP)
0e0621°0000ee1088o0ne22*2000001089990625200000onsare’
n0o620"1650
109120260<
LENGTH=2,
000624°2000000oaeT4r20280ADR (ELSE)
1992000625°000000129300626*0p0RUYoupb2e”
003604
°20300ADR (TON)
1094000627
" 0000000e0624°1995#0063o000ADR (TOFF)
900631°200000003605°
000626720320109620340ADR(EDTT)>
169700v632”200000*
00000010980606357000020000630°199900n634*00009020360LENGTH,
<AUR (FNOUT)
1100000635¢@000ue0107257
no0e32"1161@0ve36*000090ovaer1®ADR (ONGOTO)
000637700A000aup634"2038011020U35667
060636°
010735°¢
000640°20400ADR (NULL)
20420ADR (FNWAIT)>
900640
"000000
110400064L?000090
1105a0064e°200000
1106000645°200000
4=3
EKROR
LASNUM==Q
200575
11¢3
WORD
OR
LENGTH,<
IFN
©00575°
000574
1076
T
F
MFORM
SIGN
THAN
LTS, <DCINLPOS">
000576*
1073
SUKE
THE1068
1066
THAN
EXAPMLE:1067
1065
RESERVED
SINCE
OP#+1=PLUSTK
SIGN
<
EXTFNC,
19600
1053
1062
2
WORK11}
HIGHEST
THAN
SURTK=20
IFN
19620
1052
1061
ANY
IFN
19460
105¢
1054
1955
1056
1057
1058
IF
OF
ONEFUN2G
19360
1048
BASIC
IN
,
NOT
#
19200
1046
F3
ARGUMENTS
STEPTK=G
1032
000437*
IN
USINTK=20>
1031
1930
(*S
NOTTK==u>
18640LI
LIKE
<
LENGTH,
ooeub
200250
avees)
1027
DOESNT
THENTK
=G
IFN
18600
1025
CONSTANT
L1ST
COMMAND
200240Quoede
ALL
OCIMCSAVE">
CONSSW, <DCI"CONSOLE">
OF
END
000240neozde
TEXT,4,
CASSW, <OCI"CLOAD"
12121019
1020
4=2
ERROR
SCRATK=Q
1011
000¢80
PAGE
WORDS,
LPTSW, <OCL"LLIST>
16080
1004
10=SEP75
TABLES,RESERVED
TEXT,.,
ALL
INUMBER
CONSTANT
OF
JTHATTAKES
IMARKSEND
LAST
ONE
OF
FUNCTION
ARG
RESERVED
WORD
LIST.
BASIC
F3
MLS
814BY
GATES/ALLEN/DAYIDOFF
MAC
6=SEP=64
03311
MACRO
47(113)
DISFATCH
93312
10=SEP=75
TABLES,RESERVED
PAGE
WORDS,
4=4
ERROR
11e72440IFNDSKFUN,<ADR(DSKOS)
>
110820460IFNLPTSW, <ADR(LPRINT)>
110920480IFNLENGTH,
<
1119
1111P006d4’
V00645*Vo0
DUOVOD©011323°
PURb4R’205veADR (POKE) >
111200usa6’©@0064/°*vv441L’
0VO644’205201113Povand
0p0E00ADR(PRINT)
20549FUNCTS,<AUK (DEF)>
20580LENGTH, <ADR(CONT) >
20600REALIO,<ADR(DUT)>
20620ADR(LIST)
111400ueS2°*nNePeve0e7411°
1115v00eS1°*0ePoRd0LRb46"*
-
TEXT,,,
ALL
CONSTANT
1116
1117
1118
0©veve52°
Vuobeen
0v3S4e*
0p0eS3°*0p0evY00R6S50*
1120900654©poee011072°
11210806550pReee0woeSe’
1119
1122
1123
20640
0V0veS6’
0V11245'
©@@06S57*0n0enyAURLS4*
0Q006h0*000GA0QL3705°
1126@vde6l*QuVevd0BRALSH'
VPBL6R*VPUARDVBR421"
200665°QUOPDYQLVL6L'
LENGTHw=2
,<AUR (DELETE) >
ADR (CLEAR)
207veCASSW,<ADR(CLCAD)
20720ADR(CSAVE)>
20740CONSSW,<AUR(CUNSOLE)>
2ureR
IFE<
LENGTH=2,
20820FRCTBL:ADR(FRCDBL)
VABRVYA006LS*VPALRYVEUpe6R’VEBRVE
PPADVRBOAVV4x
VUABE4L*2p840
0BU6TV*VVVORYVLVLRL*20860
00VETL®V0VRRDVVB666*QRVRALPOBVREL*
VUv6T3*BpAPADQUVAbLTV*
00V6T4*BRVLVEDVBRVYLR
Q00675*Vp0eREQURLTR’
0Q006T1*d0CVVEVLALT4*
V00TV’VBANVDPUALOD*
200T01°*PueALYQUobTeL*
Q00702*VEVEBDVVALBL*
00LT0B3*VeRLPDGVOTeL’
VPRV
BUDLALR
VANTA4*QpOR20VVDLALH
QvRT05*BPACADQveTee’
VOVTAL’2PPVURPVOVBUR
0ea707°*Q00eveVLLTR4*
NOBT10*PpON20VALV
MLS
BpBY
GATES/ALLEN/DAVIDUFF
MaC
beS5EP=6d
05311
ADR (SCRATH)
20800VUR6H4*
VODLTO’
BASIC
PRAVVOx
LPTSW,<ADR(LLIST)>
2066020680VD666
Q00667
*
d0V6T2*
Fs
VRVeVE
11241125
ADR(FRCINT)
ADR (FRCSNG)
20880;20900i2v9ee7TO
20949iBEEN
THESE
TABLES
APPLY
DONE
20960i
209800 BLLSP:
AN
ARE
MATCH
21000ADR (DSUB)
ADR (DMULT)
21049ADR(DDIV)
SNGDSF:
21100ADR(FSUB)
2i1eeAUR(FMULT)
47(113)
OISPATCH
23312
10=SEP=75
TABLES,RESERVED
PAGE
WOKDS,
GPOR0DEvLVOTOGL*VO0T12*GRRVPYVLRVRL*21140Wo0713*
YOVT14*
©GRANT15°200020
200000
VPPVQeBT10°*
©BOVOLVL
QveTie’21160Q00716
VoVT17*Q00000
DpOeveMVALOEL*
@eaT14*21180Ven720°*0PVVRRVLALRDxX212veADR(1SUB)
Av0B721*©VPOLVLD0QVeT16’wovT22*APPVVELVBUBLBO*21220ADR (IMULT)
0PNT23*VpoPRLQVeT20’VOVTIR4*
wwo725°VPVLVE
QpoweeBVAVRL*
weoiee’21240ADR(IOIV)
0oUT726*
Q007270pLRYE
000PVDPLALALN
QL0OT24’21260ADR (ICOMP)
>
1771717777776
GEmg
ADR(IADD)
DCL(X),<>
DCE(X),<@=de2
LIST>
IFE
LENGTH=2,<
0
Q=0
DEFINEDCE(X),<>
DEFINEDLL(X),<
0sQ+1
0C(x)
v>>
DCE"NF"
YVRT31*PnOVNedUYelle
PUY732*VeAveLAVR1RS
WoNT35*VEVRLYVL)L 3Y
VeV134°200LADQVVL24
VVBY4D
BOVT35*Pp00NeRPUUT736*200000QvBL2T7
PoB731°QoPvoeVLOL111
pan740"
veoray’
o
¢woeled
A"veol1v
wuor4ce”
npeT43*
)
0
0
VUNT744°VpUVVY
OCL"NEXT
QUeLLT
Quel12s
WVBVL2Y
VUOT45°VRVLRNYVPLVRL4L
0UN746°VPVPVYVLVVLIRE
vuuT4r*0plpLeVLa1LT7
VPOT50*BeoVRVeVUal1ee
VoRTS5v’VEPLVEMBYsee
WoB751°VePYVYPVOVRL
LT
BEEN
MADE
CONVERSION
HAS
(APPLOP)
iDOUBLEPRECISIONROUTINES
JSINGLEPRECISIONRUUTINES
TEXT,.,
ALL
JINTEGER
ERRTAB:
Q0VRL
TYPES
CUNSTANT
ADR (FCOMP)
INTUSF:
XLIST
VBOLVRV
HAS
NECESSARY
4=5
ERROUR
0C(x)
OPODRR
DECISION
ADR(FDIV)
DEFINE
DEFINE
PV0OT30*
THE
ARGUMENT
ADR(FADD)
VoNT711°*
PveT30"*
THE
ALL
TWO
ADR (DCOMP)
21080
MACKO
AFTER
AND
THE
ADR(DADL)
210290
21069
USED
OPERATOR
TO
ERRNF=zQ
WITHOUT
FOR"
ROUTINESBASIC
3
MCS
88U
Mac
GATES/ALLEN/DAVIOUFF
6mSEPm64
03111
1213
1214©0@752°000000000123
1215
1216
1217
1218©00753°
00@T54°
000755
©0O756°600000
0000PO
000000
B00CLY@UD1S1
VLOL16
000124
VLR1R1
1219
000757°
0000d0
HMACKU
47(113)
DISPATCH
23312
10+5EP=75
TABLES,RESERVED
21660
21660
ERRSNE=G
DCEMRG"
DCL"RETURNWITAOUT
©UOT60’G0U0UODUALLD00761¢0gODVC0VLOLRS1222
122300@762°
©00763°WOUOUD
000000DVQl22
000121224
1225DUOT64*
000765¢QARG
@PON0000117
00BI2e1226VY0765’VEVE0N0vDS2e1227V00766’000000PLRLOY1226
1229
1230
1231
1232
1233
1230©00767°
000770’
00QT71°
000772
600773200000
@00ELE
0000U0
@00RG0
00e0b0000122
00B10S
0ULI24
00012D
PEVI2E1235
1236
1237
1238000774
000775°
©00776°
000777°©00UE
000000
Vo00VD
000000LLD116
000LLE
@EB12T
VU1111239001000*0e0QUE0UD1241240
1241
1262001001
001002’
0010030A0WEE
200000
000200V00110
00VI1T
0001251243001004000000VVD1241244601005000000PVDLAE1245©@10@6’00000000OIET1246001007°2000000021171247001010200g000001231205
1249001p11°
001M12°0Q0QUE
000000@VOl12S
0VMI021250
1251V01n1e’
00191300BRUE
€00000OLO3LR
00OLEO000uesERRRGE20
OCEM QDY
1254001914°9000000UA117OCL"OUT
1255©@01015°0000000001251256
1257001016°
0010170000P0
00000C©V0O124
0UBL4L
aveeee
001020°
VP00OD
0010210200UE0UD10E
001022
001025¢@0E0NY
O@e0e0UOLAL
000104
©01024°000VVYVeB1VL
1263
1264
1265001025°
601026°
001026°€00G0E
000000
@r@ee000124
©OO1E1
000301
BASIC
MCS
808U
MAC
1266
OF
GATES/ALLEN/DAVIDUFF
b=SEP=64
05111
MACKO
47(113)
OISPATCH
93312
10=5EP=75
TABLES,RESERVED
VOOLADpreoen21820ERROD==
1269
1270001030'
901031°0P0E0V
0000000UD111
06A11421860OCL"ILLEGAL
1271
1272
1273@01032'
001033°
091034°000000
@0P00Q
0p00VO0UO114
000105
@CRLAT1274©001035'09009000B1011275
1276
1277
127801636’
V01037
0010407
001041000000
V000D
@00RE
00EQADV0OL14
0UOUAL
0UDI06
GOB1251279
1280
1261
1282001042
001043
001044
001045°€000
00000
G000
00000000116
00P103
0UDI24
00DI1112630010462000000001171284
1285©001047°
001050'@000UO
0000600UDI16
00VLAL1286001051000DG0B10S1287
1268
1269
1290001052°
001053
001054°
©001054°@0€PEe
00000
©0U0UE
200000000101
LUDI14
V00114
0003141291
1292
1293
12940010550000000LOLED
000005@01056°€000E00001172ERRFCzz0
DCEMOV!
OCLMOVERFLOW"
1295©@195/°20000000D1261296©01060°0000000001QS1297001061°000000DUV12E1295
1299
13000W1p6e’
001063°
001064°000LE
000000
00000000O1R6
©0VO114
0VOI1T1301
1502001065°
001865700MLVY
00000006@121
Wee32T1303
1304
1305
1366091466°0000000OOLAY
200006001067©00UUD00O1LT130700107000RO0UD1R513060010710000000001241309001072'000000B0PL4Y1310001075°@00UD0001171311
1312
1513
1314601074
001975
001076°
001071°002000
000106
20000C * 00BLAY
0U0VV0
000115
0e0uND
00ALDS1515@01100°000EU0BOPI1S1316001101€0000081171317
13518001102
0011037200000
0000UEoUDIR2
000131
21840
PAGE
WOKDS,
0000BE
1268
CONSTANT
ALLCONSTANT
60SUB"
DATA"
¥01027°
1267
ALL
@0O11T
12591260
1261
1262
F3
TEXT,,,
000130
1220
1256
d=6
ERROR
ERROK"
1221
1252
1253
PAGE
WORDS,
DCENSN®
DCL"SYNTAX
4=1
ERRUR
TEXT,,,
OCE"FC
EKROVESG
DCENON"
DCLMOUT OF
FUNCTION
MEMORY"
CALL"BASIC
MLS
F3
808U
HAC
GATES/ALLEN/DAVIDUFF
bSEP=64
03311
15190v1103°200000CITEER
1320v91104°(oe
1323001105°2000000uo12s
1524
1325001106°
wvo1107°200000000116
2000001326001110°000240000104
200105
1327
1328
1529oe1111°
ou1112°
001113°000000000106
000000000111
000000200116
1330
1331
1532001114°200000001115°
w0116’00a0ve000105
000124
00000000040
1333001117°200000ove12s
1334bo1120°00000000B124
1335o01121°209000000101
1336
1337
13360o1122°
wve112s*
vo1124°2000002uo124
0000V200105
€00000200115
1339vo1125°200000000185
1340
1321
MACKO
47(113)
DISPATCH
Lrrern
oo1126°000090000116
wvor127°20000000124
1342po1127°0000000eeses
1343001130°0000000060¢
1346001131°200000ovel2s
1347001132°200090voni2sS
1348
1349
1350001133¢
0011347990000000102
001130000001351ou1138°000000ovalee
1352
1353001137°000000099111
001140°000000900120
1354
1355p01141°
@g1142°000000Prryen)
1344
DCL"UNDEF INED
200010
000000
CONSTANT
ALLCONSTANT
STATEMENT"
000000200040
9@1145°000000000117
o114900000000125
001145°
wo1146°000000[rrTen
1360
1361
1362©001147°
v01150¢
90115171563
1364
1365001152°
¥01155°
001154°1366
1367001155°
001156700000015660011567200000200105
000305
1569001157¢e00000e
000000
OUT
OF
RANGE"
000Eas
200000000117
200000000106
200000e
200000ouo12e
000000000101
000060oealle
09000000107
1370
DCL"SUBSCKIPT
000103
1556
00oE1)
ERRBS.
1371
DCENDL"
NC5
608U
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=b4
03
1372wo1160°200000venize
1373
1374
137562116208080200165
av1162*
001163°200000neeled
090000veal1l
001164°200000Q01165°
©001166°
b0li67*000000ouei2s
w01170"0000000eel1l
1581001171°000000000117
13820v1172*2000000eo116
1383001173°P00000
001174¢
200195
200000200116
206104
001175°20000¢Pre
001176¢
001171°000000000101
200000ovnee
woo12e
001200°0000001389001201°0000001390vo1202°000000w0131
1391ovo1202°900000000331
1392201203°000000000eRe
w01204°000000000104
13960u1205°200000000111
1397001206°0000001398
1399001201°0000960o1210°0va126
000111
avo1es
16400v01211°0000000ea111
16401
1602ovo1212°
ww1215*00000¢000117
000p0eauoi16
1603O01214¢0000001004W01215°90000020102
14p5
1406
1407wo1216”200000200131
001217°
W01220°200000€00040
200000000132
1406we1221*000000000000000105
oe0122
03112
10=SEP=75
TABLES,RESERVED
PAGE
WORDS,
4=9
ERROR
DCLTREDIMENSIONED
200000000117
ERRDD=20
DCEN/@"
DCL"DIVISION
BY
1409o01222°0o1223°
ow1223°000000006317
001224°[000000
00013ERROVO230
DCLMILLEGAL
ZERO"
DCE"ID"
1414
1415op1225°000000000111
16160v1226°000000000114
1417
1616w1227t
0v1230°000000000114
200000000105
14196012317000000v
1620
1621wo123e*
001233°900000000101
@000e01622w01234*000060200040
1423001235¢frer[
1624vo1236°LT0111
200114
TEXT,.,
ARRAY"
00004y
1410
1411
1412
1613
22160
000101
voeele
000000
47(115)
DISPATCH
000105
0000001585
1593
MACRO
200115
2000001386
1387
1388
1394
1395
ALL
000123
1358
1359
1364
TEXT,,,
DCE"BS"
13571380
4=8
ERROR
ERRUSZ2Q
1345
1376
1377
1578
1579
PAGE
WORDS,
OCEMUSTM
1341
F3
10=5EF=75
ERROM
1322
BASIC
@312
TABLES,RESERVED
DIRECT"BASIC
F3
MUS
BuBO
HAC
GATES/ALLEN/DAVIOUFF
hmSEP=64
03311
1425
14260012377200090ova12e
wo1240°200099000105
1427w2410000000200103
1428wo1e4e’0000001429vot262t000000[rryen
ovases
14300212450200000200000
1431
000014
1432
1433
200000200124
1435Qul264t
ve1245¢000060Pe0131
14360a1246°0000000eo120
w1241t
001250000000200105
000000200040
1439201251000000144¢
1441
14420a1252°000000900111
001255LITIE]
0012547000000
0000001443001255¢000000008101
14440012567
001257°000000vep124
900000000103
1434
1437
1438
1445
0012607200000200110
1447000000200316
1448
1449
145000126100000020ouee
14510e1262°
0012637000000
1453
1454
LI
000117
009125
w0014
0012647000000000¢40
90126572000001455pe12606¢000000200117
1456
1457vo1267°000000000106
0o1270*000000000040
1458
14590e1271°
vulare’2000001460pe127st200000oee12e
1461vo1274°900000000111
1462
14630o1275¢000000aeo116
1464
000000
0e1276°¢000Raw
wo1271*200000
EKRID==Q
DCENTH
22360OCL"TYPE
000125
009126
1467vo13p2”000000000121
1468001305¢200090000105
0013047000000
209305
"e1305°voveen
000uan
no1306°000090
oeo1es
1475©01307°000000
ovo124
1476©e1316’000000
ova1ze
1477“o13117vuveve
o0d111
BA sicSGATES/ALLEN/DAVIDUFF
F322380ERRTMZ3G
224000CE*OS"
22420DCLMOUT
HAC
avee16
808¢
6=SEPm64
05111
wo1312°ag00e200116
1479001313°#0090o0a107
@000ue00ALae
1480
1461n01314°001315700000014820013167000000000117
148320000000R117
1485001317°
0013207
v91321°
200000
2o0eue
SPACE"
ERRS0220
200000000117
0e1323°2000e0000116
1488no1324"200000e
146900132470po0e000037
1490001325¢200000200000
vo1326°
001327°000090000123
200000oo0124
001330°Prrrnovo12e
088111
[
1491
1492
001331
000000
001332°000000ouo116
1498@e1335°¢000000oeo1ar
1499
1500001334°000000001335°000000000106
1501
150200133200000Q00117
000000oea1ee
1503[UTEETAd
001340°
MACKO
47(113)
DISPATCH
93112
TOO
10=SEP=75
TABLES,RESERVED
LONG"
PAGE
WORDS,
000000000115
150401341000000oea12s
Qe1302°000000000114
1506P01343°0000000e01¢1
1507001344°000060000K4L
[Trren
1508001345°(T1509o013a6°©00000151¢©o1347°200000Qw117
1511200200000040
1512@0009e000103
1513200006000117
ERRLSZ3G
DCENSTY
DCL"STRING
FORMULA
0ua11s
awe117
1514@000001515200000oue120
1516200000000114
1517“eo0ue15180013577000000000105
000130
1519001357°000090000339
1520001360"9000000oaLeo
onow2e
ERRSTz3G>
<
LENGTH,
1522
1523
1524
1525013627900000200101
15260013637[00116
1527
1528
152908136470poRNe00047
001365°000000000124
0013607
v01367°000000000040
000000000103
DEENCNY
0e1361°
400000
dril
ERROR
P
15¢5
1521
OCL"STRING
TEXT,,,
000114
va132e”
1530
STRING
LI
1486
1496
OF
ovo124
1487
1497
CONSTANT
MISMATCHM
DCEMLSTM
1478
1494
1495
ALL
STRING,<
1473
1493
CONSTANT
000103
200000
14701471
1464
ALL
0ea040
200000200000
1474
4=10
ERROR TEXT,,,
000107
vo1300°ve1301°
1472
22300
2232022340
PAGE
WORDS,
w124
1466
001304°
10=SEP=T5
veaies
1465
1469
©3i12
TABLES,RESERVED
000115
0212607
200000
47(113)
DISPATCH
200115
1446
1452
MACKO
000103
OCL"CAN?T
CONTINUE"
TOO
COMPLEX"BASICL
F3
MLS
8080
MAC
1531
1532
001370°
©e1371°
GATES/ALLEN/DAVIDUFF
b=S5EPmb4
B5211
vpowpe
000poe2¢o117
@eA116
weBl24
QU011
15330013720p@doen
1534
1535001373°
0@1374°0p000R
0p0o0e
1536
15370Q01375°
©01376°0vpopee
0povee
1538
1539W©V01376°
0©01377*©pORVO
GpveYe
1540
MACKO
47(113)
DISPATCH
03112
4=12
ERROR
TEXT,,,
ALL
CONSTANT
wea1es
00@105
VVB3ES
VUDLRD
Gooeel
ERRCN==w>
FUNCTS,
<
1542
DCE"UF"
1543
1544001400* 000000
0014021
° 000000QLO12S
0QwOlle
1545©01402*0000000QVAL104
1546©01403°VpVpveVL0105
001404°
0Q0QVE
0Q01405°Opevedpevo1L)
©01406°0000VRWLV116
1550©V0140@7°*VEDOYR©LVR1085
1551091410°vooeoe0Beol104
1552©901411°0000002VRL4Y
1553091412’Beoeedodwoles
1554
1555©01415°
©0@1414°0PV0LY
000LP0QUBL1RS
00B10S
1556©01415*0poevewval2e
1557w©@1410'Qp0BLe0QLVALLY
1558©01417*0uevveovolee
001420°VpOROEQVO12S
001421VpVRPR0QLB116
©01422°
0n0RPD
DCL"UNDEF INED
USER
FUNCTION"
0Q0O106
15481549
1561
PAGE
WORDS,
Q0116
1541
1547
14=5EP=75
TABLES,RESERVED
V0V10S
1562©P1423°Vp0EVEwvoO124
1563©01424°0pPRv0Q00111
1564P01425°QpoveDL2117
P01426°ApYRRRQL1116
Vo1426°VROLVLQVBS16
Vo1427°vEvVReQLLLRY
ovevae
2er20
ee’en
ERRUFzzU>
PAGE
.
=
BASIC
F3
MLS
808¢
MAC
GATES/ALLEN/DAVIDUFF
6=5EP=b4
05311
MACRO
LUW
47(113)
SEGMENT
935:i12
==
KAM
1@=-SEPm75
==
LUW
JIE
THIS
1571422760SUBTTL1572e8uei15732eseeTHIS157422840CAN157182e8elBE KEPTIN
157622860PROGRAMINSTRUCTIUNS
15772e9u0
1S
Bt
SEGMENT
THE
KEPT
PAGE
"VOLATILE"TM
IN
KOM,
A ROM,
5
STUFF
IS
== KAM ==
STORAGE
ANY
BUT
NOT
IE
AREA
CONSTANTS
MUST
IN
CONSTANT
THIS STUFF
AND
IN
BE LOUADED
IS NOT
NONE
OF
THISAREA
IN BYTHE
CONSTANT
IT
CANNOT
RUM,
1578
1579
©201430°
0PVOVE
0LPES4
22940
BUFMING
1A
COMMA
(PRELOAD
22960JUSED
BY
156122980JUATA
POINTER
1582
158325000
2302vJCOMMA OR TERMINATOR
JTYPE IN STORED HERE
0014317
BLOCK
BUFLEN
INPUT
OR
1580158423040JDIRECT
158523060JHERE,JMUSTBE
158723100JTHANDSCYMP
1568e31ee158923140
1586
235080
STATEMENTS
REMEMBER
JVALUES
JINTO
AT
IN
OR
SINCE
STARTS
EXECUTE
INPUT
A LOWER
OF
==WHICH
PRINTHEAD
23160IFNLPTSW,
<159123180LPTPOS:BLOCK1JPOSITION15922320ePRTFLG:BLOCK1>JWHETHEROUTPUTYGOESTO
1593
159423220
23249INON=ZEROMEANSSENDOQUTPUT
IFNCONTRwW,
<23260CNTWFL:BLOCKJSUPRESSOUTPUTFLAG
1595
1596
0e1541°
00i1542°
232890
DIMFLG:
1>
BLOCK
1
JIN GETTING
LPT
A
POINTER
A
71T
IS
23320}1IS
BEING
1599233540JOIMFLG AND VALTYP MUST BE
160023360JCONSECUTIVE
16k
WU1545°
1603
1604
23360IFNSTRING,
<
234peVALTYP:BLOCK
1
23420
V01544
23435
ITHE
IN
OPRTYP:
TYPE
THE
JUSED
JIN
160623437JOPERATOR
vo1544°
25440
DORES:
BLUCK
160823460FTURNED
160923480JBEING
1610
23500
CAN
ON
UR
IN
CANfTY
THE
SCANNED
8K
CRUNCH
WHEN
CRUNCH
BECRUNCHED,
ISTRINGSWON'T23520MEMSIZ:BLOCKeJHIGHESTLOCAYIONIN
23540TEMPPT:BLOCK2JPOINTERATFREE
23580TEMPST:BLOCKSTRSIZANUMTHMP
16151616©o1570°e56u0OSCTMP:QV1575*23620
1617
1618
1619
1622
W@V1575°
FIRST
JINITIALIZED
TO
JSTURAGE FOR NUMTMP
BLOCKSTRSIZJSTRINGFUNCTIONS
FRETOP:BLOCKdJTOPSTRING
IFNLENGTHISTRING,
<23668TEMP3:BLOCK
OF
JUSED
TO
HOLD
23680FINGARBAGE
2370@JANDUSED
23720JUSED
IN
23740JARKAY
23760
<
LENGTH,
RESfD
TEMP
TO
BUILD
DESCRIPTOR
TEMPST
ANSWER
DESCRIPTOR
SPACE
#
OF
HIGH
LOC
FOUND
COLLECTION
MOMENTARILY
EXTENDED
VARIABLE
WORDS
UNGUOTED
TEMP DESCRIPTORS
FREE
VARB
SO
MEMORY
POUINT
23640
4
BEFORE
"DATA"
bBY©o154/°©01551°
IT
NUMBER
MOMENTARILY
0v1545°1614
WHETHER
NOT
1=STRING
UPERATOR
1612
23560
VARIABLE
OR
APPLICATION
1611
1613
LPT
REMEMBER
"DIM"TM
@aNUMERIC
EXTENDED
JWHETHER
TO
COPY
LOCATIONS
STORE
23436
1607
THE
FOR
MUST
INDICATOR
8K
TO
1605
TO
TO
233001596
DONE
WON'T
IT
LPT
1597
1601
IMPORTANT
OF
BUF,
STRING
STATEMENTS
SPACE
A
OUT
SMASHES
1590
OF
THE
ON
ADDRESS
ASSIGMENT
DIRECT
STRING
ROM)
STATEMENT
ALWAYS
BY
BY
FRMEVL
FOUT
HANULING
TEMPORARY
HEREBASIC
F3
MLS
8p8¢
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
05111
MACKD
LUW
47(113)
SEGMENT
23312
==
KAM
10=SEP=75
==
1624QO1577°23760DATLIN:BLOCK
1625001601°23800SUBFLG:BLOCK
IE
THIS
PAGE
STUFF
S=1
IS
1>
NOT
CONSTANT
JOATALINE
JFLAGWHETHER
162625820J"FOR"
162723849JTPOINTER
1628
23860
1629
1S0
23900
d0éle0e’
23920
1632
1633
JTHIS
25880
1630
1631
23940
ovolens’
235960
JUR
TEMPS
A
REMEMBER
BEFORE
BE
WE
JTEMPURARY
FOR
23980INEWSTT24000FU"LET"24neeJPOINTERS163724040JUNEXT"SAVESITS
iCLEAKCSAVE[H,L)
2une60
001605°
24080
TEMP23
24100
PRESERVED
INEXTENDED
JUSED
JARRAY
BLOCK
2
164424180164524200IFNLENGTH,
<
NUMBEK
TEXTPUINTER
BLOCK2JOLD
16470016135°24240OLDTXT:BLOCK2>J0LL
STKTOP:BLOCK2
24260
v01615°
24280
65535
JPOINTS
JTOP
AT
FOR
POINVER
OPERATORS
FOUT
WHEN
TEMPORARY
DIRECT
STATEMENT
LOCATION
YO
TO
INIT
24320
24340JACCORDING TO
JTO ALLOW FORMEMORY SIZE
S50 BYTES OF
165324360JCHANGEDCLEAR
165424360JTAN
001617*
24400
TXTTAB:BLOCK
VARTAB:BLOCK
244e0
24440
we1621°
24460
BEGINNING
OF
WHENEVERTHE
CHANGES,
SPACE
SET
SCRATCH
JPOINTER
BEGINNING
JTABLE
24600FINCREMENTED
24640}SET
OF
THE
YO(TXTTAB)
ARRAY
BY
6
WHENEVER
7A NEWw SIMPLE VARIABLE IS FOUND, AND
STREND:
BLOCK
1END
TO(VARTAB)
OFSTORAGE
BY
IN
JINCREASEDWHENEVER
e4rveJORVARIABLE
SIMPLE
JSET
DATPTR:BLOCK
2
IFELENGTH=2,<
24760
JAYT
TRCFLG:
BLOCK
10
(VARTAB)
JPOINTER
1>
THE
CLEARC,
USE
24680
24800
SIZE
OF
("NEW"),
TO
24560
24780
TEXT
BEING
SIMPLE
JPROGRAM
JBY
OF
AFTER
STAKRT
JUPDATED
24740
SPACE,
WITH
INIT,
TO
JVARIABLE
247¢9
vo1631°*
CHANGE
BY
24520
24660
vole2r”
YO
JOOESN®T24509
264620
wulees*
JPOINTER
JPOINTER
ARYTAB:
NEXT
STACK
STRING
COMMAND
24480
24560
EXECUTED
THE
EXECUTE
ARGUMENT,
JSETUP
24540
vu1e2s’
A
UP
STATEMENTS
BE
FOR
BY1651
1652
1657
SET
USEJINITIALLY
1656
*C
TEMP
BY
BY
24300
1655
AND
HERE
HERE
1650
BY
INPUT
VARIABLE
#
LINEOLOLIN:
1649
LINE
TO24220
HERE
HANDLER
JSET©@u1611’
1648
VARIABLE
JCURRENT
1646
INPUY
CODE
"FQR"
TEXT
EVALUATOR
241¢0CURLINS
FOR
BE24140
24160
(H,L]
NUMBERIC
HERE
JMUST164¢
vole607*
SAVES
JFORMULA1641
1643
SAVES
STATEMENT
1636
1640
IT,
DOING
REAU
1635
1639
PTRGET
DETECTED,
CLEAR
ARE
1634
1638
ALLOWED
TURN
PTRGET
wHETHER
ERRORS
VARIABLE
FUNCTION
CALLING
WON'T
AND
FOR
SUBSCRIPTED
FETCHING
ON
JFLAGS
==
USER=DEFINED
ARRAYS
FSTRINI
FLGINP:
#
AND
BY
A
NEW
IS
ARRAY
ENCOUNTERED
CLEARC,
TODATA,INITIALIZED
ZEROINOF
FRONT
7@ MEANS NO TRACE
TO
POINT
(TXTTAB)
InN PRUGRESS
°
.
BASIC
F3
MLS
8uBY
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=b4
0G35311
MACKOU
LOW
47(113)
SEGMENT
24840
24860
JTHE
IFE
@3:12
==
KAM
10=SEP=75
==
IE
THIS
PAGES=2
STUFFIS5
NOT
CUNSTANT
FLOATING ACCUMULATOUR
LENGTH=2,<
Vo1632°24880BLOCK17 ITEMPORARY
wo1635°24900OFACLU:BLOCK4>1 (FOUR
VU1637°24920FACLO:BLOCK37 ILOW
vole4e’24940
24960
2498021 (MIODLE ORDER UF MANTISSA)
3 (HIGH ORDER OF MANTISSA)
7 (EXPONENT)
FAC:BLOCK
2s50eeIFELENGTH=2,<
BLOCK
1
25000
201644
25030
20164525040ARGLO:BLOCK7
wo1654°
v01655°25060
25080ARG:BLOCK
BLOCK1>
13
wo1e72*25100
25120
LENGTH=2,<BLOCK
LEAST
LOWEST
ORDER
OF
FOR
COMPLEMENT
7 (TEMPORARYLEAST
OF
BYTE)
DOUBLE
PRECISION)
MANTISSA)
7 LTEMPORARY
JILOCATION
OUF
SIGN
SIGNIFICANT
SECOND
7 PRECISION)
IBUFFER FOR FOUT
35=13>
SIGNIFICANT
OKDERS
ARGUMENY
IN
MSB)
BYTE)
FOR
DOUBLEBASIC
F3
MLS
8080
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
P3311
MACRO47(113)23312
TEXTCONSTANTSFOR
1693e514v1694251601695251601696252001697252201698252401699
170025260
25260ERRORS,
17¢e1
1702
17¢3
SUBTTL
001720°*QpoevaQB4
17650v1721*Apoeoe000111
FOKMESSAGES
MUSTbE
WILLCOPY
USERI8
STORED
OF
LENGTH=2,
<
DC"
IN
001160QVERAER1708Qe1723°VpRLGR0LLR4Y1709©@1724°Cp0OREYVELOLRY253601710©01725*0eR@0e0POL1S25400ACRLF
1711Q01726'Ppovee0LVE121712©@e1727*Qpopoe00011725420Dc"oKk"
1713©@01730°Qove0eVVo1131714
1715©001730°
©81731°*VpoRLE
0pvewe0RB31S
0Wbov1S254401716
1717©01732°
©01735°0poeve
2000000vowvle
WVLOOKRY25460Q01734vpoewe020BL1S
0poeveovevie
©01737*epoeeeaunlee
9u1736*
Vpbove
PuUdlee
1723©01740°QQOV0VE0OLB10S
1724
1725
1726©R1741°
©¥o1742°
©01742'Vp0EV0
0plvo
000Q00VEA1Q)
0ve11S
VUB313
1727©01743°0p0QUDV6OVOY
1728
1729
ELSE
STRLIT
PRINTS
BASIC
THEM,
WwILL
THIS
LOOP
IS
BAD,
GEYTING
SINCE
"QUT
OF
1F
THE
STRING
SPACE"
ERROR"
DC®
VPLRUE‘@01735°
OR
0>
INTXT:
Vpkeon1722
DSCTMP
SPACE
IFN
OUT
VEKSIONS
STRPRT
ERR:
25360
201722°
1721
PRINT
ALL
STRING25320©01723°1720
In
BEFOREe53ee17¢61719
6
FOR
ABUVE
THEM
OUT
1707
1718
PAGE
OUT
CONSTANTS
NEEDED
25340
1704
10=SEP=75
PRINT
TEXT
*
'}
ACRLF
]
25480IFN
LENGTH,
<
255v0BRKTXT:
ACRLF
25520
DC"BREAK"
25549
25580
3
]
BASIL
F3
MLS
8uBYU
MAC
GATES/ALLEN/DAVIOUFF
6=S5EP=64
05311
1ACKO
47(113)
23312
10=SEFw7S
GENERALSTORAGEMANAGEMENT
173025600SUBTTLGENERAL
1731
173225620
25640iFINDPASSED173325660i
173425680i
25700F NDFOR:
1735
1736
1737
001744°
©01745°001020
apvoveQ0OLA)
0oove4*
001746°GoGLOWe©WVAIR6"*
1738
A
PAGE
FORENTRY
IN(D,E),
LXI
7
ROUTINES
STORAGE
OUN
MANAGEMENY
THE
STACK
H,4+SCOVE
1739001747°00loueQUOLT)25740
©@175¢*UplnveQLBLTe25760
17641
1742001751°
0017520pleno
volpoe@LLoK4s
0QLR3T61743©v01753°0povee©veeol1744
1745001754°0p1pRQQUO30R0
THE
VAKIABLE
JIGNORING
257e@
1740
ROUTINES
WITH
JANU
THE
EVERYUNES
RETURN
DADSPiSUBROUTINE,
MOVAgMJSEE
25780
25800INX
CPIH
FORTK7IS
THIS
SO
LOUPER:
PUINTER
WHAT
SEY
TYPE
OF
THING
ENTRY
A
IS
258¢0
25840RNZ
LENGTH,
<iNO25860PUSHMFGETVARIABLENAME174725880XTHL>1748259¢eLENGTH,
<7100EQUIVALENTOFPUSHM
18SLOWER
001755dploewQeelle25920MOVc AL1750Q01756GE1vNDQVAL4LS25949INXH1751
1752Q@@1757*
W@e1766’vpleve
Bulove@volee
0@VRLAES25960
25980MOV
INXByM1753
17540@1761°
001762’Q01000
G01000QOR34S
0€015126000
2bvedMoV1755©Q01763°0Plp0eQAVR14026040MOV1756001764°0pleonQ0017226060MOVA0JFORTHE
1757©001765¢0010000UR26326060ORAEIWEMATCH
v01766°VV1QOD©VVBSSS261090O1767*V01000@b@B31e26120JzPUPGOFFPOINTING
B,$COVE+13JTOWIPE
i1FFOR
0O1770°Qp0ORVEQL1774GuBERE@P1745°0B1772*QplevoVvo3SS26140
NO1773°VolERR0QLRS4AT26160
We1774°Vo1CRR©VOELRL26180
PO1775°V0A0rdQLRO15*VO1776°0pORLDVBL1TT0*WOLTTT*
THE
STACK
OK
1749B0L1771*
UN
FOR?
1746
1760
THIS
(HM,L)=SP
OF
STACK
"NEWSTT"
ADDRESS
/
XTHL
H
jPUT H
JPUSH B
H
L, C
ON
/ XTHL
H,B
JMAKE
POPGOF §
V0100QV0eS4l2620000RN0L*Vp100eQU31026220002001°001090000011262408
po2ene’VP1vneQLA30326260LUOPER
A02003*Voov0eVB1750°002nN4’PPDURR0WVLTTS*
"NEXT"
ON
SURE
STATMENT
WITHOUT
AN
ARGUMENT
ANYTHING
WE
TO
RETURN
THE
OUY
A
[(D,E
VARIABLE
FOR
ENTRY
H
JTRY
MATCHES
THE
NEXT
600U
ONE
26260
26300THIS26320
26340IT26360(H,L)=ODESTINATIONOFHIGH
26380(D,E)=LOWTOBE
(B,C)=HIGM
26400
IS
MAKES
THE
BLOCK
SPACE
BY
TRANSFERKOUTINE
SHOVINGEVERYTHING
AUDRESS
ADURESS
TO
FORWARD
AUDRESS
TRANSFERRED
BE
TRANSFERRED
26420
26440A
26460OF
CHECK
SPACE
IS
MADE
REMAINS
TU
MAKESURE
BETWEENTHE
A
REASONABLE
TOP
OF
THE
AMOUNT
STACK
AND
THE
MIGHEST
LOCATIONBASIC
F3
NCS
BO8Y
MAC
GATES/ALLEN/DAVIDUFF
bmSEPmGA
03111
MACRO
47(113)
GENERAL
@33i12
STORAGE
26480
10=SEP=75
MANAGEMENT
TRANSFERRED
PAGE
(=1
ROUTINES
INTO
20500
26520}
ON
EXIT
[H,L)®[U,E)SLON
[B,C)=LUCATION
LOW
WAS
MOVED
INTO
26540
©02005°001000
0U@31S
26580
CALL
REASON
©02006°0pLOUR002045*002007°400600V0200S*002016°80160000030526620©02011°60100000@34S26640ATHL
002012°
0020157
V02014°
0020157001000
001000
001000
001000000301
©0A347
00Q1T6
©0VRLGE26660
26680
26700
26720POP
COMPAR
Moy
STAX
20201670100000031026740RZ
0020177
002020°
002021°001000
001000
801000V0AC1S
ALRL53
00030326760
26780
268000Cx
ocx
NP
092022°
©02023°000000
000000V02013°
002006
"
JCHECK
26600
JSURE
BLTUC:
PUSH
BLTLOP:
UESTINATION
TO
THESTACKWON®T
JEXCHANGE[5,C)AND
MAKE
BE
OVERRUN
(H,L)
JSEE IF WE ARE UONE
JGET
THE WORD TO TRANSFER
TTRANSFER 1T
JBACKUP
FOR
NEXT
GUY
BLTLOP
26820
26840THIS
26860OF
26880STACK,
KOUTINE
LOCATIONS
26900
THE
IS
USED
REMAIN
CALL
CALL
IS
TO
MAKE
SURE
AVAILABLE
FOR
A
CERTAIN
NUMBEK
THE
&
GETSTK
26920NUMBER
26940
26960
26980THIS KOUTINE
AN ARBITRARY
OF
2
BYTE
ENTRIES
NECESSARY
27000
27020(I,E,
IT 1SANY RECURSIVE ROUTINE LIKE FRMEVL)
ALSO CALLED BY KOUTINES SUCH AS GOSUB
27040
27060WHICHMAKE
MUST BE CALLED BY ANY KOUTINE
AMOUNT OF STUFF ON THE STACK
PERMANENT
ENTRIES
ON
THE
WHICH
AND
PUTS
FUR
STACK
27080
27109
j
27126}
ROUTINES WHICH MERELY USE AND FREE UP THE
NUMLEV STACK LOCATIONS NEED NOT CALL THIS
GUARANTEED
27140
0020247
001000
000343
27160
GETSTK:
XTHL
©02025°0100020011627180MOV002026°
©02027°0P10V0
001000WEQR4S
©¥OOS4321220
27240InNX
XTHL21260
21280PUSH
LALOSTREND
¥02030"
©02031°001000
0010000¥E34S
00OES2002032°000000@B1625"002035800000Ob2G2e2’002034°
0020357
©02036°001000
000000
001000BCOLE6
ACOEQE
VEVE1l27300VI8,0
213200AD[
©02037¢001000GUAV1L213400AD8
©02040°
©82041°001000
0000000UO315
WV2EAS’21360CALLREASON
JGETARGUMENT
TPUTBACK
ISAVE
JSEE
INTO
RETURN
(C)
ADDRESS
[H,L]
IF
WE
CAN
HAVE
THIS
MANY
e
L4
BASIC
F3
MCS
6080
MAC
GATES/ALLEN/DAVIOOFF
6=SEP=64
05111
MACRO
47(113)
GENERAL
93312
STORAGE
10=SEP=75
MANAGEMENT
1636002042¢00000C1837002043°001000000341POP
1838002044°00100000@311RET
PAGE
7=2
ROUTINES
002632°
JRESTORE
(H,L]
1639
1860
1841(HyL)=
1842
1643(H,L) 1S EXAMINED TO MAKE SURE AT LEAST
LOCATIONS REMAIN BETWEEN IT AND THE TOP
SOME
AUDKESS
NUMLEV
OF THE
STACK
1844
1845
1646002045°0010000UR325
1847
1648002046*
002047°801000
00100000553
00O4]
184900205019000V
1850
002051
0000w
REASON:
11T726°
PUSHO
XCHG
Lx1JPUT
(A, L)
IN
(D,E)
HySCODE+65536=2#NUMLEY
1SETUP OFFSET
002052°
002055¢@0100e
@oioee00OGT}
0083470AD
COMPAR
185400205400100@UV3S53XCHG
1657
1658002057°
002060°001006
GOOCLD008036
00ACRT
002055°
002056¢
0010Me
021000
00@321
0V0320
1659
1860
1861
1665
OF
GUARANTEED
JLOCATIONS
1852
1853
1862
1863
1864
(0,E)
0U2041"
1851
1855
1856
JSAVE
002061°
GW2062¢
002065¢
601000
000WOD
VU0URL
0UO303
002102°
0W2050°
sp
POP
RNC
0
OMERRSMV
£/ ERRON
IFELENGTH,<
XHD
“01000,1>
1FNLENGTH,<
Jnp
ERROR>
7H
L1 2STACK
JSEE_1F THIS
POINTER
IS ,GT,
JRESTOREJGET
IWAS(D,E)
OK?
(H,L)
IM0UTOFMEMORY"
ILXIB,"OVER
BACK
FROM'
THE
+ OFFSET
ENTERING
(D,E)
NEXT
2
(H,L)BASIC
F3
MLS
seb0
MAC
GATES/ALLEN/DAVIDUFE
6=SEP=b4
05311
Vuene4*opleenQu2e65*2Veveeo15771°*
weepee*opeoeewo2kee’
noeasr*wpleveoepb4e
pocute*opvevewo1e07"*
ne2ueT1*BeRnvYnu2ees*
Q01060avuuie
vuepre’
Neoese
PAGE
1U=SEP=75
8
47(113)HANDLER,X E-1.1")SUBTTL27880IFNLENGTH,<erueDATSNE:LHLDDATLINJGETDATALINE
SHLDCURLIN>IMAKEITCURRENT
READY,
ERROR
2r92e
COMPACTIFICATION,
HANDLEK,
READY,
NEW,
CLEAR,
SNERR:MvIE,ERRSNF"SYNTAX
a1wbevsevoenr4*oeleneveavel27960XwD*0100e,1beroveneRv3e27980OVOAERK:MylE,ERROVRweenre’i"LXI B,"
iDIVISION
vooLReneov1s28000IFNLENGTH,
<
219402
MAIN
COMPACTIFICATION,
woenrs’
vocn7s*
neevnl26020Xw0"01000,1ISKIPve100e©woou3ee840NFERR:MVIE,ERRNF>ITYNEXTWITHOUT
0r0eVepuveel28060ERRURECALLSTKINIJRESETTHE
28080IFN<
CONTRH,OUTPUTY
hploee2000newoBs15
aveare’
ee104’VR0eoevoauTe*
NEXT
ne2105°vnleoveaeevesit28109XKAAnaeyue’0010002eoeee281¢eeSTACNTWFL>bpRReeneey1e’0pLBLORve1541°
002103*J1FORCE
we2ynl’voe111"*L2 vl20031526140CALLCRDOJCRLFasaceLxIHyERRTABJGETSTARY
I1SKIPAN
weey1s*vpooveFIZETEY
002107"*
1894Vo214VU100UIT TR
1895Boe115*vpPRARweer3e’
1698wuer1e’aneuoeae2yie’
veey1e’
LT
1897
28240
IFE
LEPSKF:
LENGTH=2,<
REM
CALL
1898weeyyi7’wolpue0083151699¢vey20°BedVweneqeT74”1900Qve121r’0eoneeavey1s5*1901vueyee’V0100eBovL3sS282801902vne12s*001000A0PL43ebese1903voe124°Q01000ovvsne28300JINZ1904waey2s’Wp2000peai1i’1905vo2i12e’VeV 20ae2120°*190628320<
LENGTH=g,
190728322D,A
198CLETLLYk
Al
190926326
2b34@0
191126360A
191228380
1910
28260
1913284ve0
191428420
1915264490
1916speyer’veloeveLITESE)
1917vee13e’vpvueo1918veey3L’veeeveVOTT45"
weeres*
28460
g
H
OCR
InX
LEPSKP>
NEXT
2
AND
ERROR
FLAGS
TABLE
ERRUR
OF
MESSAGE
ERROR
7SKIP
JSKIPTHIS
MORE
OVER
SOME
ERROR
FOR"TM
STACK
JOECREMENT
COUNT
ERRUR
MESSAGE
JGET ZERQ INTO U
ISTART OF ERROR MESSAGE
ITYPE
1T
JADD IN ERROR CUDE
JGET FIRST ERKOKk CHARACTER
JTYPE IT
JGET
2ND
LxH,ERR>
CALLSTROUT
CHARACTER
1T
ITYPE
ERRFIN:
MAIN
TwWO
201000veer1oe’e’
CLEAR,
LINE
OVER THE
BY ZERO
vocuri’vee10s*
NEW,
ERROR"
vee1n1’
Qve
1892
1893
03i12
1ACKUERROR
OF
ERROR
CODE
EKROR"
"
TO
JGET POINTER
ITYPE IT
o
.
BASIL
MLS
8BoBu
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=b4
05311
1919weeyse’Qul10ee0eoLSe
1920Vve13s’Ppeuee1921voe134°vovevewelear”’
vea13e’
MACKO47(113)
ENRRURHANDLER,
10=SEP=75 PAGE 8=)
READY, COMPACTIFICATION,
asile
28460
(SNCURLIN
MOVLYL
NEW,
CLEAR,
19¢eweey3s’volevebue1T41923Quwey13e’Qp1090Q00e4s285¢0ANALvoe137’opleveouavTs28540INRAwu214e’vglove20030426560CNZINPRTJPRINTvee141*deovoeAvoveorvv214e’duevuieeoveLss’*Ui000,1J"LXIB,"OVER
JMAKESUREWE
JGETRID OF
1927
19¢8
28500
IFE
192928569
28600193028620ENDS
193128640STOP:
XwD
RNZ
28600STPEND:
28680ENDCON:>
193428682IFE
193528684i
193628686193728668
#
FOR
POP
"LISTTM
i
veay4s’Aeleovoaveete286901939Goeyua4’volveeAvpsel28692STPROY:
1940287veREADY:
194128720
28740
B
1FN
COMMAND
“01000,%076
B>
IFNLFTSw,
<
CALLFINLPT>
veloveweeesS728760XRAA
veleeehueauee28780STACNTWFL>
1945deer4e”
veel4r1’Roeroo1946002150°bnvpoovo1541°
peelay’1947pve151*bnieveVLTS1948voey15e’bueyss’hewevewea1ar’
wue154°wp1eveaeovae
1951vee1ss’Qedpewwui607"*
1952wee1s5e6*wplevevve1se’
weey1sr*valeone©0e0u4)
vwevuuvwPee1ss’
woleveCITERE)
VaR2165*wpoenePUoLoex
voe164°vopvevenue160’
26800
([H,L)
2
NEXT
THE
IT
TERMINATED
"NEWSTT"
RETURN ADDRESS
JSKIP
JPRINTANY
JFORCEOUTPUT
CURLIN
THE
LEFT
NEXT
BYTE
OVERS
H,SCOLE+65535
26820
CURLINJSETUP
H,REDDYJI"READY"
28860
REPINI:
CaLL
INITJPRINT
}BY
28860
MODE
DIRECT
FOR
CRLF
wplevewoas1s
LlQuairle*
beopweQuel6s’
velwenweeser
IT,
THE
CRLF
28920CALL
28949CHRGET
INLIN
JGET
A
REPLACED
INIT
JERRORS
28900
0oe165*veoe1e6e’
CODE,
DURING
LINE
THEFIRST
ép1e0eoueLT426969INRIF@ SAVING
LRALwoavrs28980DCRAISEEvue1re’woe17s’Vrl1p0owvesie29000JZMAIN11FSO,voeLre’BpOnve
JGET
A
A
BLANK
wpe175*0peRVYvevel1es*
vuelee’veerrerbp1eovweoses2902ePUSHPSWJSAVESTATUS
vueyrri*ar1p0ewens1s29040CALLLINGETJREALIN
A
BYCALL
THISIS
INIT,
FROM
wee171’
veeyte’
IN
pey7es*
woe161*o162’
vue1e7’
MODE
NUMBER
sy AL
Vg
19491950
L)
MODE
DIKECT
<
CONTRH,
o2451944
we2160°
DIRECT
LINE
STOPPING
XwW0POP1943
npnenn
INSAYS
LENGTHe=2,<
1938
1942
JZERO
LENGTH,
<
1933
1932
IF
#»
19241925
1926
}SEE
MAIN
LINE
JCURRENT
INIT
IS
SO
AFTER
RESTARTED
TTY
THE
LINE
CARRY
WAS
INUDICATOR
LINE
STROUT
HERE
#
FLAG
INPUT
FOR
3SY
CHARACTERBASIC
F3
MCS
6080
GATES/ALLEN/DAVLDUFF
HAC
beSEP=64
05111
1972
1973002200
puR201’V000d0
@pvaneBO3642’
062174°
1974
1975
1976002202¢
002203¢
002204¢Gpla0e
001600
V0060¥60325
060315
002533’
19770@2203¢00AUDdB22NL’
1978002206*081000002107
1979Q02207°GG10001980002210*0010001961©02211¢1982Gp2212°MACKD47(113)
EKRURHANDLER,
03112
18=SEP=75
READY,
PAGE
B=2
COMPACTIFICATION,
NEW,
CLEAR,
WAIN
PUSH
CALLD
CKUNCHFSAVE LINE #
FCRUNCH THE LINE
1oV8,47A%¢0OB321POP0JRESTORE0UE361POPPSHIWAS@o100w0v@s2eJNCGUNEJIF000AOD003370°Vo0004B2204*o100
021000000325
0eB305PUSH
PUSHO
BFISAVE#AND
196600100000327CHRGETJREMEMBERIFTHIS
1967221000000365PUSHPSHJBLANKWEDON'T
CALLFNOLINJGETPUSHBJSAVE
1963
1964
1985
1988
¢
00222000100000315
1989
19900022217
bwe222’60PuGo
coweon0023710
ov2ere’
1991V02223’9P1LUeWE0305
1993
1994002224°
002225GG1000
000080000334
V11271°
1995002226’000UVLpU2eR1’
1952
cc
DEL>
LENGTH=2,
<
1997
1998
A
ITS
LINE
S0
A
NG
XCHG
NODEL
LHLD
LOAX
sTAX
INX8
INX[
2005
20¢6
20¢s
COMPAR
INCHLOOP
2007MoVHiB
2006HoV[
2009
2010
2011©e2227°00l0ve000321
2012©02230°001000GUO36)
DIRECT
STATEMENT
CHARACTER
LINE
10
THE
COUNT
1S
INSERT
IT
LINE
NODEL:
JSHOVING
JDONE
DOWN
H
VARTAB>INEN
VARTAB
01POP
POINTEK
AT
PSuJSEE
IF
LINE
FINDJANYTHING ON IT
JIF NOT DON'T INSERT
THIS
Uolodn0v0S1e0000000L2276°OpGohe©b2e25¢0010000UOLSE2018002235'0pO0VD00162172019
202002236’
002231°0aoow
001000wv2232*
0003432022
2023©02240°
0622417001000
0R1000000301
BUDL1LJ18,CI120LD
2024bo2au2'0VIVODBLB34SISAVENEW
NEW,CLEAR,
OFF
VARTAB
JCURRENT
JONTO
93312
MACKU47(113)03111ERRURHANOLER,29849CALL
10nSEP=75
0UP34L29860PUPJPOP
OUOLUE
GU1E21°29860$HLDJUPDATE
XEADY,
PAGE
TO
INSERT
COUNT,
VARTAB
VARTAB
VARTAB
Be3
COMPACTIFICATION,
MAIN
BLTU
VARTAB
0v2247'
0g2250°0P1000
WROE0D©p2251°DUOVUD0022442032002252°0010D000035329900XCHG2033002253¢6010000UDI6429920oyJFOUL
2034
2035
2036002254¢0E1000OLOL4S29949
29960
29960INX150 IT DOESN'T THINK
JTHIS LINK 1S THE
JEND OF THE PROGRAM
2037
2036002255
@02256¢001000
001000©UOL43
00032}30000
30020N
POP2039©02257°001000©U016330040Moy2041©UB16e30280
30060
LINE
STACK
2029
2030
@U004S
A
LINE
HAD
2031
002260° 001000
THE
END
THE
2LP3LS
A02025°
402E35°
6mSEPm64
V91000
DRGUGD
POGLND
0010VD
PLACE
J(H, L) ZCHARACTER
2021
GATES/ALLEN/DAVIDOFF
ELIMINATE
POP002235'
6p8Y
TO
POP
Jz
TO
VARTAB
INX
SHLD002231
AC
10
COMPACTIFYING?
©02234*
©002245°
G02244*
vp2245°
©Gp2246"
DELETE
POINTER
ONE
JCOMPACTIFYING
@e2232*
NUS
LINE
THIS
2017
2000
JGET
InNX
VARTAB
CHEAD
LINE
WITH
#
OFF
NON=ZERO
LINK
STACK
JPUT DOWN LINE #
00226170V10B02042pe2262°0010006EOLAS30100INX2043204402263' BE100000OV2L30140[B%1JHOVE LINE FROM BUF TO PROGRAM AREA
2047
2048
2049002266°0VMG3ELDAXINOW_TRANSFERING
FIN FROM BUF
2045
2046
002264
V022650P0BE
00OOVE
©02267°00100000016730160
30180
30200©02270°
0e2271¢001000
0016000€EC4S
0LOL2330220
30240INX
INX2052
2053
2054©@2272°
©02273¢
©02274°001000
0ulove
000BEYV0267
We0302
DU2266’30260
30260ORA
Nz1ZERO MARKS
2055002275t0NPEUsBYaeed’100
002271°DULAAnGUR43TCALL2057002300°Ve0VREGV22T4"
2058
2059
2060
©u2276’
002391°
GOl0WG
001431°
0V22SL*
Moy
2050
2051
2056
FOR
POINTER
2016
2025
2026
2027
2026
COUNT
#7
JNO MATCH SO DON'T
710,E)
NOW HAS THE
VARTAB
D
B
2004
F3
A
THE
JBEYOND
2000
2001
2002
BASIC
(B,C)=CHAR
#
LINE
POINTER
THE
JOELETE
1999
2015
LINE
THERE
NOT
DOWN
CRUNCH,
LENGTH=2,
<
19962013
2014
AFTER
001000
V0100P
0VOS1S
0VRL4S
30300
MLOGPK:
FINI:
30320
30340
INX
30360
30380CHEAD
206330400UP
2¢6430420LINE
206530440THE
Gu2s0et00luoo0u012430460
30460
2066
2069
2070
2071©02305°
©02304°
©02305*
002306°001000
001000
001600
UpL0ND900135
BEO1T6
200LLS
AUDZ6630500
30520
30540
30560
207200R307¢0010009uDs1e2073
2074002310°
002311¢000000
DoveR0002165¢
002271°2075
20760G231e’
002315%B0LU0D
00100620770023147001000
CLEAR
FALSO
2061
20622066
2067
LINE
Moy
THROUGH
THELINKS,
18
FOUND
DOUBLE
END
SETUP
(HyL)
STACK
TO
(TXTTABI=1
H
GUES
ALL
&
SETS
THE
BY
ZERO
PROGRAM
THE
END
SEARCHING
LINK
1S
STORAGE
OF
AND
FIXES
EACH
FOR
USED
THE
TO
ZERO
DETECT
ATTHEEND,
THEENDOF
0oJE0,EY
3 (R, L)
MoV
Moy
INX
ORAE,L
A
H
"JSEE 1F END OF
JBUMP POINTER
12ND BYTE
30560JzMAIN1DONE
0DOL4S
0UOL4S30600
30620nx
INX00LL4S30640INX
JFIX
H
TO
START
THE
CHAIN
OF
TEXT
PROGRAM
NODELBASIC
F3
MLS
8080
MaC
GATES/ALLEN/DAVIDUFF
bm5EP=64
03311
MACKO47(113)
ERRURHANDLER,
207800R315°QulvveeueesS?30660
2079W©e2316'veloveQveeTe30680
enBe00231/’VR1VOYVLVEL4S30709
2062Be2316*
2081
M02320° VpRipVY
©VYR3Ve
93312
10=SEP=75
READY,
CZLOOP:
PAGE
8-4
COMPACTIFICATION,
NEW,
CLEAR,
XKAJSEARCHING
CMP170
INXJBUNP
MARK
MAIN
FOR
THE
A
©w2321'Vpvewe30720JINZ2083©0es2e’vnunveQeRs10*eubaVue3es’Un1vopAKesss50740XCHGJSWITCH2085©V2324'0010vVDBLO16S30760MOyJDO2086Que3es’VelenyvRRY4S30760INXJADVANCE2BB70uR326"VplovewVvalee30800MOVi2NDBYTEOF
2068VVR327*VEloveBLG3S33p820XCHGJANDBACKAGAIN
2069
209¢
2091002330
©V02331*
©ue33e’VPloAY
0UPQPRO
veowveeQPR30S
0QL2302*
@ees21’50840JMP
CHEAD
30860IFE209330889i2054309007209530920iTHEFURM#=#
209630940iANDTHENFINDS
209730960i30980SCNLIN:
2101
00e333*dplenn@vewvel
V02334°0p000DQUVOLRL*
002335¢PpOeOL0wL2331’
0v2336'
OF
IN
FKEEP
BYTE
OF
FIXUP
POINTER
FIXUP
CHAINING
TIL
DONE
LENGTH=2,
<
SCNLIN
SCANS
A
LINE
OR
#
RANGE
OR
THE
#=
OF
UR
FIRST
=#
LINE
OR
IN
BLANK
THE
RANGE
LXID,$CODEJASSUME
START
LIST
INITIAL
AT
Z2ERO
Uplo0pQ0Rs2S31000PUSH0JSAVE
VLR337*VpipweVV031e31020JZALLLST$1F
0QU2340*2p00VVRQVR354°2lé40U2341°V0OREDQVR334’2105
2106W©e2342'
QU2343°0pleve
201000000321
0VA315S31040
31060POP
CALL0
LINGETIWE ARE GOING TOU GRAB A
JGET A LINE #, IF NONE,
VU2344°DPROVDVL364e’002345VpdvoeOLesdv’©02346'PPloWeQLDSES31080PUSH0JSAVE©@@2347°veiledeovvsie31100JzONELINJ11F211100R350°VeRURD©V2365*VeR3S1*UpvoneQvesd4’vpe3sSe’oevlpoeQeas1?31120SYNCHKMINUTKIMUSTBpovbybovvesS)LXxID, SCOUE+"D65529JASSUME
CNZLINGETJGETTHE
INZSNERRJMUSTBE
J(H,L)
=
00e353*
VoR354*
2117
2118
2119
001000
pove2l
Q0esS5*opeovw177771°
©02356°
©002357°*
©Vw2360*0pREee
Gplove
NpOpORE0VLR3S50*
0UO304
Vo364’
¥e2361*Qeeennee3sSS*
we2362’Vuledw0veosee
©0e363°*0oowhe00eLTe"
31140
ALLLST:
31160
31180
N02364°0p0VOR0VLRS6L'002365°V01000LL3SS31200“o2360°BE1oVDQLO32131220POP
Vo236’Vrlove0OR34331240XTHL
Q0237¢*0010000UBS4S31260PUSH
ONELIN:
31280i
31300
313207
7
XCHG
0
H>
FNOLIN SEARCHES
WHOSE LINE # IS
LIST
IT
ALL
#
RETURNS
ZERO
FIRST
ONLY
#THEN
ADASH,
MAXEND
BE
END
OF
OF
RANGE
RANGE
FINAL
INITIAL
FPUTMAX
7SAVE
DONE,
YERMINATOR
JGET
THE PROGRAM TEXT
PASSEv IN ([0,E),
ASSUMPTION
FINISHED,
2110
2114
LINE
TEMP
FIRST
2103
2109
MEMORY
THIS
JTEND OF LINE
2u9e
2098
ZERO
END
POINTER
ON
IN
(D,E)
STACK,
RETURN
RETURN
ADDRESS
ADDR
YO
(H,L)
BACK
FOR THE LINE
(D,E) 18 PRESERVED,
B
.
BASIC
F3
MLS
808U
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=h4
433211
2131
MACKU47(113)
ERRURHANDLER,
31340
235312
THERE
10=SEP=75
PAGE
8«5
READY,COMPACTIFICATION,
AREPOSSIEBLE
THREE
NEW,
CLEAR,
MAIN
RETURNS:
31360
31380
1)
ZERO
31400NO
31420(B,C)
351440
FLAG
LINE
SET,
IN
CARRY
PROGRAM
POINTS
TO
NOT
SET,
GREATER
LINE
THAN
NOT
ONE
FOUND,
SOUGHT,
TWOZEROBYTESATENDOF
THELINKFIELD
PROGRAM,
(H,L1=(8,C)
31460
31480
ZERQ,CARRY31500(6,C)POINTSTOINTHELINE
31529
31540WHICH
[(H,L)IS THE
POINTSLINE SEARCHED FOR,
TO THE LINK FIELD INTHENEXT
31560
31580NON=ZERO,
31600LINE
51620GREATER
31640(H,L)
NUT
SET,
CARRY
FOUND,
THAN
POINTS
ONE
TO
NOT
POUINTS
SEARCHED
THE
LINE,
SET,
(B,C)
LINK
TO
LINE
IN
PROGRAM
FOR,
FIELD
IN
THENEXT
TOSTART
LINE,
31660
bv2371*GeloneLLALSE
31680
002372’00e373*0poeND
VpPVVeQ01617
0QV2363°w02374°001000©LO104©v2375°001000@6A11531740
P02376°Volbeo0bEBL1T631760
00R377*VelvbD
LHLD
31700
TXTTABJGETB,HJ1FEXITING
JSET(B,C)
JGETWORD
31720
AyM
POINTER
BECAUSE
TO
POINTER
QUBLA4331780VU2400p1PRRBLBELb31800002401°*
w0242tVP100P
Vp1v0pQURLS3
PLV3L1L31820
318400024P4’0D1OVD©RB36T31880Veed4ns*®valvkeovease?31900JPUSHVo24ve’Ppl1oVWEVPR34)319201POP©va24n7*OriovnQLVs4T351940JCOMPARE
VB2410°*VA10V0VRB34)319601GETLINK
Po2411*voleveveleve©LRLTT0upsel51980JGETPOINTER
Vve413*vplovevoB3le3e0ewJTEGUAL
wLBUTT
P02403* Vulowe
¢o241e’
002414
351860
HiBUMPMJGET2NDBYTE
H160
J1IFBACK
ZEROTHEN
B
3¢c000
4
32040JMAKE
0ensee32060INO
VU10MOBLUR30SS2080JKEEP
QL23T74°we24R0*vovovewoasre’
$2100
32140
DOUBLE
OF
PROGRAM,
ZEROES,
TO
OONE
LINK
BINARY
LINE
(D,E)
JTURN CARRY
PpOVLD
32120
TO
#
HERE
Woeda16®
vplove
TEXT
END
POINTER
FPUSH
Q02417
Q02415*
001000
QLOseS
;
POINT
OF
QOF
TO
YO
(H,L)
THIS
ON
LINE
IN
(B,C
RETURN
CARRY
MATCH
Z2ERU
RETURN
(GREATER)
LOOPING
i
;7THE"NEW"
;ASVAKIABLE
CUMMAND
CLEARS
THE
PROGKAM
TEXT
AS
WELL
SPACE
32160
0E2421°V100DVRO3BV32180SCRATH:RNZ
nee4ee’Vuleovp0QVOLSe3e2veSCRTCH:LHLD
bo2423"
Qvedqe4’PpPORD
vpoennQB161T*
pved1?’Seaee1IFNLENGTH=2,«
32200IFELENGTH=2,
<
32240
XRA
JMAKE
TXTTAB
A>
SURE
THERE
IS
A
TERMINATORBASIC
4
MLS
w986
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=b4
05311
2184002425’201000QeN31S
218500W2426°2p00YVLVL3605’
2186V@2427*UYOOVEQVR4RS’
2187
2168MACKO47(113)
ERRURHANDLER,
235112
L0=SEF=75
KEADY,
PAGE
8=6
NEW,CLEAR,
32280CaLL
COMPACTIFICATION,
TUFF>JTURNOFF
MAIN
TRACE,
©RR430*
©VV2431°*Aplove
VO1VBDQAvOleT
VLVV4L3S32300
32320MOV
INXMy A
HISAVE
JBUMP2189WVw243e"velpveAuole?32340MOVM, AFSAVEZERO
2190©02435*0ploPe0QVVL4S32360INXHiBUNPPOUINTER
32380SHLLVARTABINEW3cq00LENGTH,
<3e4¢vRNZ>32440LHLDTXTTABSgde00CxH2191©02434°*¢plovevonw4e
2192©002435'2193002436’0pRowD
0goven©V61621*
o426’
2194
2195
2196©002437°0Plvve0LRLSE
2197002440°VpPeV0VuieLT*
2198WQ02441"VPPP0ORQURK3S’
2199vee44e’vploneQvepsSs
2evw
32500
eave
CLEARL
32520
ARRAY
2eus32549AND
243e5690WHICH
eeus32580
22e6
00445’
002444’
PV2445°
PPLIOVL
PPORVDE
PPVRLR
BLBLAER
BL16DS’
VL2446’
eelw
22110v2440'VP10V2212©0e2447°Wp0L2D0VV1545°
2213002450’vpoveeVL2444’
QURLSE
Q01000QLbL4R
VOREVDVL1573’
PUVPLRVLR44T*
22140e2451°2215002452'2216(02453'2217
22180Q02454*
©BV2455*V1000
Q00VAN©LR31S
0VB3446°
00e456"Ppowvwe
2219
2220
2223
AT END OFF
POINTER
START
(A)=0,
TEXT
OFVARIABLE
TERMINATOR
JCHECKFORA
JPOINTATTHE
START
OF
TEXT
32480
eery
2207
2206
2209
SET
A
SUBROUTINE
BY
WHICH
RESETING
(THE
RESETS
END
THE
OF
INITIALIZES
ARYTAB
ARRAY
STACK,
(THE
END
STORAGE),
(M,L)
IS
THE
OF
IT
VARIABLE
SIMPLE
FALLS
AND
VARIABLE
INTO
SPACE)
STKINI
PRESERVED,
i
32600IFESTRING,<CLEAR:I>
32620CLEARC:SHLD
32640IFNSTRING,
<
TEMP
32660LHLDMEMSIZ
ISAVE(H,L)
UP
32680SHLDFRETOP>JFREE32700CALLRESTOREJRESTORE
3270LHLDVARTABJGET32740SHLDARYTABJSAVEIN
5e760SHLDSTRENDJANDENU
IN
TEMWP
STRING
SPACE
DATA
vwe4sSe’
QV24S57*Voleve0LeLSe
002460’PpPPLLLolbeLl’
B02461°*Q0OLYL@VRASS*
002462'
1S
SPACE
STREND
0012000VVVL4E
0V0R463*VpVLVD0QVieR3*
002464°PPPVRBVL24bL*
002465V01000QvVL4e
BB2466°*AP0RVEPE1625*
AV2461*2pORYeDU2H4eS’
STARY
OF
START
OF
VARIABLE
OF
SPACE
ARRAY
VARIABLE
SPACE
STORAGE
32180
3e8v0STKIN]
32820
32840GOSUB
UP,SUBFLG
32800ANDA
RESETS
&
FOR
STACK
ENTRY
ALWAYS
52880FNOFORWILL
OFSTACK,
PUINTER
STRING
RESET,
DUMMY32900
THE
THE
CONTEXT,
IS
IS
IS
PUTSTACK,
FIND
(A)=23
ELIMINATING
TEMPORARIES
CONTINUING
ON
A
AND
THE
NON="FORTM
(D,E)
IS
ARE
FREED
DISALLOWED,
THIS
ENTRY
AT
IS
SO
THE
BOTTOM
FRESERVED,
32920
.
.
BASIC
[0
MLS
BYBY
HAC
GATES/ALLEN/DAVIDUFF
6=SEF=64
05311
MACKO47(113)
EKRORHANDLER,
NEW,CLEAR,MAIN
JGETRETURNADDRESS
STKTOFJ(H,L)32940
2238
2239
2cU4p©0e4T1*
V02472*
VVR4T3*0010V
VPVoDE
VPRVVLYPLALSE
QE1615*
MLR46L’2241VvedT74*vpluveVLVelT)
0M02475°0@lede00oL4)
2244ve24Te®VRPBALYQL15S51°*
2245
002477"
2246P02500°
2247
2248002571’
002502°
2249
0veSA3’
0p0pbw
0pinOe
QVAL4e
001547°
0pvYOe©VL24T6*
0VLOL4L
2250QU2504°*VPREEDVLRLRL'
2251©uespS’Vpovvpveesel’
2252
2253002506'
©002507'Np100D
2plevn©MEBS4S
dvoL4e
2254VoeS10’*YpUpveQV1613°
2255002511°*0p0evo0nb2504°
225802512’00100RVWLBLSE
2259
2260002513°
MveS14*vnwens
Qpeeve0VLleds’
woeS1e’
2ebe
2263
2264002515°
@051Quluue
VpWVVYY©LBLeR
GwleBl’
226500eS1/*0pweve©B2513°
vees520*Vplebewvoesel’vpleee
2256
2es7
eeel
vuesa2e’
Pueses’
Apleve
vpeevn
STKINI:
COMPACTIFICATION,
32980SPHL33000STRING,
<LxIHy TEMPST
33040SHLD
350¢e0
TO
HERE
END
FINITIALIZESTACK
TEMPP1>JINITIALIZESTRING
H,$COVEJPUT33060LxI35080
35100PUSH
H
LENGTH, <ShLD
33120LPTSW,
<33140CALLFINLPT>
33160LHLDTEMP
OLDTXT>
JGET
33180LENGTH,
<CONTRW, <XKA
STA
SUBFLG>VLRSS55240PUSHJPUT
veostl33200RET160
veeeTe
3353500
GINLING
ZEKO
(NON
OF
MEMORY
SAVED
TEMPORARIES
NEXT,
JON STACK
jMAKE CUNTINUING
33200
352e@
FOR,
GOSUB
ILLEGAL
(H,L)
A
JALLOW
MV]
SUBSCRIPTS
RETURN
ADDKESS
BACK
ON
BACK
JGET
A QMARK
©LVALTT
Vv2524*Vp1oveVLUV33T35320OUTCHR
PRes25*velvveveeule33340Myl
vueses’2pVeVeVbeV4Yvueser*vpluve©Vev33T335360QUTCHR
33380
PTYPE
STRING,<CALL
A
@
ITYFE
INLIN
FIN
Pp10V0VB3NS
002531"0p0oheVL2T76°
hg2s3e’onlpwepuvesSie’
INX
35440IFN
35460i
335¢0
H>
FJGET
STRING, <JMP
7ALL
33540}BYTES
33560iBY
35589iTHEREFORE
335600}RESERVED WORD LIST
33620}ORDER
33640
35700
IV
THE
JINPUT
335420
PY2S30*
1T
}SPACE
35400
nues3ss’
POINTER
0bve4Te*
000EA0
201000
8«7
LHLDQ0B30)
READY,
PAGE
32960VVleed2243
10=3EP=7S
8V024T¢’
2eup
23112
POP2237
i
"RESERVED"TM
WITH
c KUNCH:
THEY
IFnN
WORDS
THE
ALLOWING
MSB
FOR
ALL
INLIN>
ARE
UN,
TABLE
IN
IN
SAVES
APPEAR
THE SAME
IN
STRING,<
STMDSP,
INTO
SPACE
DURING
INPUT
IN
THIS
SINGLE
AND
TIME
EXECUTION,
TOGETHER
VERSIONS
ALL
CRUNCHED
CRUNCHING
TRANSLATED
THIS
DISPATCH
STATEMENTS
APPEAR
§NO
TOO
NON=STRING
IS
A LINE OF
IN
THE
FROM
CASE
TTY
TOKEN)BASIC
MLS
BpB0
MAC
F3
GATES/ALLEN/DAVIDUFF
6=SEP=b4
03311
2e%uwues3s’Q01060avwvesST
2291wuas3s’YnlovepuoLee
00es3s*Ppovee0U1544°
2293woes3e’L)aves31’
2294vuassr’Q01000Qoo16
2e9e
2e9swues4u’LTeevevaesay*001000voeeel
2297woes4e’QevdoveWu1431°
2298buesas’Qpvvow2299MACRO47(113)
ERRURHANDLER,
853112
10=8EP=75
KEADY,
35720
PAGE
8=b
CUMPACTIFICATION,
XKA
NEW,
CLEAR,
33740STADOURES>JALLOWCRUNCHING
35760MvIC,5JCOUNTOF
55760LxIJSETUPDESTINATION
deieuewov17e35800ues4as*de1ewnoweBsTeJGET
35820i1S
Ques4e’000000aveLavesvewgesar*V01000gbasie35840JYES,
2503vuesse*Q000002LUFLT YA2504vvessy*vavueowoesee*2305vuesse’velooeweeler
2507vuesss’dplevePLds7e
as508Ve2ss4’ageewnpuovae
2309w2555’Qpl1enepunsie
vuerer*
Pbesse*
2506
33860
JSETUP
IQUOTE
53920STRNGJYES,
0B2556"*Ppepnevuessi*L)volewewoeees?539402313©vuesel”201000Ji
vpesee’vpeoeowopsie
weerss*33960231423150eese6s’vpleueveesse’33980STRING,
<
34200
2516
esl720e564°CEREweeses*oponeone1544°
2519vpes6e’YLwuesee’
2320veeser’201000aveee?
vevpTe
AJEND
CROONEJ1YES,
LOADURESJIN
34020ORAA2321weeste*aplovewen1e734040MOV25¢eCPEEY B401000QU17634060MOVAN
2sesvoesre’aniovevud30e34060INZSTUFFr>
2324dues7s’CLITTT)w266723esVe2574*200000L2565
°0ues15*291000wouesirevoesie’vpueneet/veastTi*LRUTT)beeeTe
esee
ByA
34120
Vuceno*eevnevoeesl
2332
2333wveenl*ve1peYveosie
vveene’vpeove"y
34160MylA, PRINTK
54180STUFFH
LELY EMVRoLVeA
LY
pees7s*2335voeen4”LURYvuv17634200AgM
avesie34220S4240
23536
2339
0u2eas’anleoeLY TNdpbuee141
buesn s’A¢1veeobos3e
vueelo*QpoeonwueeL7”
vuee11"vwevueeac2ene’
veep1e’eni1vveneee1s*vevuvewovsTe
woneT4
GO
TO
FROM
TO
THE
QUOTE
SPECIAL
SAVE
IF
LINE,
LINE
IT
STRING
IS
A
STRING
HANDLING
CRUNCHING
STATEMENT
AND
CRUNCHING
CHARACTEK
INOTFOR
NO
CRUNCH?
WORD COUNY
RESERVED
AGAIN
CHARACTER
THE
JUST
4KVERSION
A"PRINT"
ST0RE
UMARK?
JYHENUSE
gePSKIPNUMERICS
MUSTCRJSINCE
P"3"
54260
BUF
WANT
LINE?
DOUNE
NO
A
JTHE
JA
CP12334
T
S
DESTINATION
CHARACTER
JINITIALIZE
54140
WE
IN
B WITH
SIGN?
OF
JGET
<
LENGTH,
IFN
SPACE
DATA
J1F
34100
CEES
A
34nvesev’
A
STUFF
339002sle
23¢9
2330
LEASY
POINTER
FROM
CHARACTER
IT
JGET
B,A
535880
CERB!
esei?
2528
AT
wues3s’
vp2es44*23ve
01000
CHARS
PveUeS
230}
23le
MAIN
A
CRUNCHING
ALSO
PUT
TOKEN
IS
IN
SLOw
GUICKLY
.
.
BASIC
F3
MLS
8pBY
GATES/ALLEN/DAVIDUFF
e=SEP=64
MAC
05311
23430o2e614*or1000oves3e
2344veee15*bweennevwouueeA
LUELTY
LUV
beloveweeses
234svees16’
2546TS
2347voeeyr*
WA
MACKU47(113)
EXKRORHANDLER,
34300
23549
1U=SEF=7S
READY,
JC
PAGE
8=9
CUMPACTIFICATION,
NEW,
CLEAR,
MAIMN
STUFFR
MUSTCR:
34320
34340
2548
v3812
34280
IFE
34360
'
POINTER
JSAVESTOREJINITRESERVED
JINITTORESERVED
iSAVEINBUFPUINTER
AROUNDCHRGET
2350Vo620’wplove2351noee21”2p0e00oee171*esse
2553
2354vvesee’bpbuuonoae1s*woeees’1690brlpveavaLTe344222555voce2s’001000vooser344402356bueeee”vploveweaees344002357veceel”*bnlowvenovese344802358voeelu’wn1pve[ ELT)345¢02359woees1*VpOVYDool236y236)vueeie’
vo2e3s’Vv2esS3’JENDOF
PCELTSvoee34’Qpowvueovebel’2363002635°0210002007634540CMP1TWOCHARS
2564
2565wv2e3e’vRilvvevvosee34560JINZINO,DIFFERENT
veeel3r*2000wveeise*2366LY TMVBVVYLLTLEEM0010920PuoLie
vveea4*
Vulevo
Quvvel
UITELE]
Avnsie
34380
D,RESLST=)
34400
*010920,"076
NXTRES:
1
RESER:
L
0
A
34520
127
TABEND
JU"MVIM
THE
25670vee41”*54580LDAXDvoees4e’JGET0e1090punes’34600ORAAiSETVoce4s’201000weplee54620JPNXTRESV02644Qeebes’JIFQ0060002371voeeas’Qevoove0ees3r’2372noeean”201000wonsel34640POPPSWITAKE2573
2374PrLY YA001000wee17v34660MOVA,8JGETRESERVED
vo2e50*volvneCILET)34680ORI128vueesL’JSETMSBE
23715veoRVop00enu2376
2377veeese’291000pbvsee54700P"JP"an109ewees4l34720Xwb
POP“01000,"0362wuRess’H1GET2578vvees4*Qu1090weolie34740MOVAym2379vueess5"*Qulvveweasel34760POP0JGET
iGET
CELTY
34760
IFE
vieese’“plevenvnss5s34800XCHG
2séevueesi?*weleeonuesTe34820CPI
w660’QeeouoQuveew
ELSETK
34840
2385veeee6l*w1000veoves
2366vuleee*vpeovepoeuTe
ese7M velewe
UELLEabusLe
2588bhee64r217vhRoeL
2589
2590V02665
"*nwpvevnAuebayd’
RESERVED
OFF
WORD
GARBAGE
AROUND
BYTE
CODES
RESERVED
ORIG
WORD
TO FLAG
BACK
LIST
SAME?
CONDITION
SIGN SEY,
WORD
THE
ORIG
WORD
FOUND
POINTER
#
AS
RESERVED
POP
H
AND
WORD
MOV
A,M
POINTER
BACK ORIG CHaAR
STUFF POINTER BACK
LENGTH=2,<
25812583
CELY
LIST
TABLE
wOKD
RESERVED
es7e
TABEND:
WORD
JGET CHAR FROM LINE
JBUMP DEPOSIT POINTER
JGET A BYTE FROM RESERVED
JGEY RID OF SIGN BIT
23568
2369
FOUND:
COUNT
WORD
F(H,L)=STUFFPOINTER
JHAVEA
JCOLON
34860MVIMytgnISTURE
34880czINXHRT##
TO
PUT
IN
HIDOEN
FRONT
OF
JADVANCEPOINTER
34900$S0ON
LV ERE]54920J(0,E)=STUFF
ONLY
"ELSE"S
ON
"ELSE"
"ELSE"
THE
COLON
IS
2591
2592voeeen2393LT YAvp1evevuoLas349402594voeetT0"a010vevepuee549601SAVECHARACTER
buee71*wpleveauobes34980JBUMPSAVE
an1eee
STUFFH:
JTENTRY
TO
POINTER
BUMP
[H,L)
IN
POINTER
CRUNCHED
LINE
NOT
OVERWRITTENBASIC
F3
MUS
8080
HAC
2396
GATES/ALLEN/DAVIDUFF
6mSEPm64
002672°
V01000
05311
0UDL14
2397
MACKO47(113)
EKRURHANDLER,
35020
2398002675¢
2399
24p0
24012462
#3312
1¢=SEP=75
READY,
35000
IFN
PAGE
8-10
CUMPACTIFICATION,
INR
NEW,
c
CLEAR,
JBUNP
MAIN
CKUNCHED
00100000032635040002674°
002675¢
002676°0n0E0R
V01000
0A0END00OUTZ
V00S1E
V210535060002677¢VROBAY0L2664°2403002700°Q010000003762004
2605©02701°
@702’60ODVO
D01000VL0111
@0830e2406002705°000000WE2/16°24070UR704*0p00VRBR2676°24060027a5°001000@ORL6E2409002700°000DADMO1544°2010
26110L2TATT
©@ue710’V0D
VnioveQL2103
©@Uas262612we2711’vooove@eplad2413
2414
2415027127
002715¢Dolove
0000UG©UOS0R
002544°2416
2417002714°
062T15¢WOORND
VRl0vw062706°
©Udle!MOV8,4JREM2418w62716¢DoloVE0CA1T6MOVAtJGETA
2419002717°V01000©EB26TORAAJSETCONDITION
2420vee720’00lv00©00S12JzCROONEJIFEND
2421
2422©02721°
we272e’VOVOWD
DPUOVD@E2T53°
BE2T1S"2423€02723°UplvMe©EBRTUcmp[JENDOF
GOBBLE
2424Q@2724¢A0@S1eJzJIFYES,
DONE
001000
242500000002667
2426o0pe0e027217
2427
7
2428
2429
243
0u273e¢
001006
CHARACTER
COUNT
STRING,
<
suI
"
JSEE
gJ1F
IF
S0
IT
IS
ALLOW
A
COLON
CRUNCHING
AGAIN
(3
000043
NzNUDATTJSEE
cOLIS:STADORESISETUP
NODATT:SUTREMTK="3">IFESTRING, <SUT
Nz
KLOOP
REMTK>
IF
IT
IS
A
JWAS IT A REM
JKEEP LOOPING
STRNGE
DATA
TOKEN
FLAG
DOESN’T
STATEMENT
STOP
ON
"3i",
ONLY
ON
A
ZERO
CHAR
OF
CODES
LINE
JINCREMENT
THEN
WITH
TEXT
001090QUBLR2ISTURE
CHAR
0010000UDL14FBUNPCOUNT
POl0VY@UBLRSJANDPOINTER
JKEEP
DONE
STRING
POINTER
2431002735¢0010000ER3RS2432002734¢W0BeED0U2116°24330U2735*BoReRD662725
LOOPING
2435002736¢0010VeBUQS4L243600273/¢V01000000345JANU
2437
2438002740°
062741¢OP1EUE
PR1GRE0LBLD4
0V03557INCREMENT RESERVED WORD #
IRESLST POINTER INTO [H,L)
2434
2039Q@2742'0P1E0YELUC6L
2440©02743°901000000043
24410u2744%DP100DBe@362
2442©02745"000000wL2(4e’
2443
2444Bu2746°
©e741*0VLOD
GoioweVL2734°
BUESSS
2446
2447QURT50’
0OR751'001000
B00GVEWUOSES
002027°
2448002752¢00VOVEVU2145*
NTHISE
JRESTORE
NTHIS1E
BASIC
NCS
BPBO
MORE
10=SEP=75
MACKO47(113)EKRURHANDLER,356402451002755¢00OVBE2751°245200275600100000002235660253902757°001000000L2S35660205400276000100nW0DL22357002455002761%UPL00G0UDLRS35720INXJSINCE
2456©v2762’001000AVDLR235740STAXJITSEND
24576027637V01000GV0S1135760RETJENDOF
KEADY,
PAGE
MOVE
05111
2456
@3112
INTU
INTO
TO
WORD
LIST
(D,E)
(H,L)
NEXT
RESERVED
WORD
8ei1
COMPACTIFICATION,
LXI
RESERVED
POINTER
POINTER
0LOL41
0V1430°
CROONE:
IN
JDONE,001000
00OLA0
bmSEP64
STRING
BACK
JTEXT002755¢
@02754*
MAC
GATES/ALLEN/DAVIDOFF
BITS
$5K1P26449
2450
F3
IT
JTEST
JRESLST
2445
TEXT
SAVE
NEW,
HyBUFMIN
CLEAR,
JLEAVEWITH
STAXJNEEDTHREE
INXJONEFOR
STAXJAND2
MAIN
(H,L)
¢S
POINTER
ON
THE
TO
START
OF
END
END=OF =LINE
FORA
IFTHIS
ZERO
WUST
LINK
1S
A
LOOK
DIRECT
LIKE
STATEMENT
THE
END
OF
A
CRUNCHING
35780
2459
35800
THIS
IS
THE
INPUT
358201T246135840CHARACTER246235860IFMORETHANBUFLEN
2463358801SUONEUNTILA,
246435900CONTROL=6
2a65
35920
2466
READS
LINE
2460
THE
CHARACTEKS
DELETE
WILL
RUUTINE
BE
IS
KOUTINE
INTO
BUF
CHARACTER
USING
AND
CHARACTER
¢
OR
TYPED
ENTEKED
,
AS
ARE
ASTHETHELINEDELETE
NOECHOING
TYPED,
CARRIAGE=RETURN
FOR
AT
EACH
EXTRA
IS
CHARACTER
TYPED,
CHARACTER.
INLIN
35940
2467
2466G6RT6A*
0027657BOIODO
0010004DOLDS
90OLSS35960
359602469
2470
2471VRI0UD
G010006UDS3T
0VD3E230000
36020
36040IFN
V027667
00R767°36060
36060INLINNG
2472002770°0000VG00303’
2473002771*Vubeee0B2754"
2u74
2475weerrer
pe2772*001000BU0S3I
2477M02775°001600000315
2478
2479w02774*
we2775¢00000W
Gobeoe04523’
we2( 10"
248U
2461¥02776°
©02777°001000
00PEEDGU0LAL
01431°
24203000’G0PRED©L2TT4°
24830030010P10Be©ERUO6
2484003002°00VOVE©LOVRL
2485W03083*001000000315
2486©03004*2487
2u76
LINLIND
DCR
Dex
8
H
00MEED@E3126°
03005OuA0veWL2T1T*
2489©03006¢001000GLOST6
24990e3007*000000QUOVRT
2491003010t0plo00wERS12
2492003011Opoone©03U44*
2493we3p12t000UNsVE3004*
2094
2495@03015*
€¢3014¢001000
00OGLO0UOST6
BVOL1S
2496093015*0016000U0312
2457©93016%00000LAS16"
2498003017DORONG24990U3020°0ULOV00UOST6
250000302170000UD0UPV4Y
250190302¢*VoloweUBS3Z
2468
36140
INLING
S6160
36180
36182
INLINCI
A
ARROW SO DECREMENT
UP POINTER
REALIO,
<
OUTCHR>
Nz
INLINGINOT
IFN
OUTCHR>REALIO,
<JPRINT
CALLCRDOLXIHiBUFV1BytJCHARACTER
CALLINCHRJGET
A
17
36100
So120
JBACK
JBACK
LINE
TOO
WANY
THE
FWERETOO
FTYPEA
@,
SOCONTINUE
OKA
SECOND
COUNT
,
IFTHERE
THEBELL
MANY
CRLF
COUNT
CHARACTEK
LENGTH,
<
36164cP17F1536186Jz600DCH>FFORBOBALBRECHT
SCHOOLKIDS?
421131S11A
gzFININLF1FS0FINISH
cP132JCHECKeINLING
CARRIAGE
RINGING
RETURN?
UP
©03L11’
FOR
FUNNY
CHARACTERS
PROGRAMBASIC
F3
NLS
8080
MAC
GATES/ALLEN/DAYIDUFF
bmSEP=64
05311
VU3POS®¥03024°0000000B3V16"@03025¢0010000VR3T636260
©e3026°
va30p2l*P0OVD
Goioow00DLTS
weesze36300
000000VU30O3"©03031°2000000U3L23’v03032’
@03033°
©03034¢001000©UO3T636320
000000
001000@6O10
0eB31236340
©03¢35¢
003036¢
0p00CeQ27720
PO0PVEBU3L30*
47(113)
03312 10=SEP=75 PAGE m12
HANDLER,
KEADY,
COMPACTIFICATION,
g
NEW,CLEAR,
INLINGiBIGONES
nonJLINE
c
001000©¢AST6000000WLe13T©23041°
va3pae’001000
800000@e0s1e
002(64°00343’900000VU3035T003044*B01060©03045°001000©00)TE30420A8
003046°00100080V3T636440BUFLEN
203047°000000VLO110©0305¢°
003051700100000RET636460A7
0000000LALET003052’
0030537
0030954°Bolove
u0p0D
8p0UODvews2e
Vo361
"
Be3v4e’3648000305590100000@TI36500©@3056¢
M03057¢
003060°001000
001000
001000000161
©LEE4S
0COVR436520
36540
365600030617001000ALO33TP03063¢000000D030BS*©03064°B000BD
WeA303
voloow
00a3ER
©e3066°0)ODRO010024
003067¢D000BO0B3U63T
6080
HAC
B
JCHARACTER
DELETE?
LINLIN
GUODCH:
CyA
JGET
A
JLINE
Moy
INX
INR
BELL
TUO
ISTURE
IN
CASE
LONG,
THIS
LINE
RING
TOO
LONG,
BELL,
CHARACTER
36600<
REALIO,
36620QUTCHR>
36640
JNP.
INLING
L3V’
©03065°
MUS
TUO
36560
©23062° 001000
0e3065¢
36360
36380
36400
BAD
DELETE?
INLINN
@03031°
0VOLLT
MAIN
125
003040°
203061 °
F3
EKRUR
0p000D
003030°
BASIC
MACKO
©03925¢
GATES/ALLEN/DAVIDUFF
6=5EP=64
03111
2555
36660OUTCON:
36680IFN
CONTRM,<
36700Nz36720REALIO, <
PESKRT>
INO,
DO
36740<
LETSH,36760LAPRTFLGJSEE_IF
36780
36800OKA
JzA
TTYCHKJTEST BITS
J1F ZERO THEN
IMITS
36820PSh
36840PSH
SGET
13715
36880PRINTHJFORCE
36900PPSART#1F
36920LPTROSIWHERE
36940LPTLENJAT
47(113)
ERRURHANDLER,
03312
10=SEP=75
READY,
36960
PAGE
PRINTH
INRA
By
INLPTPOS
2
2
37060
37080
57100Jz
POP
outLPTRAT
PSH
3
37120RET
WANT
1T
TO
WE
CARRIAGE
OUT
FUNNY
A
WANT
CHARACTER
NEW,CLEAR,MAIN
IYES,STARTOVER
JSENDOUT369802560
2561
25622563256437140PATLPT:BLOCK20256537160FINLPT:XKAAJRESET
2566
256737180
37200ST
LAPRTFLG
LPTPOSJGUES TO THE TERMINAL
JSEE_IF ANY LEFTOVERS
256837220OKAAFFORCED
256937240257037260257137280257237300257337320
IF
iBY
IN2
ANT2
JzPRINTH
BUFFER
(LF)
MUST
SURE
JFINISHED
BE
S0
ATLPTPOS
LASTPRINT
MUST
BY
TESTING
DONE
1817
EMPTIED
37340LALPTPOSORA
Nz
HVI
outA
PRINTR
Ard
2JCHARACTERS IN THE BUFFER?
F1F SO DON'T CLEAR THE BUFFER
JOTHERWISE BUFFER MUST BE EMPTIED
JCLEAR THE BUFFER
2575
2580
258137440
37460
37460My
outAt
27TO PRINT A BLANK LINE
JTELL LPT TO PRINT
ISTATUS REG
OCRAi 1A) 20
BlLPTPOSJRESET
37500
37520
2584
2585
37540
37560TTYCHR:>
2586
2567IFN
003070¢0010v0GUD36137560
376002568003071¢00100GLOSES2569©003072¢Pelove0U0STe2590003075°000EDE00OLAD2591QU3074¢V01000WLLS3e2592
2593003NTS*
003076¢VOMEDO
0U00VY0D3115°
LE3066"2596€@3077¢V01000@uUoETE2597©03100°000OUG©EOLLT"2598003101°000Ues0U3LTS'
2599
LINE
JGET37620PUSHPowWJAND37640CPI32715THISAMEANINGFUL
37660JcTRYOUT>J1FIT'SANON=PRINTING
37680
37700LENGTHICONTRWILPTSH,<31720LATTYPOS>JSEE31740cPILINLENJMODIFIED
THE
CHARACTER
SAVE
JDON?T
IF
IT
IT
PRINTHEAD
003102¢V01000BEDSTO003103¢VANCow0VB1100010V006314JTYPE
VEVET4JINCREMENT
2603003104¢103105¢000000
903106°000PA0
2606V03107°Dol0VD
2607
[TEIVIY
AGAIN
INCLUDE2661
2602
POSITION
STRING,<
PUP
PSW26002604
2605
PRINT
RET>
©d3070¢
2594
2595
THE
BE
37360
37380
37400
37420
2583
OF
OUTPUT
OUT
LOOKING
JMAKE
FLAG
2575
2576
2577
2578
2582
NOTHING
CHAR
PRINT
2574
PRINTR:
DO
TRETURN
R
SEE
PRINT
WE?
37000
37020
37040
7
TO
ENDZ
2557
2558
2559
PRINTW:
LPT
RETURN?
2556
LPTwAT:
TO
LINE
CONTROL
ARE
THE
TALK
NOT
813
COMPACTIFICATION,
oNe
WE
CHARACTER
36860NWACKU
OUTPUT
1/0
8Y
IN
CHARACTER?
CHARACTER
TTYPOS
IS
AT
"TERMINAL
THE
END
WIDTH2"
GUESTION
LINE
IN
-1
JGOING
CKLF
TO
AND
SET
TTYPUS
PRINT
A
TTYPUS
SINCE
AND
WE'RE
CHARACTER,
(A)=0
IF
SO
INITBASIC
3
MLS
Bp80
GATES/ALLEN/DAVIDUFF
HAC
bmsEP=64
03311
903110°001000VEDL62
003111°DO0RNDL0LAT"
©@311e°000LRD03105°
093113°0uiooe@e33S
0031147G0000OBEQULY
003115°¢
MACRO47(113)
EKRURHANDLER,
23312
37860
37880
37904
10=8EP=75
KEADY,
57840
STA
TRYOUT:
PAGE
8«14
COMPACTIFICATION,
TTYPOS
IFN<
REALIO,
NOPRIN:IN
NEW,
CLEAK,
FSTORE
[
JGET
0e3114°3792051940OUONEJ0K
NEW
MAIN
PRINT
QU346©03116°B0PPBYAEA2YL003117°01000VeB3aR37960NOPRIN>JKEEPLOOPING
#¢3120°00000D063113°0031217
0u3122°000PVO
0p1pow©E3111°
BeDs6157980PskJGETCHARACTER
00312300100000032336000outTTOCHNJSEND083124¢PPOOOEBEVLUL
wos1adr56020CNLCB1=2,=1RETGU0S1L38040031200
M03126%001000@G053S36100
38120INCHR:
TRYING
©U3127"BoOOMY0UBLOL38140C
ve3ier’
003130°
(ITEN
093131°
38160
TO
COMMAND
001000061000
SEND
OUT
JCUNSOLE
JRETURN
IFN
IN
REALIC,<
[]
POSITION
STATUS
JCONSOLE
©03115¢003125¢
HEAD
JGET
GHANGE
CHAR
THE
BACK
CHAR
COMMAND
FROM
CHANGE
OUTCHR
STATUS
JCONSULE COMMAND CHANGE
10ONE
FTEST BIT
200Le1
©6313*0200302
0031357000OUD031267
003134°000000heSi2e’
¥03135°01000VE@S33
9e3136%000000BLABEL
©63137¢
¥a3140°G0l0v0
0000DR
00s136°
@UB346
©C1T7
38180TRYIN>160BACK
35200TTICHNJGETA
38220
00STe
G0RE1Tss280cP1
©03143¢0100000236038300RNZ
0031847
003145
003146¢001000
D0000D
000AVDoUOLTe
0e1541°
0U313538320LA
©03147°
$03150°00lowo
001000000US/36340cHA
0ed062383601A
38360RET
003151*W00OUDVL1541°
©0315¢¢veveve00314
©23155¢Delowe008s11
IT
JCONSOLECOMMAND
JGETOF
CONTHISANT
<
CONTRH,
Dolowo
DoU0Vs
DO
1e13824036260003141°
003142
&
AGAIN
CHAR
RID
IT
CHANGE
PARITY
SUPRESS
BIT
OUTPUT?
CNTHFL
175 STATE
JCOMPLEMENT
CNTHFL>
FSAVE
BACK
38400
MCS
8080
MAC
GATES/ALLEN/UAVIDOFF
bmSEP=64
03111
MACKO
THE
47(113)
"LIST"
38420
93312
10=SEP=TS
PAGE
COMMAND
SUBTTLTHE38460IFN36480
38500IFNLENGTH=2,
<
<
LPTSH,LLIST:MVAtJGETNONZERO
S1APRTFLG>ISAVEIN1/0
CALLLINGETFGETLINEINUSTBEFFINDLINE
START
38520
38540
LIST:
38560RNZ
35600CALL
38580
"LIST"
COMMAND
VALUE
FLAG
NUMBER
A
INTO
[0,E)
TERMINATOR
PUP.836620PUSHBJSAVE
38640
38660POP
PUSHAHJGET POINTER
JPUSH LINK
38680POPBJTAKE
38700
38720
38740MoV
ORA
izA8
c
READY
OR
EE
OFF
IF
GREATER
THAN
TO
FOR
END
A
OF
SECOND
CALL
PUSHISCNTC>
BJCHECK FOR CONTROL=C
1PUT BACK ON
38820
38840
36860CALL
PUSHM
XTHLCKDO500 CRLF TO START
QuT
JPUSH LINE #
JGET LINE # INTU
(H,L)
38900CALLLINPRT36920MVI38960QUTCHR
JAND
A
H
WE
JPRINT
n
WANT
AS
(H,L)
INT
ON
WITOUT
THE
STACK
LEADING
JALWAYS
A
A
SPACE
AFTER
CHARACTER
THE
LINE
MOVaMJGET
39000
39020
39040ORA
INX
JzA
H
L1ST4JIS IT A RESERVED WORD
JINCREMENT POINTER INTO
JZERO, END OF LINE, GET
39060
39060
39100JP
su1
MOVPLOOF
127
CiAJREGULAR CHAR, JUST PRINT IT
JGET RID OF SIGN BIT AND ADD
JGET RESERVED WORD # IN C
39120PUSHWFSAVE
CURRRENT
RESLST
#
FRUM LINE,
TEXT
NEXT
LINE
ONE
POSIT
L10,RESLSTJGETRESKCH:PUSHOISAVERESCR1:LDAX0JGETCHARACTER
39220INX[7BUMPRESLST
39240ORAAJTESTB1TS39260JpRESCR1INOT392600CRcJDECREMENTCHAR
39300POPHJPOPSTARTPOINTER
INOT
WORD
JGET
JSETAT
39160
SPACE
JRESTORE POINTEK TO START OF TEXT
38980
39140
TO
CHAIN
LISTEN,
<
POP.
EGUAL
LINE
38760
36880
OR
POINTER
38760
38800
38940
ERROR
FGET RID OF NEWSTI RETURN ADDR
FNDLIN
PUINTER,
39180
39200
39320
59340
39360
39360
INZ
RESRCH
THERE WHEN FOUND RIGHT
PRIT3:
MOV
AgM
ORA
A
39400M
39420QUTCHR
RESEKVED
AT
END
OF
END
FROM
RESLST
POINTER
OF
RESEKVED
A CHARACTER FROM
CONDITION CODES
PRITA
39440InXHJBUMPRESLST
39460JnpPRITS>JPRINTTHE
POINTEK
REST
WORD
YET
HERE
RESLST
YET,
RESERVED
WORD
(D,E)BASIC
ML s
8¢80
HAC
F3
GATES/ALLEN/DAVIDUFF
6=SEP=64
03111
HACKO
THE
47(113)
"LIST"
035312
10=SEP=75PAGE9m1
10=SEF=75PAGE10
STACKHAS
COMMAND
2708
2709
39520
2710
BASIC
F3
ML s
8080
MAC
GATES/ALLEN/DAVIDOFF
6=SEP=64
03111
2711
2712
2713
PAGE
MACKO47(113)
WFORYSTATEMENT
39540
05312
TFURY
SUBTTL
39560
39580
39600NOTE
:
2714271539620A
271639640
39680
39700LOW
2717
2718
2719
FOR
STATEMENT
ENTKY
ON
THE
TOKEN
(FORTK
39740APOINTER
39760ABYTE
272239780THESTEP
27e339800THEUPPER
272439520
39840
39860THELINE
2726
2127
39900
A
HIGH
TEXT
TO
IN
WIGH
THE
4
BYTE)
LOOP
REFLECTING
THE
1
BYTE
VARIABLE
SIGN
OF
2
BYTES
THE
INCREMENT
VALUE
#
OF
4BYTES
0031547
THE"FOR"
POINTER
INTO
THE
STATEMENT
2
0031547
003155¢€00000000144
2734
2735003156°221090008v6e
00315770000000o1601"
2736
2137
2738
27390o3160°0000000u3151°
STATEMENT
TOTAL
16
2
001000
avauTe
SUBSCRIPTED
MYVIIFNLENGTH,<48000sTASUBFLG>JOONTRECOGNIZE
LETJREADTHE
FORS
40020
A 100
003161°©01000000315900000004131°020000003157°2740
2741
2742
27430031647001000000343401092744203165°op1000FNDFORFMUST
0002002746©03166°
003167°200315
001744°401202745Prrr0e316e”27472031707vp100e0ups214014005D, EJSTEXT
27480031710010080202302an160NOTOLJIF
2749va317e00.00000u3176°27500e3175°¢000000003166°ve3174°001000000e11
JTHE
40040
003175¢
001000
002371
002353
HAVEVARIABLE
NO
ENTRY,
JWE ELIMINATE THE
(0,E.
OON'T
AFTEKIT
100 THE ELIMINATION
FSINCE A MATCHING ENTRY
B UH L) STEXT POINTERWASFOUND
AVAILABLE
40300
NOTOL
S
WELL
003177001000
001000003200°000000oe3172°0ooe1e40340JMAKE
40360063205°00034540380JOFF OF
JREALLY
AS
MATCHING ENTRY
JAS003201
¢ 000000
0e3202° 000090
001000
IN
402602759
2762
POINTER
POINTER
MATCHING
2760
800315
002024°
VALUE
pren)
4v280
9031761
A POINTER
JELIMINATE ANYTHING
JIN THE CASE OF "FUR"
40180
40209
4020
2753
2754
INTIAL
STORE
IT
JTO THE VARIABLE IN [TENP)
JSAVE TEXT PTR ON THE STACK
prree
2751
CORRECT
JAND
40060
VARIABLES
ASSIGN
AND
VARIABLE
0031637
2763
BYTES
BYTES
vo3162°
2761
BYTES
"FOR®39960
39960
2732
2133
2756
2757
2758
BYTE
ADURESS
2130
2755
1
BYTES
39920
2729
2752
FORMATS
39860
2728
2731
FOLLOWING
AUDRESS
39720
2712027e1
27e5
THE
EVERYTHING
40320
SURE
16
BYTES
ARE
THE STACK
SAVE THE TEXT
POINTERBASIC
3
MCS
BOBU
HAC
GATES/ALLEN/DAVIDOFF
6=SEP=64
03111
2764©03204¢001000000515
2765003205¢Vo00UE004KTE"
2766©03206°000000©U320U*
2167
2768003207°0010M000G343
2169
2170
MACKO47(113)
UFOK"STATEMENT
23312
40800CALL
40420
4gaunXTHL
10=SEP=TS
PAGE
JGET
003210°
063211001060
001000008545
000USE
21730u3212’GOROBY001607"
21746032130000000U3205"
2175003214*@1N000LGS4S
40500
40520PUSH
LHLD
A
CURLIN
40540XThL
40560
40580LENGTH=2,
<
217840600STRING,<CALL
©03215¢0plovD@UE31T
27600032160000V060241
JNOW
SYNCHK40640LENGTH=2,
<
40660CALL40680LENGTH=2,
<
49700CALLFRMEVL>
W
001000
0000VG000315
0LS336’
2766
2787003221
003222*020000
0p10000U321e’
©0OS4S
2789003225°0010000VVS15
2750©u3224°000GOD000670
2791©@03225¢000R0DBU3L20°
2793
2794003227'
W03230°00000
G000D020OLK
GU3e24’
2188
2795
03226
0RLROD
G035
avr20PUSHLENGTH=2,
<
40760CALLFRCSNG>
4ot80CALLMOVKF
0U3231%001000V0034149800POP
©Vw3232¢00100600030540820PUSH
2197
2798©63233°
003234°061000
00100CpUD325
00000140840
40860PUSH
X1
2799003235°0eAL0E100400*26000e3236¢GpeopeVE322T*2601¥63231°Volove2802
2603©03240°
©003241°001000
0010002605
000121
JGET
THE
JREGAIN
OF
THE
FSETUPFPUSHSOME
JREADTHE
©00325¢*pvovGBU3e3S’
IS
THE
#
ON
THE
STACK
AT
STACK
THE
STACK
AND
POINTER
STERTK
POINTER
POINTER
PUSHR
SIGN
ONEON
2611
2812
2613
#
ON
POINTER
VALUE
TEXT
JOPFOSITE
JSAVE
1SCODE+=0201
%256
At2610
ONTO
LINE
STUFF
e0pOVGO
0010U0
0000CD
LINE
TEXT
TEXT
VIBG1060©03205°
003246°
003247°
OF
THE
INCREMENT
1,0 IN THE REGISTERS
TERMINATING CHARACTER
100 WE HAVE "STEPN 2
DEFAULT
SIGN
CONSTANTS
ON
IF
NOT
LENGTHR2,
<
STRING,<
CHRGET
2614
CALL
2615
FRANUN>>
STEP
<LENGTH=2>85TRING
<
©003251°
MLS 808U
" AC
001000
000315
GATES/ALLEN/DAVIOUFF
6=SEPm64 03311
26179032520000000LS33I’
2616003253'000000VL3ZAT
2819003254¢021000QLRSS
3821003255¢001000000315
2622©03256°W@ODESQ03e2dx
2823003257¢000VR00352’
2824003260°001000000315
e
2825©@3261°G00WOE2826©U3262°DOUGVDGU3ES6’
28276326300100000341
2828©03264°001000000357
2830©03266°0010000UD325
2831
2832©03267°
003270°691000
201000060365
00063
2633
2634
2835
2636003271
©we3272°
0¢3273%
©03274°001000
001000
0p000e
00000000345
600LS2
©01683°
0U3C61"
2637w03275¢GoloveWed3ds
2838
2639ou3azeroiove0eQLEe
264000327700G0ODBURD)
2641003300¢0R1000008305
26842
26430033017
2845
THE
AVBLDL
VG302
©0U3265UU3244°2007
2606
2609
2844
JSAVE0COLTE2606
PU04T
TEXT
NECESSARY
JGET
JGET096000
2829
FINAL
£,0
Am063243°
2820
15
IREAD0,C[433
BASIC
177"MoV
MoVWCV3T6
F3
THE
AS
POINTER
CURRENT
CURRENT
IS
oV
000132
000176
©03242° O0love
2816
TOTK
FRHNUR>
407402796
2604
THE
UM L)
40620003217°
003220
POINTS
CHKNUM>>
21622784
2765
THAT
JPUSH THE TEXT
JIM L) GET THE
2781
2763
[H,L)
JANU RESTORE
(H,L)
JVARIABLE NAME
2176
21772779
AN
§JUST BEYOND THE TEKMINATOR
$1PUT
[H,L) POINTER 10 TERMINATOR
49460
40460
2171
2772
2792
10=1
0ATa
©03265¢
V01000
001000
CALL
MACKO
"FORM
47(113) 03312
STATEMENT
FRAHCHK>
10=SEP=75
JDON'T
NEEO
TO
CHECK
THE
TYPE
PAGE
PUSHW
CALLFRCSNG>
CALLMOVKF
POPH
LENGTH=2,
JSETUP
THE
REGISTERS
JGETTHE SIGN OF
©E3227*
200305
0UDL6S
ONEON:
IFORON:
FSIGN
DJOPPOSITEPUSH
INXPSW
PJSAVE THE SIGN OF
A ONE BYTE ENTRYPUSH
LDTEMPJGETTHEPOINTERTOTHEVARIABLE
JPUTTHEPOINTERTOTHEVARIABLE
8, FORTKJONTO THE STACK AND RESTORE
JPUT A *FOR® TOKEN ONTO THE
8
VALUE
INCREMENT
BPUSH
XTHL
NXTCON:
JPUT
THE
PUSH
ON BACKWARDS
OF
WTOKEN
spJTHE
NEWSTTJALL DONE
1STACK
SPACE
PUSHR
ONLY
THE INCREMENT
ONLY
TAKES
ONE
BACK
THE TEXT
STACK
BYTE
OF
POINTERBASIC
F3
MCS
8080
nac
GATES/ALLEN/DAYIDOFF
6=SEP=64
03111
MACKO
NEW
41520
284741540
284841560
284941580
285041600
2851
2852
2853
2856
2857
2858
2859
03307 PE10D0
093303¢
PE00Pe
00033S
GUOVED
jBACK
jLEFT
03112
NEW
STATEMENT
HERE
OK
FOR
NEW
11
STATEMENT,
END=OF=LINE,
ON
THE
STACK
MERELY
DU
41680IFNLISTEN,
<
417001FNLENGTH,<
41720
PAGE
FETCHER
I
THE
WHEN
A
KETURN
WHEN
(]
IT
1§
IS
JCHECK FOR A CHARACTER WITHOUT
JCHARACTER
41800czCNTCCN>JSEE
4620LENGTH,<41840
41860CALL
ISCNTC>>
LENGTH,<41860SO2862003306¢M100000314
2863003307*000000003465°
286400331070000NGBU32TS’
2866003311¢001000000042
2869
2870003312¢
003313¢000000
020000001605
0035071°
2665
2666
2667
287141900
2872
2873
2874
267541920
41940
41960
41960
060176
2876
JDOING
TEMP>
70
LPTSH, €XRA
sTA
PRTFLG>
Moy
A
@03315¢
©03316°
003317¢001000
000000
001000000376
0vAUTE
00AS12
2880
2861003320°
003321°0P0OVD
000000003370
003512
2882¢93322'P0100D0UOR6T
2683003323¢00lo0n0UA302
2884@03324°0000000U20T2°
28850033250pE0A0003320°
2886003326¢5887001000M0O04S
003327¢0nlose008176
2869
2690
2691©03330¢
003331°001000
00100000BUAS
00B266
2692603332°W0100C0PGLAS
2693003335¢0010000VOS12
28940033347G000AE0U3501°
2895003335¢0p00ne003524°
28960033367Gg100000A136
2897063331°Delove000043
26896003340¢001000000126
42020cP1
420409z
8080
GATES/ALLEN/DAVIDOFF
6=SEP=64
03111
NEW
47(113)
STATEMENT
03112
109SEP=75
003341°00100000035342320XCHG
2900003342PelonoQVRvL2a23anSHLD
2901003343¢000pE00V1607°2902003344°0E0OAQU334’42360
MOW
TERMINATED
118A
11
A
POINTER
JITZERO,
IN
THE
THELAST
SEEIF
WEARE
THIS
AFTER
LPRINT
STATEMENT
10
IF
SO
AT
THE
PROGRAM
HIGH
PART
JRANOFFTHE
JGETLINE#
END
IN
==
OK
(D,E)
11=1
7UH
L) SLINE
CURLIN
&
LENGTH=2, <JTRACEFEATURE
42380LOAISEE0@3345¢Upipeo@eeuT2003346
003347°0E0DRO
0000QC0016317
003343’2907003350wel0¢g00026742400oAINON=ZERO
2908©03351¢00ipe0@UOS1242420JzISKIPTHIS
2909003352¢VE000G003367°2910¥03355¢Do0RO0BGI3u6’
TRCFLG
IF
THE
003354°Q010000032542449PUSHDJSAVE
003355¢
003356¢
023357%
003360¢00love
000K00
001000
001000WeELT6
000133
@0DS37
00031542460LTYLTL)JFORMAT
42480
425000UTCHR
CALLLINPRT3OUTPUT 1T
FPRINT THE
2916
2917©03361¢
003362¢0p20UD
000060BVBVOLY
003352°29168
2919003363
B03364°P1000
0R0R000CALT6
0013542520vl
OUTCHR
PoP
TEXT
003365¢
003366*
003361°M01000
Lelowe000337
0032142540
42560
42580083367¢001000WCD3SS4260029240B3370°UpioGEACDS27426202925
2926
2927903371°
003372°
003375¢Guloeo
000000
0uooAeO0GeRl
L3302’
@V3361*426403928
29290€3374¢
003375¢Dolove
001000@0@S25
AUOS1E42660
420802951093370OolvdeV0326427202932
2933003377¢
003400¢000000
001000800200
MCD332427402934
2935003401°
0@3402*602000
00000004131’
0033T2*2936
2937003405¢0Bl000av0Lan
0UB3T62938003404*0000N000VO4Y29390034050010V0UB3222940003406*0000BO0E26Te’2941003407°0000WO003401°42820J&
2943003410Pplo0e00A0DT42840IHULTIPLY
2944
2945
2946003411°
003412*
003413°091000
001000
000000060117
00OUR6
00EURY42860
4288029470034147001000000353429002948
2949003415¢
003416¢001000
0AGOGD00AL4L
DUA564429202950
2951003411
©0@3420¢VR0DVO
001000003406*
@OAL1L
CURRENT
LINE
#
ON
YES
POINTER
LINE
LINE
MORE
2920
2921
2922
THE
PRINTING
THE
2923
IS
MEANS
2911
ONE
WITH
TRACE
2912
2913
2914
2915
NUNBER
#
IN
(ML)
FORMATING
110,E13TEXT
POINTER
NOTTRC:>
3
GONER
3
D, NEWSTT
JRESTORETHE
JGETTHESTATEMENT
JPUSHON
A
TEXT
GONE3:
JUIFY
GONE2s
Ler
COMES
TYPE
ADDRESS
TRY
OF
,yy
GOTO"
JMUSTBE
7SOMERESERVED
AND
AGAIN
"ON
,,,
LET
NUMCHD=SCRATK=ENDTK+1
Pl
NUMCHD
ane
SNERR
HySTHOSP
STATEMENT
JSTATEMENT
7ADD
ON
NEWSTT
HERE
IMON
A
PUINTER
RETURN
JSTATEMENT
JIF A TERMINATOR
42700
42940
TTY
ZERO
JCHECK
OF
TO
CLEAR
COLON?
BE
1S
AND
RESTART
CHARACTER
CURRENT
GO
JWHICHCURLIN
42800
TO
INPUT
JGETJSETUP
42760
42780
AND
T0
2905
2906
2942
CONTROL=C
CONTINUE
2904
2930
SPEED
FETCHER
2899
2903
PAGE
IT°S
REMEMBER
JOR
MACKO
FOR
THERE?
ISTATEMENT
JFOKCE PRINT
JEND
MAC
"CALL"
BY
JHUST
2866
A
IF
JUSED
42000
2877
2678
2879
BY
1S
SO
DONE,
100NE000EQ)
T0
LOCATION
EXECUTED
ANI0UESA6
000000
MCS
POINTED
THIS
41780001000003305!
F3
OF
STATEMENT
)003304¢
BASIC
CHARACTER
ADDRESS
A
41740
417602661
001006
1~SEP=75
FETCHER
0¢3303°2860
¥033147
SUBTTL
41620} IT CAN
4164p
41660
NEWSTT:
@¢3302¢
2854
2855
47(113)
STATEMENT
2646
BY
WORD,BUT
RESEKVED
NOT
WORD
2
DISPATCH
OFFSET
TABLE
GOSUB"
COME
HEREBASLIC
F3
MCS
BP8Y
M
GATES/ALLEN/DAVIDUFF
b=SEP=64
03311
MACKO
NEW
0034210vlvve@volle42960
2953©03422°001200QLAV432954003425PpigReQVO1G62955VB3424°Q010000VUO39S43020
2956
VN3425*
0V010V0L
ROR3S3
2957
2353112
jPUSHTHE
INXJTHESTACK
43000MOyJPUSHM
PUSH
435040
XCHG
1FE
ADDRESS
SAVES
JRESTORETHE
CHRGET
RET>
JEATFIRST
JGO
THE
DO
THE
IFNLENGTH,
<no3426°PploVEQVAEL4S45140CHRGTR:INXHJOUPLICATION
2962VO3427°Q01000QUALTe43100MOVLYL]JSEE
2963003430°¢niedeQvesTe43180cPI2964(P03431°*Qp00V0VLRLTe2965V03432°0010000QRB320
43209
43220i
296743240i
@VAST6
QALAL4DL43280c HRCON:
435200
003433¢
29700V3434°
001000
0QVE0R
eP03435°V910600UdSie
2972
29730u3436*
0A3437°@uOLve
VnRoNRVB3426"
0B3416°
WB3440*201000QALB3T6
0h3441°VpOOVYVEBVEY
2976
ve344e’
CHRGET
CHRCON
18
THE
CONTINUATION
i
UF
THE
CHRGET
FOR
SKIP
45300JZCHRGTRJGETANOTHER
43320CPI"oJALLCHARACTERS
GREATER
JSET
vBeoLTIQLALTH43380
Q0RLTS43400
0034452010000311
SPEED
CHARACTER
i"9" nAVE RETURNED,
IMAKE NUMERICS HAVE
Pplove
FOR
SPACES
433540
435360Vuluve
RST
EXPLANATION
RST
JMUSTV01000SPEED
PUINTER
CHRGET
RST
.UR3445°ONTO
CHARACTEK
OF
CPIB03444°TONOT
RNC>
29662969
TEXT
GO
BUT
STATEMENT
431202961
2968
TO
BYTES
LENGTH,
<
43100
2960
PAGE
42980
43080
2959
10=SEP=75
FETCHER
MOV
43060
2958
47(113)
STATEMENT
2952
ZERQO
IF
THAN
SO SEE IF
CARRY ON
NUMERIC
(A)=p
43420
45440
5
.
.
.
3ASIC
F3
MLS
B0BY
MAC
GATES/ALLEN/DAVIOUFF
6=SEP=bd
83311
2982
MACKO
4/7(113)
23312
10=5EP=75
PAGE
12
RESTORE,STOP ,END,LINGET ,CHRCON
435460SUBTTL
RESTOR:
RESTORE,STUP,END,LINGET,CHRCUN
2983
2984P03446°2p10VEVLRA3S343500
29850034470plpeeMALVLS24352@
2986
2987©0O5450°
©03451°0pRPbe
000000©O1617°
003436°2986
2989
299@V0O3452*
WV03453*
V03454’Gp100P
vplene
VpRuReQVRESS
ouevde
001627°2991©@03455°0pRUVeVB34S50°29930B3457° eploey
2992
003456
01000
QALA3S3
@ees1l
43540
43560
RESFIN:
43580
XCHG
}SAVE
LHLDTXTTAB
X
SHLODDATPTR
XCHG
435600
IN
(D,E
JINITIALIZE DATPTR TO ([TXTTAB)
=1
JREAD FINISHES COME TO RESFIN
JGET
RET
(h,L)
THE
TEXT
POINTER
BACK
2994
2998
2996
2997
©03460° 001000
©@03461°
VOO0
2998
43640IFNne3ael*43680CNLCA3=z= ,w]
43700ANI
00B333
0VVRRVR
2999003462°001000QUA346
3000003465°2000000VVLOL
3001
435660
QU3464°201000VLS0045720
3002
3003©Gu3465°
V0V3466°001000
VPPNV0QVO315
0NB3126°43740
30u4VD3467*20000E0E@3454°3905QR3470°veloveQLASTe3006©03471°voRENe©LOVESQ03472*O0lede©voV3AL
3007
3008
3009
3010
3911
3012
3013
Opiene
QLOS6E
3014©v03474*V21000QEASQV
3015©03475°oploud0eRb4e
P03476°PP0VOYR0QR1605°
VO3477*VpVRVE0WU3460’
VE3Spv*
Vo3SP1*vpleRe
201000Vvasnl
0VLA365S
IN
CALL
IFELENGTH,<
43820
43840IFN
STOP:LENGTH,
<
RNZ
45860
435860
435920
JMP
XwD
END3
43940
43960
43980
JCONSUOLE
STPEND:
ENOCON:
P03502°
dvlhveVLBLSEVo3503°000000PLle@l’VO0OVD0E3476°¢Vo3505°GplovevLOBLTSV03506V21000QLBR4406ow74440280
023510°201000QuVB31e203511°000PBe0QL3S524°0u3512°VpONRnVL3503’V03513Gn1odewvowvde
a63507*
oviene
Q03514°200RPBO0QU1611°
¥03515"0pGOVE'QL3511°
V03516°*Vp1PLEVeRARSe
nB3s1/°*vpbove0Vel6R3*
CHANGE
CHARACTERSTHEN
J1F
NO
JSTUP
CHARACTER
JRETURN
*01000,"0366
JSUKE
JSETUP
JTO
IF
NOT
"STOP"
[A)
IS
“C
“C
TYPE
THE
IMAKE SURE
SHLDTEMP
POP
PUSHB
PSW
CURLIN
I1SAVE
FOR
FLAG
BREAK
"END"
AND
HAVE
WHETHER
MAKE
A
TERMINATOR
MESSAGE
STATEMENTS HMAVE A TERMINATOR
"CONTINUE"
JPOP OFF NEWSTT ADORESS
JSAVE THE MESSAGE FLAG
JZERQMEANS
JSAVECURLIN
DON'T
LALD44040MOVA,L44060ANAHJSEEIFITWAS
44100JzDIRISJ1FNOTSETUP
441¢0SHLDOLOLINJSAVETEMPJGET
A
CONTROL=C
STATEMENTS
AS A
44020
44140
NO
STOP>>
RNZ
INR
LOC
INCHR
44000
V03504°COMMANU
IVONE
CP1
435780
43990
2
RNZ
CNTCCN:
43760
43800
©nOV3475*
ISCNTC3
LISTEN,
<
OLD
LINE
POINTER
TO
PRINT
"BREAK"
DIRECT
FOR
CONTINUE
#
START
OF
STATEMENTBASIC
F3
NCS
8080
HAC
3035
GATES/ALLEN/DAVIDUFF
6=3EP=64
D511
0035200000UD3036003521°0ulenn00AD4R
3637
3036003522¢
003523¢W00WUD
@00edn0B1613°
0B3517¢
3039003524¢
040
3041003524°0010000U0RST
3043
3044003520¢
003527¢000GVN
000E000U1541°
003522°
3045003530¢2010903ude
3047
3008003531*
0035327
003533¢01000
000000
00000n3049003538¢30500035353051003536¢3052
3053
3054003537¢
003540¢
003541°
3042
MACKO
47(113)
03112
10+SEP=75
PAGE
aa16n
SHLO
44180DIRIS:
46200IFN
OLDTXT
ISAVE
CONTRM,
<
ARAsTACNTHFL>FFORCE OUTPUT
00036144280POPPSHJGET00BL41
001134°
UV3526*44300X1HyBRKTXT1 MBREAKN
0l00n00DSB244320NzERRFINJCALLSTROUT
00000000212170e0NND©E3532*001000
000AUD
00000¥60303
002145°
V3535’READY>JTYPE"READYN
0VIV62
preTy)
A
4a340ane
44360REALIO,
<
305644380POP305744400HRRZ14,J0800T##
3058
3059
30604uag0JRST@(14)>
44460
8
001000WU030044480003545°0010000BO03644500Wl£ ERRCN
3063003544°0000000GOV2L3064003545°001000MGOOSE44520LHLDOLOTXT
3065003506¢000000©01613°3066003541¢00RO0YVU3540*3070
3071
3072003550¢
003551°¢
003552¢001000
021000
beleve000174
000265
008312
C
RNZ
JMAKE
3073©03553¢000aN03074903554°a0pep3075003555AU100000035344660XCHG3076
3077003556¢
©03557¢D01000
000R0R0UBUSE
B01611°44660LALDOLDLIN
3078
3079
3080003560
©03561¢
003562°090000
02iwve
000E000L3553’
00BLA2
V160744700SHLDCURLIN
3081©03563¢000p0Y©0355T°3082
3083
3084003564°
0035657001020
0p1e00000353
0U@S1144720
44740
44760XCHG
RET>
LENGTH,
<3085003566¢00100000031544780CALL30600356700P0ORD01102073067003570¢GoPedD0W3S62’
1A
44540
068
JAND
44560
NCS
8080
MAC
OF
170
44600
4ub20
44640
oy
oA
Jz
SURE
STORED
12ERD
44500
3069
RID
*C
FLAG
AND
NEWSTT
18
THERE
TEXT
INTO
READY
RETURN
SETUP
INDICATES
1S
A
TERMINATOR
POINTER
BY
OF
STKINI
THERE
IS
NOTHING
CONTINUE
1"STOR", "END" , TYPING CRLF
370 "INPUTY AND *C SETUP OLDTXT
wo2102°
003546°
GATES/ALLEN/DAVIDUFF
b=SEP=b4
03311
MACKU
47(113)
03112
PSAVE
FSET
(KL
UP
OLD
JRESTORE
LINE
10=SEP=75
PAGE
A
LINE
12-2
02100000030044802RNZJMAKESURETHERE
P03572*
003575¢
003574°601000
6oio0e
000000EVLT4
0LB3T6
00811044820
44840INR
cP1JWAKESURETHE
JCROOWONT
44860
44880
44900
LINPT2223
JTERMINAL
003575¢
003576¢001000
0000R03096U03577°0U00D00356773097003600°00100000OV62449203098
3099
3100003601¢
003692°
003643°000000
@U0MRD
021000V0BUAL'
DO3STE!
00031144940RET>44960LENGTH=2,<3102003604¢010000000T644960WD~01000,7076JUMVI
3103
3104003605°
003600¢801000
20100000BRS!
00006245000
45020XRA
5TAA
TRCFLEJMAKE
(AJs0
JUPDATE THE
3105003607°000000DO1631°3106003610¢000000P03621°3107©083611°801000¥edS1145060
3109
311045060
45100
J"FUNCTION
NULCNT
45040
3108
FCERR
JCHANGE
NUMBER
WORK
WIDTH
3094
3095
3101
IS
CURRENT
RESTORE,
STOP END, LINGET, CHRCON
003571¢
Av0s22
D10776°
AS
GETBYT
3089
3090
3091
3092
0035747
#
(H, L)
3086
3093
FALL
LENGTH,<
00354273062
3067
BACK
JGET
3061
F3
1T
44220
003525° L01000
3055
BASIC
12=1
RESTORE,
STOP, END, LINGET, CHRCON
003514
CALL"
NUMBER
IF
TERWINATOR
IS
IT
CHANGE
ERROR
OF
A," NON=ZERO
REASONABLE
ISN'T
LOCATION
NULLS
GUANTITY
FOR NO TRACE
TRACE FLAG
RET>
FUR
A
LETTEK
/
3111
3112003e12f0010000¥91T645120
45140MoV3113003615700100000037645160134"an
3114003614000OUEU0G1013115
3116©03615¢
003616°001000
V01000000330
00057645180
45200RC
cp191
3117003617800000©0d1333116
3119003620°
0@3621¢Wa10b0
001000000871
AG031145220
45240ene
RET
CAKRY
CAKRY
ONSNUT A LETTER
OFF=A LETTER
A
RETURN
312045260312145260312245300TURNS
3123
3124
312545320
45340
45360LEAVING THE RESULT IN (0,E),
NEGATIVE ARGUMENTS
ARE NOT ALLOWED, (W,L) POINTS TO THE TERMINATING
CHARACTER OF THE FORMULA ON RETURN,
3126
3127
312645380
45400
454203129454403130454603131
3132
3133
3134
3135
3136
3137
5136
313945480
45500
45520
45540
45560
45580
45600
45620
45640314045660
INTIOX
READS
IT
INTO
A FORMULA
A
FROM
POSITIVE
THE
CURRENT
POSITION
EARLY
AND
INTEGER
LENGTH=2,<
CHRGET
CALL
OEINT:
FRMNUM
FCERR
FaC
144
;
QINT
LENGTH,
<
MOVRI ~ 144,128,0,0
CALL
FCOMP
MOV
0,C
RZ>
FIF NEGATIVE BLOW WIM OUT
JSEE IF ARG GREATER THAN 32767
FREGISTERS 8 FLUATING ~32768
JSEE 1F FACSREGISTERS
JSETUP 03200 Es0 FOR
=32768
JWAS =32768, (0,E] 1S SET UP
#BASIC
F3
MCS
B0BY
HAC
GATES/ALLEN/OAVIOUFF
bmSEP=64
531
MACKD
47(113)
93112
10=SEP=75
PAGE
RESTORE,
STOP, END, L INGET, CHRCON
314145680FCERR:M1
E/ERRFC
3142
314345700
45720IFEJNP
ERROR>
LENGTH=2,
<
31440036220010000LG32T45740INTIDX:CHRGET
3145
3146003625°
00362420
PNOROG@UB315
PU5S36!45768INTIDe2:5147003625¢V0000U360T*3148
3149P03626°
003621°001BUQA003AS
000515
100
BIG,
FUNCTION
A
CALL
CALLFRMEVLJEVALUATE
45760
45800PUSH
CALLM
FRCINTJSAVE THE TEXT FOINTER
JCONVERT THE FAC TO AN
ERROR
FORMULA
INTEGER
3150@03630°0000000UD666X5151
3152
3153G03631°
003632’
003633¢00REUN
0p1aN0
00lovpPB3624°
©@0O1T4
PUD26T45620
45840Moy
ORAAk
AFSEE IF THE RESULT 1S NEGATIVE
1BY LOOKING AT (H1’S MSB
31546A3634¢201060MG03T245860amFCERRFDON’T
3155003635¢000000©10776°3156
3157
3158003636¢
003637
0036407000AN0
001000
0010000U3630°
00353
0LES4L45860
45900XCHG
POP3159903641¢Q10000eAS1L45920RET>
ALLOW
NEGATIVE
NUMBERS
JRETURN THE INTEGER IN (D,E)
JRESTORE THE TEXT POINTER
3160
316145960
s1e245980
316346000
3164
316546920
46040
316646060
316746960
316846100
3169
LINGET
LINE
(0,E)
46120
3170
317146140
46160
317246180}
READS
NUMBERS
15
A
LINE
RANGE
#
RETURNED
(H,L)IS UPDATED
IN
POINT
NEOUSS46200LINGET:DCXH
46220LINGT23LXI0,SCOVE
46240
46260MORLIN:ZCHRGET
RNC203645¢6010000U0G21
003644°02000000OU00*
003645°
003646’
003641°000000
001000
01000Q03635*
000327
000320
CURRENT
65529
TOTHE
TEXT
TEKMINATING CHARACTER
JZERO
WAS1TA
JSEEIFTHE
003650001090@U034546289PUSHW003651°
003652°
003653°
D03654°001000
001000
G0P0WD
0000W0VU565
000L41
014630°
0U3644"46300
40320PUSH
L1PSW
HySCOUE+6S5S523164003655¢ON10000VES4T46340COMPAR3185003650¢Mn100000AS3R46360JcJYES,SYNTAX
3186003657'000000@w20Te’3187003660°000AN0¥03655"3188003661¢001000AUD142MOVFSAVE(0,E)
3189003662’4P10G0000153MOV3190003665¢001000000031DAD3191003664700100000GUSLDAD3192
3193003665
D@3666¢001090
N010000EPL31
AEOLS)0AD
0AD
MCS
8080
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
05111
MACKO
47(113)
93112
10=SEF=75
PAGE
3195
3196
5197003679°
003671°
003672°001000
00DO0O
0010uD000326
W0OL6D
#ER13T46520su1"o46540oyEA3198
3199
3200003673
003674°
003675¢001000
GoP0Ae
W010000UGV26
D0OURL
200U3146560MY0,04656004D01ADDTHE
3201003676°0010000V3S34660XCHG3202
3205003671°
003709¢001000
0010000UGSAL
€V030340620
46640POP
JnpHJGETBACK
3204003701°0000000U3646’3205
3206
3207
3208
3209003702*@000U0MR36ST’003705¢
003704¢
003705¢@uioe0
VOUNE
Boooae@vESi2
0V2443°
VO3701°3210003706°00100006@315
46660
46680
IFN
CLEAR:
LENGTH,<
JZ
CLEARCJ1F6700CALLJGETAN
JSEEIF
003707°
©03710°
003711°
003712¢0v00w0
000000
001000
001000003623°
003704’000053
bWO32T46720
46740Dex
CHRGET
003713*001000VS30U46760RNZ
46760
46800
W
MEMSIZ
NO
JSHOULD
MoyAL003721°Q0loew0Vee2S46840suBE001900
0uiowe0LV13T
00B1T446860
46880MoV
MoyEoA
A3220903724°0010M0Vvse324690056803225
3226
3227
3228
3229
3230
3231
3232
32335003725°
003726°
G03721°
003730¢
003731
003732¢
003735°
003754
003735°001000
U0i0A0
0000U0
000000
001000
0ooeun
000000
021060
000000Ovel2l
0PES32
V02ETe’
003716°
000LSE
Be1e21’
QU377
0UOUOL
00OUSL'46920
46940Moy
JcD,A
SNERRIWANTED
LHLDVARTABFTOP
Lx1B, SCODE+4DJLEAVE
3234003736*020000003732*3235003737001000000V11470003236003740Kolovo0UOSAT470203237003741@uioeo0v@s22470493241003745001000000042STKTOP000341H
3242
3243
3e4s
3245
3246
003746%
003747¢
003750°
@03751¢
©03752°
(0A000
000000
001000
@0l000
WE00V0
002057°
063735°
00353
01615°
Au3T42*
00E30S
0U2443°
(W,L)
46960
DIGIT
TEXT
FOINTER
FORMULA
JUST
INTEGER
ITS
JSUBTRACT
CLEAR
INTO
THE
FINISH
ISAVE TXTPTR
JGET HIGHEST
003722*
003725%
000000
090000
001000
46820
PUSH
LHLD
INTID2
3222
3223
003742*
003743¢
G03744°
INTO
Psu
3221
3236
3239
3240
816
ERROR
NEW
POP
00BSAS
0YILS2
001545°
0037071’
00O1TS
T00
12=4
46500
001000
001000
6000AC
@ad0vs
@01000
1S
RESTORE , STOP , END, L INGET, CHRCON
000361
003714°
G03715¢
003716¢
003717°¢
0u3720°
#
#
D,E)#18
001000
3216
3217
3218
3219
3220
LINE
JPUTTINGG03667°
3215
LINE
4
3194
3211
3212
3213
3214
CONDITION
DIGIT
5179
F3
WITH
ACCUMULATED
3160
3181
3182
3183
BASIC
POSITION
(D,E],
TO
0010003174
THE
TO
AND [A) CONTAINS THE TERMINATING CHARACTER
CODES SET UP 10 REFLECT ITS VALUE,
003642°3176
3177
3178
@
SMASHED,
ANSWER31733175
FKOM
FROM
(D,E)
END
THERE
ADDRESS
H,L1=(0,E)
MORE
THAN
LOCATION
IN
BREATHING
INTO
TOTAL}
USE
ROON
8
JROUM?Z
J
ONERR
CLEARC>
INO,DONPTEVEN CLEAR
JNEWSTACKLOCATION
JSETUPNEWSTACK
JREGAINTHETEXT
160
CLEAR
[H,L)
LOCATION
POINTER
(D,BASIC
F3
MLS
8080
HAC
3247
3248
BASIC
F3
003755°
MLS
8080
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
000000
03311
GATES/ALLEN/DAVIOOFF
6mSEP=64
03111
3249
3250
47(113)
03312
003754 001000003755¢000eR00UDSI2
3253003756@uE00Y00315’
3255
325600375/001900908315
3257
3258005760
003761600000
UpEOUD0U244S*
00315’
326100376200100000OVOL
3262
3263003763
003764GueDU0
000000U3302°
003768’
3264
3265003765¢
003766001000
000000009303
004VOT*
5266003767°00VONN0U3765¢
002437°
3254
STOP , END, LINGET, CHRCON
47140PAGE
MACKO47(113)
3259
47160
47200
03112
13
SUBTTLRUN,GOTO,G60SUB,KETURN
IFNLENGTH,
<
RUN:
Jz
RUNC.
INO LINE # ARGUMENT
FCLEAN
M L]
B NEWSTT
47340RUNC2>
47400
47420
3272
B
LOW
47440
ENTRY
47469A
47480THE
327447500A
327547520327647540
47560
327847589
327947600
3280003770¢0p10UC000315
3281GUSTTL*000000002024*
3282
3283003/72'
003773¢00B0LD
000000QU3T66’
000603
003775¢
003776
003771
004AA0*
004pn1fWplowe
001000
@Rl000
000000
0AVRVE@URS4S
000345
0UDLSE
0L160T°
0E3TT1
021000DUO343
003774 001000
004nne’
@21000
000600
000301
00Mb26
000214
47620
HIGH
TOTAL
GUSUB:
ar640
47660
a7680
47700
4r7e0
004003*
004004’3294004p25*V010900UO325471800
3296
4760
004001* 02104000D30S471840
001000
00GLLS
g
47860
47880
3299
3300
350147900
47920
47940
i
THE
WNEWSTT"
THEFOLLOWING
HAS
ON
AND
STACK
,,,
ONLY
JPUT
TOKEN
EGUAL
LINE
#
POINTER
OF
INTO
TO GOSUTK
THE
THE
THE
1
THING
ANO
FALL
PRESERVED
INTO
"GOTO"
FORMAT
BYTE
GOSUB
TEXT
OF
STATEMENT
THE
GOSUB
2
2
BYTES
BYTES
ADDRESS
5
BYTES
CALL
GETSTKJMAKE
[}JPOP OFF RETURN ADDKESS OF "NEWSTT"
SURE
THERE
1S
ROOM
FREALLY PUSH THE TEXT
JSAVE TEXT POINTER
JGET THE CURRENT LINE
JPUT
CURLIN
JLEAVE
JON
47820
3298
STACK
0,608UTK
41780
004006*
THE
H
H
CURLIN
47740
3291
3292
3293
ON
IS
THE
AUDRESS
32733277
[H,L)= [TXTTAB)=1
IDATPTR, VARIABLES
47300
3271
UP,SET
FRETURN TO NEWSTT
JCLEAN UP == RESET
CLEARC
47260
3270
3297
PAGE473203269
3295
1{0=SEF=75
41240
47260
47360
47380
3290
12-5
RUN,GOTU, GOSUB, RETURN,
See7
3268
3284
PAGE
41220
3260
3285
3286
3287
3288
3269
10=SEF=75
RESTORE,
47160
3251
3252
WACRO
MU3Tae’
THE
A
ON
GOSUB
THE
POINTER
#
STACK
TOKEN
AND
([H,L)=TEXT
STACK
JTHEGOSUB
JOF"NEWSTTH
TOKEN
TAKES
JRESTORE RETURN ADDRESS
IN THE 4K VERSION WE START AT THE BEGINNING
AND SEARCH, IN THE 6K WE START WHERE WE
ARE IF WE ARE
GOING T0 A FORWARD LOCATION,
ONLY ONE BYTE
PTRBASIC
Fs
MCS
8080
MAC
3502
3303
3304
3305
3306
3307
GATES/ALLEN/DAVIDUFF
be5EPRbL
1
004010*
004011°¢001000
00E0AG00U315
DB3642*
gu4@12’V000D0UAVRL'
MACKO
4/(113)
95§12
10=SEP=75
PAGE
13=1
RUN, 6OTO, GOSUB , RETURN,
41960
47980
CALL
48000
48020
LINGET
JPICK
LENGTH, <RNZ
UP
THE
LINE
#
JAND PUT IT
JSHOULD ENDIN 1D,E)
WITH A LINE
==
330845040JTEKMINATOR
3509
3310
331148060
48080
48100JIF 1T DOESN*T
7 (ON GOTO MAKES THIS
JIN OTHER VERSONS)
3312
BLOW
HIM
UP
WRONG
46120CALL48140LENGTH,<48160CALLREMJSKIP009345
0eALSE
0016GT°
D414’48180
48200PUSH
LHLDM
CURLINJSAVE THE POINTER
IGET THE CURRENT LINE#
@VO34T4p220COMPAR§(D,E]CONTAINSWHEREWE
CONTAINSTHE
3313
3314
3315
3316004015¢
004n14*
004015901000
0p00MD
000R0D000315
004DT4*
©VAU1L®
3317
3318
3319
33200edn16f
00de17¢
004020¢
004021001000
ag10ag
020PVD
00GUAD33210p4022¢0pleve
FNDLIN>
TO
THE
END
OF
THIS
LINE
ARE
48240J ML)
3323
332046260
46260$50 COMPARING THEM TELL US WHETHER
JSTART SEARCHING FROM WHERE WE ARE
330548300$TO STAKT
3326
46320
JOF
3327004025¢001000000341463403328004p24°001008000L43483603329
3330
3331
5332004n25'
00dp26*
004p27°
004p30*991000
0000MD
0pAGND
@91090DLO33H
Q023T4°483803333004g31°00A000002571°3334
3335004032t0000NEDE4L26"3336004035¢001000000140usaapo8
3337
3338
3339
3340004034°
004035'
004u36*
004037¢0010
001000
001000
0010000€0151
000U5S
000330
0003L46460
48480
48500
46520Lic
"
3341
3342
3343404040’
©004041¢
0u4pac’000DUR
001000
M000I0©UGV1V
000303
0W2102°485003344004043DE0AGD004U31Y
@0AUR0*
0M0324
C
48400
H7 (/L) SCURRENT
"JPOINTFSEARCHFROMTHIS
FSEARCHFROMTHE
JSEARCHAGAINIF
FNOLIN>
JIF
ERRUR
48560330648560334748600SEE
3348
3349
335048620
48640
48660KETURNY
RESTORES
AFTER ELIMINATING
ENTRY
5551ageeni00030048700RETURNS
0LGL26
000STTus7200ougasr
3353
3354©004045¢
004046®
BASIC
F3
MCS
808U
MAC
Q910 0
000R0D
GATES/ALLEN/DAVIDUFF
6mSEPm64
23111
3555
3356
3357
3356
3359
3360
3361
MACKO
47(113)
0gae50t
0040517
gp4pSe’
0000Ra
0AGOVD
G01000
001000
000000
060315
001744°
0UAU42'
0UDSTL
TO
OR
THE BEGINNING
POINTER
LINK
BEYOND
IT
POINT
BEGINNING == ACTUALLY
ABOVE
SEARCH
MATCHWEAREUONE
1FNOHATCH
FAILED
FUR
THE
FORMAT
THE
ALL
OF
THE
A
"US"
STACK
FBLONHIM
WylTHAKESURE
10=SEF=75
ERKOR
ENTRY
LINE NUWBER ANO TEXT
THE "FOK" ENTRIES IN
RNZ
03112
PAGE
WE
POINTER ON THE STACK
FRONT OF THE "GOSUB"
UP
IF
THEKE
THIS
ISN*T
VARIABLE
A
TERMINATOR
POINTER
132
RUN, GUTU, GOSUB, RETURN
JIN
48760CALL
48760SPHL
134
FNDFOR
[0,E)
760 PAST
NEVER
ALL
GETS
THE
MATCHED
"FORM
JUPDATETHESTACK
JERRORERRRG1S
ENTRIES
000376
0V214488003362004055°0010000UAG3E48820E/ERRRG3363004056°000N00EUDS3364
3565004057°
004060’001oRw
000VOGMUAS02
002102°48849ERROR3366
3367
33568
3369
3370004061°
©0odo62’
004065°
004064’
004065*000000
001000
A0l0Re
G0N0
D000N00UAUSO’
000341
0VOU4R2
001607°
004L60*48860
45880H
CURLIN@01000
0U0OR0
@000Ve000041
003302
004064*48900HyNEWSTT3374
35750ukaeb’
004061°
004070°004071’00100096034348920
48940JPUI RETURN ADDKESS OF "NEWSTT"
JBACK ONTO THE STACK, GET TEXT POINTER
48980
49200
49220JSKIP OVER SOME CHARACTERS
FSINCE WHEN "GOSUB" STUCK THE TEXT POINTER
JONTO THE STACK THE LINE # ARGUMENT HADN'T
3571
3372
3373
004@53¢
004054°
001200
THE
JCEMATCH,
SO
JGIVE
"GOSUB"
48740
004gal’
A
AT
LINE#
E/ERRUS
33053352
SEARCHING FROM
Luop
46420
USERR:
TXTTAB
CURKENT
GOING
3322
3376
60SUTK
JGET
JPUT
46960
3377
3378
3379
3580
49040
"RETURN
LINE # "GOSUB"
IT INTO CURLIN
JFROM"GOSUBTM
JBEENREAD
IN
WITHOUT
GOSUB"
WAS FROM
YET,
3561
3362
3383
3364
3365
3386
3387
3368
3589
00472’
00475¢
021000
600000
000EY)
000UT2
006074
3392
33593
3394
3395
00474
00475°
STRING,<
49120
49140
49160
49180
49200XHD
o49240REM MUST PRESERVE
49260
49300xw0
XW0~01000,"016
~01009,0
v8,0
49220
3590
3391
491000glo00
V01040@V0U16
WWAUDD
49200
~01000, 701
LENGTH=2, <ELSE:>
BE1000DOALEE49320
49340339700410002109000017149360MoVMoVc,8
3599
3400004102°
004103°001000
001000000107
0VALTE49400
49420MoV
MoVB,A
At
340200410500100000031049460Rz
3396
3398
3401
3403
3404
004076’
004071¢WU0WOD
004101¢001000
0u4104°
Ovaren’
604107°
0elone
0alo00
001000
3405004110° Q010v0
34070v4112%
3406
004111°
@0i0We
G000AD
DOOLDY
000110
0ve26T
0KBeTd
00@S10
WUEL4S
@U3T6
QVEU4Z
49380
49440
49480
ORA
cHP
49500RZ
49540131
49520
5"LXI B," TO PICK UP "%
INTO C
SUDATAN TERMINATES ON
"1
JAND @, "i"
ONLY APPLIES IF
JGUOTES HAVE MATCHED UP
JEXECUTED "ELSE"S ARE SKIPPED
(D,E)
BECAUSE
OF
"GO
TO"
JMVI C,
THE ONLY
1NO=OPERATION
S"DATA"
JINSIOE
JWHEN
AND
AND ERROR
TERMINATOR IS 0
ACTUALLY EXECUTES THIS @
QUOTES THE ONLY TERWINATOR
A QUOTE
JTERMINATOR
IS
1S
SKIP
SEEN
TRADED,
THE
SO
IS
ZERO
SECOND
IN
"DATA"
JCOLONS INSIDE GUOTATIONS WILL HAVE NO EFFECT
JGET THE CHARACTER
JZERO
IS
ALWAYS
A
TERMINATOR
JTEST FOR THE OTHER TERMINATOR
INX
J18
11
A
GUOTE?BASIC
F3
MLS
B98O
HAC
GATES/ALLEN/DAVIDUFF
6mSEPmb4
03i11
006113¢001000G00312
004114¢0pRORGGA9100°
0041157NougawB0aa67¢
MACRO
47(113)
RUN, GOTU,
#3312
49580
45600
49620
49640
49660
49650
49700
04116t0010000UO326UnA117¢agapaeeo212Ga4120°021000000302006412170G0AD004105°004122¢DGOVA0GR4114°006123¢010000PORTYGauy24touigneeugz1e49840
004125¢00100000012749860
G04126¢
0041217010A000830349880
0000A0€04105"0041307000000G24121°
10=SEP=75
PAGE
133
GOSUB, RETURN
49560
9
IFE
ExcHal
F1F
50
TIME
TO
TRADE
LENGTH=2,
<
1
| WHEN AN "1F" TAKES
§ TO START EXECUTION
IT SEES SO
"IFNS, THE
A FALSE BRANCK IT
AT,
"DATA" COUNTS
THAT THE
COUNT 1S
"ELSE" CODE
KEPT IN
(D)
CAN
MUST FIND THE
THE NUMBER OF
MATCH
"ELSEMS
APPROPKIATE
"IF"
"ELSE
WITH
1
asren17KF1S1T
49740REMER11FNOT,
49760
49780
AN
FSINCE
FU0/E)
49800
150
49820
ONLY
1ZERO
ON
WREN® CAN®T SHASH
WE HAVE TO BE CAREFUL
IF
WE
0JCARRY
0, 4>JUPDATE
[
MIFV
CONTINUE
B
DOESN’T
INCREMENT
ON
IF
(8]
EGUAL
D,
NOT
(THE
"IF"
COUNT)
ZERO
(D)
REMER>
49900}
49902§WITHOUT
49904§S(8]IS
49906jANDASCAN
STRINGS
SET
THERE
UP
IS
AS
MADE
IS
Tne
FOR
NO
NEED
10
SECONDARY
(B]
OR
WATCH
QUOTATIONS
TEKMINATOR
ZERU
49908
49920IFE<
STRING,49940DATATXWD01000, 1FMAKEREMiXwD“01000,16SMAKE(C150
"01000,¢
A1ZEROAND
LUOPDR:XuD
MOV
49960
49980
50000
50020
(C12Mi%
AND
SKIP
g
50040
50060OxA
R2
NO=OPERATION
AJALWAYS
cHpJCHECK FOR "% IN DATA
50100w2<50120
50140INX
JHP“
LOOPDR>JLOUK
AT
JGET
THE
56080
STOP
ON
ZERU
CHARACTER
NEXT
50160
BASIC
F3
3450
3451
3452
3453
MCS 6080
HAC
GATES/ALLEN/DAVIDUFF
bmSEP=64 03111MACKO
MLET"
004131@0100000031550180
50200
0bu4132°
00413500p00A0
00000006505°
AU4I2T"
47(113)
03312
SUBTTL
LET:
18=SEF=75
"LET"
CALL
PAGE
PTRGET
14
susu
345550220
50240INAMED
JIT ON
345650260JTHE
3457502807AS
3456©004134°001000B0B31T3459004135©2002000A2603460
3461004136°3462
3463
3464
3465
3466004136¢
004137¢
©Do414p’
004141¢
V04142001000
000000
0000PD
0p1000
V0100000D0TE
001543°
004L32*
000365
00B32550360LOAVALTYP
50380
50460PUSH
PUSHPSW>
D
3467004145¢00100000051550420CALLFRMEVL
3468
3469000144°
004145¢VA0EOD
020000005336°
004137*3471©Gu4146*2010000VO3A3504603472
3473004147°0010008000450480
505003474004150¢0M0OND0616033475004151°0pO0ADPU4144°50520<
STRING,
50560POP.
50320
50340
3470
5476
3477
000321
0041567001000000325
3482000155¢D010RY0UVSTH
3483DU4150¢004157°
0041607
0041617
094162°001000
0A10VD
DOOGEN
VDOOROVpOEVRGUVLDS
3468004163130900A41637
3479
3480
3481
3064
3485
3486
3487
SYNCHK
REDINP:
IFN
EQULTK
JCHECK
POINTER
AND
TERMINATING
FOR
REMAINS
A,PSW
JGET
THE
OFTHE
XTHL7 UMy L) sPOINTERTOVARIABLE
SHLDJTEXT
JSAVE
FAC
POINTER TO ON TOP OF
VAKIABLE POINTER FOR
)DJRESAVETHETEXT=POINTER
50584cPI3JSEEITSA
P0OSAS
00302
004237
0PA1SL’50586
50588PUSH
INZH
COPNUMJSAVE THE
INUMERIC,00100000A31SCHKSTR>JMAKE SURETHE
FORMULA
B0UID0U4161°JCARRYFOR
STRING
50560
50581
50582
3
PSi
LENGTH=2,<
50590CALL
50600LENGTH=2,
<
RAR
0PORED
0LOVOVK
JGET THE VALTYP OF THE
JVARIABLE
IF
INTO
[A)
STRING
POINTER AT THE VALUE
SU FORCE 1T AND COPY
50620JFOR NUMERIC
JMAKE SURE VALTYPMATCHES
50680JANDFLAG
349650700JON
3497
50860
3498
3499
3500004166
004167°891000
00000000ANSE
VU1637"
3501004170000GDPOA164"
3502604171¢Q010D0U03AS
50880
50900
50920
CALL
INPCOM:
Jz
PUSH
LHLD
PUSH
HKVAL
COPNUHM
H>
FACLO
SET
WAS
3492
50640
50660
STACK
"FOR"
JGET TEXT POINTER OFF
3495
3493
3494
SETUP
FORMULA
PUSH
6e0S61
ARE
CHARACTER,
man
POP.
008153% 0pleve
0UG164¢
VARIABLE
VALUE3491
34B9
THE
IN TEXT
AND PUT
THE STACK,
(H,L]
TEXT
THE
JINTO
50540
TO
STRING,
<
50440
@e4152° V0lePD
3478
50300
POINTER
SET
A
THE
NUMERIC
ZERO
POSITION
A STRING
OFF
CARRY
VALTYP
J1F A NUMBER COPY
JSAVE POINTER AT VARIABLE
JGET POINTER TO THE DESCRIPTOR
JSAVE
THE POINTER
AT
THE
OF
THE
DESCRIFTOR
RESULTBASIC
F3
MUS
6080
HAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
03111
HMACKO
47(113)
#3312
10=SEF=75
PAGE
141
SLETH
3503004172°0010600UDL4S50940
INXH
3504004175°0010000UQL4S50968INXH3505
3506
3507
3508
3509004174
000175¢
004176
00417
004200°021000
@21000
0ploue
000200
WOENE000367
000521
00OLSE
001615°
9BA167°50980
51000
S102¢PUSHM
POP
LHLD0
STKTOP35100@4201°Vo1A00AUA34T51040COMPAR3511
3512
35130U4202°
0n4203¢
004204GP1000
@@lean
0000000UD321
0UvS2e
VL4217’51060
51080POP
INC[
DNTCPYFGET BACK THE PUINTER
JOON'T COPY LITERALS
5514
5515
3516
3517004209°
004200°
©0420/°
004210°00ROOD
001000
000000
0000A0941TT0
0000SE
©01621°
ML4204°51100LHLDVARTABINOW,
3518004211¢@pleeeUAS4T51120COMPAR3519004212°0P109D0UO15351149MoyLIE3520004213¢@nlave0e@id251160HovH0STRCPY
JSEE
IF
1T
JIF_NOT
POINTS
DON®T
SEE
IF
INTO
STRING
SPACE
COPY
ITS
A
AT
THE
DESCRIPTOR
VARIABLE
IBYSEEING1F
THE
DESCRIPTOR
1SBEYOND[VARTAB),
JGETTHE35210042147010000LOSSE51189cc3522004215'0A00N006T7601°35230u4216¢QuEeRe004eDT*3524©04211'PP10ADVBVL3E51200LDAX3525004220°00100000036551220PUSH3526
3527004221@1000bLNeST51240
51260XRAA70 SO FRETMP
JSET IT T0 @
3528
3529
3530
3531
3532004222¢
004225
©004224°
004p25¢00love
01000
000000
0ponan0UBLRE
DVVSLS
V10440°
0L4el5®51280
51300
51320sTax
CALLD
FRETHPISTRING IN FRETMP IS
JPUT 0 IN THE LENGTH
JFREE 1T UP
3533
3534
3535004226
Pp422/°
004230¢41000
@01000
0plo0e000361
D0O167
0UDSSS51340
51360
51380POP
Moy
XCHGPSH
oAJGET LENGTH BACK
JREPLACE 1T [ FRETMP RETURNS (0,E]
IN
[H,L)
UT THE DESCRIPTOR POINTER BACK IN (D,E)
3536904231°0010000034151400POPHJGET
51420LENGTH=2,
<
3537
3538
3539
3540004232V01000P0AS1S51440
51460
51480
3541
3502
3543
3544004235¢
004234*
004235¢
004236°000000
0AORRD
001000
D01e0EDPPORU*
004224’
0UPSAL
0951151500
51520
3545004237°
3540
3547
3548
006237¢
006240¢
001000
0000
GLV346
0UVUAL
05311
51580
MACKO
ANT
47(113)
03312
FRCTBL
10=3EP=T5 PAGE
0042860000000UVLOLQ04247
©04250°
004251°901000
021002
0010W000OL1L
0UBIT6
0UOL4S51709
51720
517400AD
MoV
INXA
"
3560
3561
3562
3563004252°
004253
004254°
0042550R1000
0ALEUE
0nlokD
00000000D146
0URIST
©ELUL
004261
*51760
51780
51800MoV
Moy
LXIHoM
LA
8,PUTVAL
35640042560EV0ODDV42A2*3565004257@e10é000030551820PUSH3567004261°0010000UD34151860PCHL.B
POPH
51900PUSHW
51940LENGTH=2,
<
51960PUSH51980CALL52020
52040
52060POP
RET
000351
3568
004262!01000000345
3571004264°0000000O0BOR
3572004265¢000000004255’
Q010A0
00315
3573
3574
3575
3576
3577
3578
3579
3580
51840
PUTVAL:
51880
3569004266° @0lpee000321
004267
0p4270*000341
311
021000
001000
VARIABLE
DESCRIPTOR
TEXT
POINTER
BACK
OISPATCH
§(8,CI8THO
TO
BYTE
FORCE
ASSIGNED
OFFSET
14=2
WLET®
3556
004265¢
NEW
CoA
8,0
6eSEF=64
TO
FRETOP
NULL
LENGTH=2,
<
3557
3558
3559
3570
THE
51660
51680
GATES/ALLEN/DAVIOUFF
004260° 091000
OF
MDVObE4’
000NOP
021099
0p1u0e
3566
THE
IT
HARMLESS
FIELD
0G4e33’
002117
00BOBE0EEO0D
B0BU
JGET
SET
000641001000000243¢
0082a4*
004205'
HAC
POP
RET>
TO
FSETUP
004281°
MCS
IFE
GOING
COPY
IT
DOESN’T UPDATE
== ELININATING
PLACE
THE
S0
JFORMULA TYPE TU CONFORM
770 THE VARIABLE ITS BEING
JTABLE OF FORCE ROUTINES
DO4242’
F3
COPNUM:
51560JCOPY
THE
ARE
IF
SAVE
33552
BASIC
51540CALL
MOVE>
LENGTH=2,
<
CALL
VMOVE>
WE
AND
51600
51620
516403549
3550
3551
3553
3554
3555
E
7SINCE
LENGTH
51920
52000
52080
CALL
POP.
VHOVMF >
7 UH,L) =ADDRESS
JRETURN
TO
10
6O
PUTVAL
JDISPATCH TO FORCE
JGETTHE
ITHEVALUE
JSAVE
TO
POINTER
IT BACK
OF
WHERE
IMOVE
THE
VALUE
WJSAVE
THE
VARIABLE
MOVHF>JTRANSFER
H1ID,E] FOR FNDFOR
FGET THE TEXT PUINTER
0
THE
TO
STORE
IN
POINTER
VALUE
FOK
"FOR"
J9FOR® WANTS VARIABLE POINTER IN
TO
)BASIC
F3
MCS
80BO
GATES/ALLEN/DAVIDUFF
1
HAC
3561
MACRO
ON
3582
47(113)
6070
52100
03312
10=SEF=75
PAGE
CODE
52120SUBTTL
IFN
UN GOTO COOE
<
LENGTH,
52160ONGOTO:
3583
3584agaz71*
3585201000000315
ooazre’0000003580@uazrse0n0eRe011020°
neuzesr
35870n4z74*00106000176
3588
3589
3590o4275¢001000THE
INTO
(E)
BACK
TERMINATOR
200127MoyByA00100020057652220cPIGOSUTK0uoe14FSAVE THIS CHARACTER FOR LATER
PAN "ON ,,, GUSUB" PERHAPS?
20100052240Jz156050JYES,
52260SYNCHKGOTOTKJOTHERWISE
52260
52300
52320ocxIBACK
UP
HovJGET
COUNT
0CRJSEE IF ENOUGH SKIPS
JPUT DISPATCH CHARACTER
JIF DONE, GO OFF
604300°904301°en43ne’000000nudere’
vou3gst001000009317
200000
00312
co43n4’200000200210
359600a305*001090004306°#91000000053
200113
3595cousar*
00a310°
06a311°901000000015
36003601300200100000017052340MOV
20100900931252360Jz
vo431e’€00000043152900000u3376"
0v4301°52360CALL
0pa314°
SUME
FEATURE
USE
004306°
3597201000000315
$604004315¢2000903605nga310’000000003643°
woasiet
904317°001086200576
3607004320°20009000054
3608n04321°091000000300
3606
VALUE
JGET200000593
3594
3603
JGET004277*3591
3599
GETBYTAMavaztot35923595
CALLMoy52160
52200
3609
36100p4z2e’2010003611004325°260060000303
264307
36120n4324°2000000043157
MUST
"GQTO"
CHARACTER
INTO
POINTER
[C)
IN
PLACE
A LINE #
JSKIP OVER
LINGT2
BE
COMMA
52400iA
52420
52440
52460FIF A COMMA DOESN'T DELIMIT THE END
JTHE LAST LINE # MUST BE THE END OF
JCONTINUE GOBBLING LINE #5
LOOPON>
OF
THE
3613
52500
3614
BASIC
F3
MCS
B0AD
HAC
GATES/ALLEN/DAVIDOFF
bmSEP=64
03111
3615
361604325001690200315
361700432070000003618
3619"
0au3272006002053367
neasast
MACKO
IF
4ee
47(113)
THEN
83112
10-SEP=75
PAGE
16
CODE
52520
5540SUBTTL52560IFE<
LENGTH,
IFNSTRING,
1F 3
1F
,.,
CAL|
THEN
CODE
FRMEVL
FORNULA
A
JEVALUATE
<
362052560362152600L0AVALTYPJGET362252620
52640PUSHPSH>>ISAVEMoVAtTERMINATING
52660362552680<
LENGTH,
PUSHF
CALLJGET324THE STACK
3626
362752700L%JONTOJLESSTHAN
3623
©a4330°
@01000
200176
52740
52760
52780
52800
3630
3631
3632
52820
52840
52860
3633
3630
3635
3636
3637
3638
LOOPIF:
TYPEINTU(A)
THEVALUETYPEON
TEQUAL
JGREATEK
SUI
JCHECK FOR
GREATK
Ji
ENDREL
NUMKELSLESSTK=GREATK+1
133
NUMREL
JNC
ENDREL
52880cPI52900RAL52920
52940
52960ORA0
MoV0,4
=4
=2
THAN
OPERATOR
SEE
JSETUP
1
50
JOR
TO
WHAT
BITS
1,
WITH
1
WE
OPERATORS
HAVE
MAPPING
BY
TO 2 AND 2
EARLIER
JSTORE NEW BITS
TO 4
BITS
364252980
53000
530203643550403SNERR3644
3645PUSHPSWFRHEVL>JSAVE
RELATIONAL
CALLJPICK
UP
364655060
53080
53100364753120
3641
3648004331201000200376
36490o433e”000000000us4
3650
3651004335°001060000314
004334°
004335¢900000husaze”
00000¢a04326*
3652
3653
3654004336°A1098200376
36550043377200000000210
3656004340
°001000000312
3657
365800a3aLr900060004346"
ENDREL:
LOOPIF
A0
Jne
MOV
oRA
A
FIRST
JCHARACTER
53140
LENGTH=2,<CP1
44
CHRLTK>J1F
cpl6OTOTKJALLOW
Jz0KGOTO>53240SYNCHKTHENTK532600CXH53160cz
53180LENGTH,<
5320053220
MEMORIES
NON=RELATIONAL
AGAIN
AND
IN FAC
JANSWER LEFT
1A COMMA?
INTERPRET
IT
S0 SKIP
"GOTO"
AS
WELL
0u4334°
woazaer40000036592043050010903660004344°#000000045
3661004345¢¥0160000aEss
3662vo43a6"
3663
CHRGET
000317
552800KGOTO?
53300IFE
366453320
366553340
366653360
366753360
HAVE
A
THEN
<
LENGTH,
POP
Psu
POPR
IFN
JMUST
JPOP OFFNUMBER
JCOMPAREFORMULA
STRING,
<
XTHL>
FORMULA
MEMORIES
=1
JGET NEW CHARACTER
JSEE IF RELATIONAL
JGET REALTIONAL MEMORIES
JSEE IF THERE ARE ANY
INO RELATIONAL OPERATORS)
3639
3640
STACK
OF
A RELATIONAL OPERATOR
NOPE
INUMBER OF RELATIONAL
118 THIS ONE OF THEW?
INO
THE
CHARACTER
IKEEPS RELATIONAL
0,2
52720
3628
3629
VALUE
TYPES
FORMULA
LINEBASIC
MCS
6080
MAC
F3
GATES/ALLEN/DAVLDOFF
6mSEP=64
03111
MACKO
IF
4.,
47(113)
[HEN
53400
53420IFE
534401PN
03312
10=SEP=75
PAGE
16=1
CODE
FSAVE
STRING, <PUSH
PUSH
53480chPH53500
53520INZTHERRORAAJIF NOT IT5 A TYPE ERROR
JSEE WHAT TYPE IT WAS
Jz
CALLNUMCHPJZERO MEANS
STRCMP
FCOMP.
INR
53620
53640
A
200515
*
200000
©04350"nea341e
voee0e
004351
°021000voa35e”"e0uau004363°
0043550200000ouasaT*
ovas12
704354021600wonsal
0043550201008200532
204356000000004010°
PPIEETAd000000veasse”
2043607001208000303
043612000008e3575°¢
Vou36er20000000asse’
[l
ANAB>
0010200edv26
0va364r2000000ovewL
BASIC
F3
000315
020000000040avaure*
00a361*
LENGTH=2,<
53760
53780FSIGN>>
<
LENGTH,
NC s
8ese
MAC
3721
GATES/ALLEN/DAYIDOFF
bmSEP=64
93311
POP
53820
53840<
LENGTH=2,
53860IFN<
LENGTH=2,
53880
53900
539200UCOND:Jz
CHRGET
JNP
FALSIF3
(1%
JHANDLE
UN
FALSE
01
SKPHRF:
47(113)
THEN
83 112
10=SEF=75
ovne2e3726ouasTs*Nz3721oensee00a365°
3736
3737
3738
37139
PAGE
OKA
e004404°0010000¢0393
pruaT)003540
proneasoe’
IN
WDATA!
FRONT
WILL
OF
54380
LINE
MELSE"S
STOP
BEFORE
LINE?
NO MELSE"
WE
"ELSE"
CLAUSE
HITAN“ELSE"
INTHE"THEN"
NUMBER
OF
CLAUSE
MELSE'S
SKPHRFFSKIP MOREIF HAVEN'T SEEN
DOCOND>JENOUGH
JFOUND THERIGHT
54320
54340
THE
MUST
THAT
Qw4760
©04405*004405°004806
THAT
16m2
JIF 80,
RZ
54280
54300
STUCK
STILL
200000201090
SKIP REST OF
# CHARACTER
"GOTO"
ISKIP A STATEMENT
JDECREMENT THE
JMUST BE SEEN
0ou374r2pA00R
"ELSE"S
INO,
3725004491
"
OF
0ELSETK
wg44ger
JUST
LINE
CONDITION
SKPHRFCHRGET
4354260
MEANS
OF
5422054240
"ELSE"
FAILED ==
THE FIRST
IF
54160
54180
54200"00376209025
POINTER
POSSIBLE
JSEE
oea3s2r2010000¢a392
neases”
D04360®
OTHERSETRUE
TEXT
JEND
ovae6T221000004373"22101
ALL
CODE
wou3rer
3734
3735
"IF"
NUMBER
DATA
CALL
0043707
201000
004371
° 201009e
STATEMENT
JBE SEEN, "DATA" INCREMENTS THIS
JCOUNT EVERY TIME AN MIFW IS SEEN
3724201020
000000
RELATION
STRCMP)
JINTERPRET NEW STATEMENT
IS
004371
*
&
GONE3THAT
004400°
(FCOMP
NUMBER
1500043707
THE
JLINE
PnEY3729
OF
J1F TEST
JPICK UP
541403728
STRING COMPARE
COMPARE
60103722
3730
3731
37132
3733
OFF
54120
ves
SIDE
REM>3723
000310
CASE
IPOP
FALSIF>
iz
53940
MACRO
2
THE
THEY
ARE
NUMERIC
BE STRING,SO
OVER NUMERIC
70=FALSE
H>
53800
54100
WAS
VSIGN##>
CALL
53746
54080
201000a4360"004367°
VALTYP
IT
<
LENGTH=2,
54060
00a365*
OLD
JPOP OFF WHAT RELATIONAL OPERATOR WAS
JSEE IF WE MATCHED
<
LENGTH,
53744
54040
HAS
J377
LENGTH=2,
<
53960
IFE
53980
i
54000}
"ELSE" HANDLER, HERE
54020
i
204365J{H]
TYPE
JBUILD RELATIONAL BITS
JLESSz4 EQUALE2 GREATER=1
ISINCE CARRY IS ON ONLY IN
53680
POPVALUE
JCOMPARE
RAL
53700
53720
53740
53742
JGET
IMUST
1SKIP
SKPNCH>
JHP
CALL
53660
001000
MEMORIES
53540
55600
0043467
RELATIONAL
53460
55560
53580
00434
" 000000
FOINTER
THE TEXT
JRESAVE
PSW
<
STRING,
VALTYP
LOA
WELSE"
== GO
EXECUTE
CLAUSESBASIC
F3
NCS
8080
HAC
GATES/ALLEN/DAVIDUFF
6nSEP=64
03711
35740
MACRO47(113)
PRINTCUDE
54400
03312
10+SEP=75
PAGE
SUBTTL PRINT CODE
3701
370254440IFNLPTSH,
<
374354060LPRINT:MVI
374450460At§SAYSTAPRTFLG>TSAVEAWAY
3745004407°201090002USS54500exH3746004410*QU10000V032T54520CHRGETJGETANGTHER
3747
3748
3749©04411¢
0U4412®
©00415°Do1edD
G000V
00@E0DeE312
OLA523°
00A4RST54540az00441470010000U@310
3750
3751
CRDO
JIF
54560
54560
WE
160
PRINTC:
NON
ZERO
SEE
TYPE
JHERE
A
54600JINWHICH
375454640JBUTJUST
54620
004415*
0044160M01000
G000M000D3T6
00B4D3761004417°@oiove00@S1e3762004420VG000V00457773763004421°0poen0eddle’3764
3765
3766
3767
3766
3769004422¢
004423°
004424°
004425°
004426°Gp1000
00000G
Q1000
000EAE
0000MD0U03T6
00BR42
00@312
V04571’
0V4420°3770004427*0p1oae00B345548403771
3772
3773
3774004430°
004431°
004432°
004433001000
000000
001000
000000000376
VPOUSH
0WE312
004553°548604COHPRTIS
3775
3776
3777004434°
004435¢
004436¢600000
B01000
000P00004425°
000376
0KOLTS54900cP159118
3778004437¢@10000031254920JzNOTABR004637°54940
54960POP
CALL8
FRMEVL55820
55040ocx
PUSHH
K55060STRING,55064CALL004440°V000003780004441’BODAOE004433’
3781
3762004442°
004443*001000
80100000001
WMBS1S
3763004444tB0ONRD005536’
3784
3785
3786004445°G00PVEVVA4LE’
3787
378800444’
0044altwo1060
0100000OUSS
000345
004450*
004451t@01000
G0000U2315
Nv63LT’
3791
3792
BASIC
F3
MCS
8080
MaC
GATES/ALLEN/DAVIDUFF
6mSEP=6d
05311
37930044520000000C4444T
3794004455201090000312
37950044540gUEAL6e4SAT*
3796
3757004455¢000nA004451°
#ATERMINATING
7AGUOTATION
54760TABERJTHETABFUNCTION?
54780
54600LENGTH,
<
138
SPCTK54820JzTABER>ITHESPCFUNCTION?
[JSAVE
54860
TEXT
ITACOMMA?
ITAnpn
JGET RID
JBACK UP
55062
47(113)
PRINTCODE
03312
GETYPE
10SEP=75
JSEEIF
JIFS0,
55160STRING,<CALL55180STRING,
<55200CALLSTRLITJMAKEIT
55220LHLOFACLOJGETTHE
55240LPTSH,<3813ILPTOR
20
401
PRINT
IT
POINTER
CONDITION
FURMULA
CODES
THAT
ARE
HAVE
A
STRUON>
VALTYP
A
STROON>>
FOuT
PRINT
JHAS IT
IMAKE A
3805
006461°PO10000UR3LS
3807
3808004ABR!
024463’0MBEOE
DNAUODUUT63T!
PUAAST'
3809004464*POLRGD0UDDSE
3810
3511
3812©004465°
004U6o’000000
BROBRYWE1637°
004462’
STROUT>
jIF
STRING
SPECIALY
A STRING FORMULA?
NUMBER INTO A STRING
STRINGS
55260LA361455280ORA55300Jz1sTTY3816
381755320
55340LOA
A0LETROS
)351655360cP1LPTLENIWILLThIS
3820
3821004467001000OLOLTE55400
55420LoATTYPOSISEEWMERE
3822
3823004470°
004471°0MORO0
0N0ERL00DV4T’
0LU46S3824004472°VO10M00VDED655440A0D[JADDTHIS
382500447S*©O100D0U0STe55460cP1LINLENFSEEIF
3826004474°DADOYY060110
55380
ISTTY1>
JHP.
55480
55500LINPT3=2i,e1
LINCHK: CNC
55520CALL
LINCHK
000475¢
004476°0D10N0
VAACRE3630
38310UA4TI’
004500¢000000
00109000447’
0UDS1538320pA501°00OGEOPLTT46*3833004502¢Q000K0044TE’3834004505°G0l0a000BLTE3835004504°000CRY0000403836004505¢VP10A0GEDS3T55560IFN
IFESTRING,<
LENGTH=2, <
ORA
STROON:CZ
55598IFNLENGTH=2,
<
55599
55600STRDON:XKA
CNZ
004500°@0lewp0UB26T55580
55590
55595
3840004507¢ve100000031455597
3841004510°000000007146°3842
36430045110PAGEOYULASYL’
IT
A
004474"
L0324
0UA525*
55540
OUTPUT
PRTFLG
3827
3828
38293837
3838
3839
JUST
STRING
POINTER
3815
3819
OFF
A
CRDO11F
STRPRIT>JPRINT
MVI
TTYZ
NUMBER
WE
OVERLAP?
ARE
LENGTH
GREATER
THAN
THE
S0 CRLF
THE
NUMBER
JALWAYS END
WITH
A
SPACE
OUTCHK
JTURNOFF
THE
JJUSTPRINT
ZERO
STRERT>
A
STRPRT>>
STRINGS
FLAG
ONE
RIGHT
260000%
004454"
3806
3844
3845
JUST
PAGE
LOA
ORA
Nz
CALL
20445(*
004460°
THE
THE
WE
55080
55100
55120
55140
3502
3803
3804
§
NOT
<
LENGTH=2,
<
DUAS1S
OR
IBACKUP FROW TERMINATOR
ISAVE TEXT POINTER
LENGTH=2,<
MACKO
,
DOES
OF OLD TEXT POINTER
ONE CHARACTER AND READ
JAGAIN SO
FEVALUATE
ks
021060
OR
GUOTE?
==
THE55068
004456
TAB(X)
TERMINATOR
STROUL
NEWCHR>
TABTK55066
3798
3799
3800
3801
A
RETURN
54660
54680
54700
54720
54740
54980
55000
3789
37190
SEEING
CASE
JMEAN WE SWOULD TYPE A CRLF
3755
3756
3157
3758
3759
3760
3779
TEKMINATOR
CRLF
AFTER
3152
3753
CHARACTER
A
LINE LENGTHBASIC
F3
MLS
6080
MAC
3846
3847
3848
004512°
GATES/ALLEN/DAVIDUFF
6=SEPm6d
001000
064515° 001000
05111
000341
0LO3DS
004514G0N03849004S15°0N000D0UAS1L’
004410°
3850
3851
3852
3853004516°
004511'
004520°
004521¢001000
0000d0
W¢1000
0000000UOVbE
000LR0
000LAL
001430°
385400452e°D0AALOGUA514
MACRO47(113)
PRINTCODE
83112
55620
55640
55660
10=SEF=75
PAGE
JHP.
FININLT
JPRINT SOME MORE
MVI
JPUT
55680L1HyBUFMIN
3855
385655700
55720IFN
LDALPTSW,<
PRTFLG
365755740ORAA
3858
55760INZPRINTW>
3659
3860004523¢
004524201090
QU00000RLTE
0URL1S55760MVIA13
3861004525°0A100D400L6R55800STATTYPOS
3862004526@AO0UD0LOLAT®3863004527000000004521°3865004530°@p1e0n0UOS3T55840OUTCHR3866004531'AR10000U0VT655860MVI3867004532°000000000L123868004535¢001000GEP33T558603869004534¢00100000P0TE55900CKFIN:LDANULCNT
38700B4535'0000EE0UOL4G’3871004536¢V00RO004526°3872004S37¢00loee0UO0TS55920PRTNUL:DCRA
3873004540'00100000006255949STTTYROS
3874
3875004541°
004542°¢000BEC
0p@EE0LOVAT'
0BAS3S'3676
3877
3878
3879004545°0010000003100010000UO36555960
55980
56000
56020RZ004544°3880004545°021000060556040XRA3851004546¢@0100000D33756060OUTCHR3883004550°0010000UB3DS56100Jmp004551°
004552*000G
0RO
3860
3862
3854
3865
172
POP.
IMAKE
55820
004547¢ PP100R
000361
A
ZERO
ISETUP
150
AT
THE
END
OF
BUF
POINTER
TTYPOS
CRDO
LESS
DOESN'T
THAN
GET
LINE
LENGTH
CALLED
AGAIN
Arto
QUTCHR
JGET
OF
JEVENTUALLY
NULLS
SETUP
TTYPOS=0
FALL NULLS DONE [A) 2@
JSOME_ROUTINES DEPEND ON
JAND CRFINS RETURN (A12@
FSAVE THE COUNT
PUSH
56080
NUMBER
A
POP.
PSu
PTAl=A
NULL
JSEND1T
0UT
JLOOPPRINTING
CRUO
AND Z
TRUE
JRESTORE THE COUNT
PRTNUL
NULLS
004537’
0U4SAL’
388656120IFESTRING,<3867
3888
388956142
56160
56180STROUI:
STROUT:INX
MOV
ORAJCHECK
FLET
389056200RZ
3891
389256220
56240InNX
CPI
3893
389456260
56280RZ
OUTCHR
369656320cz
3895
56300
3897
56340
1A
FOR
IT
END
END
UF
THAT
TERMINATING
LINE
WAY
GUOTE?
JUONE IF SO
JPRINT THE CHARACTER
cPICcR
JnpSTROUT>
IN
(A
JIF IT%S A CARRIAGE RETURN
CKOO
JTYPE
LINE-FEED
FPRINTMORE
TO
AND
SET
(TTYPUS)
=0
CHARACTERS
3898
BASIC
F3
MCS 808U
MAC
GATES/ALLEN/DAVIDUFF
6mSEP=64 05111
HACKO
PKINT
47(113)
CUDE
03112
PAGE
173
389956380IFNLPTSH,
<390056400L0APRTFLGJOUTPUT
390156420AINON®ZERO
3902
390356440
56460LoAISCTTY
LPTPOSINO,
JGET
390456480<<<LPTLEN/CLMWID>=1>CLHWID>JPOSITION
3905
390656500
56520cPINLPPOSINO MORE COMMA FIELLS, SO
JCOMMA JUST DOES A "CRDO"
JNPCHKCOMJUSE
TELETYPE
LAT1YPOSJGET
TELETYPE POSITION
3907
56540
3908
399
3910004555°
004554°GR1000
00OLEO0UORI2
000VAT’
39110U4551"
00007656609
00100000037656640
391500455100000DOBNTO3917004s60*00lunp0003243918
39190045617
004562¢00000
BDRND0p4523*
UDASSA’3920
3921004563°
004564Wpleaw
@OUG0EBUDS2e
DU4E3T*3922004565*00A000BL4S6]"3924DO4SKI*@P00D00OL163925004570¢0210600003223926
3927
3928
3929
3930
3931
3932
3933
3934¥Q4571®
004572
©04573'D0AVAL
QU000
@01020L4566
PO4564’
00OUST004574
Q0ASTS¢
004576601000
GE000D
0RRU0000303
004626°
DUASTL®091000000365
3923
G04S6e’
GR1000
LUDS26
YES
NUTPOSzz<<<LINLEN/CLMWID>=1>+CLMWID>JPOSITION
000000004556
PITEETA
LINE
1SCTTY:>
004555
3913
THEMEANS
56620
56660
56680
cPI
LINPT4z=i
CHKCOW:
56700
56720
MORCOM:
INOMORE
150ALL
BEYONU
WHICH
THEREARE
THEREARE
CHECK
COMMA
COMMA
BEYOND
FIELDS
DCES
WHICH
IS
A
"CRDO"
JFIXED UP BY "TERMINAL WIDTH" QUESTION
CNCCKDOJneNOTABRJANDGUIT
SUTCLMWIDJGET[A]
56749
56760
56780
56800
56820
56840
NUTPOS
PRINTER?
DO TELETYPE COMMA
LINE PRINTER POSITION
56560
565803914
3912
3916
COMPRT:
10=3EP75
ITYPE
CRLF
IF
BEYOND
MODULUS
THE
LAST
COMMA
MORCOM
P
JWE WANT TO
FILL
JTHE PRINT POSITION OUT
ITO AN EVEN CLMWID, SO
JWE PRINT CLMWID=(A) HOD
16O PRINT [A)+1 SPACES
ASPA2
CLMWID
3935
3936004571°
3937004571
3938
3939
0
LENGTH, <PUSH
LENGTH,<
CALL
3940
3941
3942004600*
0046RLC@V100
GOUOD
3963
0VD315
P11017°
INTLOX>
LENGTH,
<
CALL
GTBYTC>
PS>
JREMEMBER
IF
JINTEGERIZE
[A)=SPCTK
A FORWULA
JGETVALUEINTO(E)
OR
G04kD2’000003944V04603tGa1edDD0OSLTSYNCHKm)v39450p4bG4"0AVOODQUOUSL39460UD46DS’V01000Q0ODS5SocxH3947
3948004606’001000GU0361LENGTH,<
POP
PSuSPCTK
B00G0DBLR242SPCTK>BACK004s10°(131JGET3950004611001000PUSHKJSAVETHETEXT
3949
3951
0046DT¢ D0l00w
OR
INTO
0U4STS'
0LBST6
0VO34S
FIELO
CLMWID
JWAS IT SPCTK?
TABTK
POINTER
TABTK
(D,E)
SPACESBASIC
F3
MCS
8980
MaC
GATES/ALLEN/DAVIDUFF
b=SEP=64
05111
3952
MACKO47(113)
PRINTCODE
57120
03312
IFN
10=SEP=75
PAGE
LENGTH,<
3953gp4p12’0010000UOLTS57140MoVAEJFOR
3954004K15¢0R10WD00DS1Z57160JzASPAC>IVALUE
3955004614W0WOD0D46R2T*3956004615¢WUOE0D00461’57160LPTSH,
<
3957
3958
"SPCM
IN
PUT
THE
57200LAPRTFLGJLINE3959s7220OKAAINON=ZERQMEANS
396057240JzTTYISTLALPTPOSJGETLINEPRINTER
JGETTELETYPE
3961
57260
3962
57280
PRINTER
JHP00SIZT>3963
3964
3965D04616*
V04b1I*
DU4b20*Q01000
0PA00D
BNAUDDQUIUTE
00DLAT’
0L4614*573¢8TTYIST:LDAT1YPOS3966@W4621°201000QUAUST57320DOSIZT:CHA3967
3968004622°
006623¢Qp1QWE
901000UUDRDS
0UOS2257340
513623969©004624°0000V000463T*3970
3971
3972004625¢0000A000461T¢0046260010000UOOT457380
57400ASPA2:INR3973
397404621¢
004630¢0p1e00
0A1000L0107
0U0LTE57420
57440ASPAC:MOV
L%1 (B ENUMBER
7 1A ESPACE
3975004631800000©UV04L3976REPOUT:
JPRINT
A0D
JnE
E
NOTABR
JIF
FORMULA
(A
OR
TTY?
LPT
POSITION
PRINT
[E)=(A)
NEGATIVE,
POSITION
SPACES
DON'T
PRINT
OFSPACES
THECOUNT
TO
D04632*001000000S3T57460OUTCHRJPRINT3977604633¢0nlodpQUEVES57480DCRTDECREMENT3978004634G00000030257500INZ3979004635000000du4b3L"3960
3981004636
00463/’0AB00E
0010000U4624°
00034157520POPJPICKUPTEXTPOINTER
3962004640€100000032757540CHRGETJANDTHENEXTCHARACTER
3983
3984
3985004641’
004642’
0046437001000
VRUAUE
0G0UPDGLA3HS
DLA414"
0V4635*57560JHPJANDSINCE
NOTABR:
WE
JUST
57560§SPACES,DON'T
3967576001IFTHE
398857620
BASIC
MCS
8084
MAC
GATES/ALLEN/DAVIDUFF
6mSEP=64
05111
3989
3590
3991004684’BU0GOD0UOUTT
39920046aS’B0OUCD0V0122
3993004646’BE0NND00B10S
3994004647*B000DD200104
3995004650°39966p00REVPBLLT
00465170000RGDPELAD
39970ud6Se’000RCE000106
3996
3999
4000
4001QU4655°
0ud654°
004655¢
008656°GEY0WR
B00DGE
BEVVCE
00000D0B122
00OL1T
00115
0VOCAU
40p200A657¢00ODGDQPB12S
400300466D*BDE00E00O124
4004004661°BRUOND00BID1
4005
4006
4007
4006©04662’
004663’
004663*
0UA66A*0GODRD
0EDOWD
0000AL
BRODRD0VB122
D0G124
0PBS2G
0PBG1S
4089004665’0EDOVD0ROU12
4010004666’BEDAR0DUOVOS
MACRO47(113)
INPUTAND
03112
READ
10=SEF=75
PAGE
PRINT
(4]
3986
F3
ANY
1SPACES
IT*S
FRINTED
CALL
END
CRDO
OF
THE
LINE
18
CODE
57640SUBTTL
57660
57680IFN
TRYAGN:
INPUT
AND
READ
CODE
LENGTH,<
DC"ZREDO FKOM
START®
)
4611
4012
4013HERE WHEN THE
1S IMPROPERLYDATA THAT WAS TYPED IN
FURMATTED, FUR "INPUT®OR
WE
4014FORGIVETHE
"UATA"
WE
A
SYNTAX
ERROR
AT
IN "DATA" STATEMENTS
START AGAIN,
DATA
LINE
4015
4016
4017UOA66T*
004670°VE1000
0EBOAL00BET2
001602°
4018
4019
4p2n004671°
Ovde72*
00467S*©E000D
B01000
Go10Me004642’
DUO26T
D0B30R
4p21(04674MO0OU0002064
"
4b22
4023U046T5*BEGOOD0VA6TL*
492400467600160VBUASOL
4026
4027
4vee
4029
4030004700°
047017
¥94702°
00ATOS*
004704*MUODGD
DOAOUD
0P10UD00464M"
GU46T4!
@UASLS
BU00EE
000000MLTT4S*
PO4TO0°
4031004705¢6010000UBUSE
4032004706°WO0NGD0O1603"
40330U4TOT¢UPVOVD0U4TOS*
4034004710°BO1000DLES1
4025
4035
0obeTI* 0BI00D
9UDLAL
40360047114037
4038004711*V010000VB3T6
403900471e¢00PE0EV0G4
0O4TISY
LOAFLGINPJWASORA
INZA
OATSNE1ZEROSINPUT
JGIVE ERRORAT
V100G
0LBETH
IT
READ
JGETTHE
DATA
LINE
)Hy TRYAGNCALLSTROUTJPRINTW2REDO FROM START®
LALDTEMPJSTARTALL
IFNLENGTH,
<
cPI
34
IFNCONTRH,
<
HVI
a0
OF
INPUTZ
POP
RET>
RID
OR
[831
INPUTS
4080
4041
KMNOK:
OVER
JTONEWSTT
JOFTHE
118IT
JBETALKATIVE
BY
POINTING
"INPUT"
A
POINTER
GUOTE?
INTO
GOING
AT
VARIABLE
BACK
THE
STATEMENT
THE
START
O
LISTBASIC
F3
MLS
BOBU
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
#3111
©Q4T14¢00000D004715¢
004716010000UBY6R
B00UPE0U1541°
©04T717°000C0DDV4TO6"
204720°
004721°
004722°bolove
800000
000000©UB382
0U4TIS’
VU4T16"
004725¢
001000
©0@315
004724°000000POTE40*
004725¢000000PO4T21"
©94726°
MACRU47(113)
INPUTAND
63312
READ
58100
STACNTWFL>JFORCE
NOTGTIJIF
NzSTRING,<56160CALLSTRLTIJMAKETHE
NOT
END
MESSAGE
40100000031758180SYNCHK59JMUST0oPORD00RETS001000BLES4S58200PUSHMJREMEMBERWHERE
001000000315s8220CALLSTRPRTJPRINT1T0UT
POP"JENDSWITH004732°000000V0T746"
0RATISTBp00DRDR4T24"
004734°601000MED341
Gp10v0
90345
004736¢DUl00D0€B31S
204737°
004740¢p0O0D
0QOOCD00753’
V04T3E?
001000
58240
1FE
CALL
SYNCRKSTROUI
59>>
H
58322NOTGTI:PUSH
56340IFE<
FUNCTS,
CURLIN
E,ERR1D718
JIF
[JDIRECT
JCURLINZ65535
FADDED ONE AND GOT
J1F $0,60 COMPLAIN
CALLERRDIR>JUSE
GINLINJDIRECT IS ALSO ILLEGAL
FTYPE *2°¢ AND INPUT A LINE
IFNLENGTH, <INX
56580
58600
58620MOV
KA
0CxA
A
H
1T
SO
SEMI=COLON
INX58560001000
801000
901000
FIF
DIRECT?
MILLEGAL
MEANS
COMMON
NO
INPUT
WE
00100000030158640POP8JTAKEOFFSINCE
001000@Uesie58660JzSTPENDP1FEMPTYLEAVE
DO0OLR
0DDO0035007
@L4T42°@UE3ES58680PUSHB>JPUTBACK00030358700NPINPCONPUSH
LHLDW
DATPTR
©04755¢
001000
001000
“04756°00ROODDU4TES!
000000@U4T52"
©04760°
ve4T61*001POR
DUICOLOLA3Y5
0UOVSE
0047627
©04763¢000000
00000GP01627°
WPATS6"
MCS
8980
MAC
GATES/ALLEN/DAVIDOFF
beSEP=64
05111
4095004764¢ @210V004765°
004T66*001000
02106000D366
49600476@W0EVUGD160R2*
49990047700000U0OU4TER"
000257
0UOL6E
58720
58740READ:
MACRO47(113)
INPUTAND
58760
58780
58800
25112
READCODE
INPCON:XRA
ST
10=5EP=75
XHD
PAGE
~01029, 70366
5882058840IN410258860ONEPUINTERPOINTST0THEUATA(IE
a10358880ANDANOTHERPOINTSTOTHELISTOF
4104
410558900
56920THEPOINTERINTU58940TERMINATOR
4106
4107
==
A
DATA
THE
,
&
DATA
OR
OF
LEAVING
DIDN*T
LEAVE
POINTER
LOCATION
FSET FLAG THAT THIS
ISTORE THE FLAG
4101
OF
MAYBE
JUORIM TO SET [A] NON=ZERQ
4
FLGINP
PROCESSING
DEF
18=2
4100
THE
TEXT
DATA
SINCE
GUIT
SINCE
ISAVE THE
JGET LAST
ERROR
07
ROUTINE
004752¢
004755¢
0047547
DIRECT"
THAT
004751°094757¢
ENOED
Moy
AL
OKA
H
Jz
ERROR>
<
FUNCTS,000176
000267
©eORS3601000©04745°
©04746°
0047477
1T
LHLD
MVIBLELAS004T44"
SEMI=-COLON
58420
58440
58460
58480
58500CALLbU2522"
004737°
STRING
58400GETAGN:000000000000
WITH
A
STRING,
<
58520
58540
000315
004742*0047437
994750°
AND
READ
ALWAYS
IS
AN
INPUT
STATEMENTS:
THE
NUMBERS
BEING
FETCHED)
VARIABLES
STARTS
POINTING
TO
A
END=mOF=LINE
56960
4108
4109004771°0010900UE34358980
58982
4119€04772°DAl0Ve0B0VO159000
4111
4112©04773°
004774Gol00w
Q0ACED0eBS1T
QOOUSH59020
004775'
PB4TT6®@01000
GDOECD000S1S
0U6505’59940
004TTI*000UnEVD4T6T’005000°2p10UEBURSA3
4115
MESSAGE
©04731°
©04741°
4116
4117
4118
a119
NO
004730°
58360
56380
4113
4114
QUTPUT
©04727°
©04735¢
4096
4097
181
58120
58260
58300
BASIC
PAGE
58140
56260
F3
10=5EF=75
CODE
©CEVRU
XTHL
LOPOT2:
=01000,1JLXIB,"44IMAKESURETHERE
CALLPTRGETJREADTHEVARIABLE
GET
OVER
THE
THIS
CHECK
IS
A
","
LIST
59860JAND
59060
59100
59120JPUT THE VARIABLE LIST
ISTACK AND TAKE THE
JUATA LIST POINTER OFF
POINTER
TO
A
VARIABLE
POINTER
INTO
ONTO
59140412459160NOTE
59160AND
AT
SO
THIS
WE
POINT
MUST
GET
WE
HAVE
DATA
OR
A
VARIABLE
WHICH
WANTS
DATA
COMPLAIN
59200
4124
412500500101000BVD32S59220
59240PUSHDJSAVE THE POINTER
JARE ABOUT TO SET
4126
4127005002°@7100000017659260
59280MoVArMJSINCE THE DATA LIST POINTER ALWAYS
JAT A TERMINATOR LETS READ THE
4126
59300
4129
4130005003°0n10000UD3T6
a131005004’DODOYE000054
4132
4133
41340P5005¢
V0SANe’
005027¢021000
GCBRUE
0o00RE0UAS1E
0P5025*
GBATTE
4138005010¢021000BUOLTZ
4139005011¢0000eeCU16VR*
4135
4136
4137
4140
4161
(D,E)
THE
7
41204122
4123
§ (M, LISVARIABLE LIST POINTER
JOATA POINTER GOES ON THE STACK
Xu0SYNCHK
005012°
005013¢
DRAED
0nleee
0USLOG’
Vede6T
JTERMINATOR
59320
59340cP1
59360Jz
59380LENGTH,
<
59400ORA
59449LOA
59420
18
7ACOMMA
AJINTHE
FLGINPJSEE
INZ
pT
SNERR>
594600RA
urae59460LENGTH,<
4143
4144
414559500
59520
59540INX
Nz
59560LENGTH, <JNZ
4146005P14'VP100000O302
4147©25015°Go0eRw005163
FDATA
50
4K
MUST
WHAT
INTO
A
TU
UP
[A)
VALUE
VERSION
BE
TYPE
ALONE
F
THE VARIABLE
WITH A VALUE
AND
SEE
WHAT
MUSTFOLLOW
ON ALINE
STATEMENT
WE
THIS
WAS
Iy
"
DATEND>
FPOINT AT POINTER TO NEXT LINE
J1F 1T IS A READ GO
JSEARCH FOR ANOTHER DATA STATEMENT
DATLOP>
POINTSBASIC
F3
MLS
8980
MAC
GATES/ALLEN/DAVIDUFF
6mSEP=64
03111
MACKO47(113)
INPUTAND
83112
READ
10=SEF=75
PAGE
183
CODE
4146005016°000000005011°4169005017°Q0100000OT659560"1
41506050200000GOUPGYTT4151005021va100000033759600QUTCHR
4152005022’V@100000031559620CALL
4153@@5p25*0eE0ve0D2522°4154005024°000VVOVE5615°
TYLLL]
JOOUBLE
GINLIN
JGET
A
415559640415659660JOF415759680JANDGINLIN
OFF
4158
005025
JTHE
PROMPT
WHOLE
DATA
THE
NOW
59720LENGTH, <PUPJPOP
416059740INXHJFUDGE
416159760CALLREDINP>416259760LENGTH,<416359800STRING,<59820()59840LENGTH416400S025¢BolnneBUEVTE
416500502600PEVEAV1545°
4166005027¢BV00OR©VO502S’
STARTS
LEAVES
READ
VALTYPJSEE
POINTER
VALUE
IF
ITS
B00VNE00037659860CcPI3IS IT A STRING 7
005032¢GuioRVLO36S59860PUSHPSWISAVE
4171Q0S@33¢QuipeeveRsp259900INZNUMINS>i1F
4172005034¢B000R0MES0T’417300Se35¢Vn0LADWB5026°417459920LENGTH=2,
<“rs
417659940
59960ORA
Jz417759980
0VUDS
4178
A
NUMINS>
60000
4179
THE
JINPUTA
JONLYTHE
62020
JCAN
0100000032760040CHRGET
BE
IF
AN
ALL
005037¢@0ieeo0evial60060oy0,4JASSUNE005046°@n10000LO1QT60060MoVB,AJSETUPTERMINATORS
801008000576601001334JOUOTE7
005042"VOVROD0EDD4Z
GUOTED
NOWGETJTERMINATORS
005043°BUie0pOWO31260120Jz005044¢
05045°
©AS046*0ODOWD
000POU
DRLODDVUS0SS’
DVSVIA’
D0OL2660140L%JUNGUOTED
4189©25047°00000006PLT241900@5050°PB100D0UMLRL60160Y1JARE
4191#25051¢V0000D00PLSea192
4193
419460160oex0g5052*00100000RES3
4195
4196005053¢001000000315
4197005054°0000000LT643’
4198005055W000LD005644’
JBACKUPSINCE
JINGQUOTED
JINCLUDE419960242
420060260
808U
MAC
GATES/ALLEN/DAVIDUFF
bmSEPm6A
03111
NOWGET:
CALL
8
MACRO47(113)
INPUTAND
933112
READCODE
DOASIG:POP
005950’0n10Me00061602604202005057°61000VL035360320XCHG
4203005060°A0100000004160340%%
4204
4205005061°
005062°BO00BE
BRCDND0USETT’
0O5E54*4206Q0S063*AN10M04207005064°0210004208005065D010004209@0S066°200000LP41ST®0D5067¢
10=SEP=75
PAGE
PSH>
AFANDCOPYIF
JPOPOFFTHE
60360XTHL60380PUSHDJTEXT
60400JHPINPCON>100
GEBN00DVSE61*V05076’@Al0R000@32T6042005071¢0010000B31560440cALL
0000ND0VBUDU*4214005073°D000A0KESU6'4215
4216
4217
4218
421900S074°
0U5075¢
005070*@01000
000R0D
A0uAD00E3DS
0OSES6’
DLSUTR*60460
60480LENGTH=2,
anp
0UASIG>
NUMINS:
005077¢001000000053
42270651000ploAD4228
4229905191’
©005102*@01000
0AOV0D4230
4231005103%
0051040AB0ND
001000VOSUTS®
€UD3T6
4232005105¢V0000000PLSY
42330e5100°Qulove000302
4230
4235GY5107%
025116000D
PeV0WE00466
005102"
4236
4237005111°
0051127001000
QU000423809511370A10004239
42400US114*
005115700i0w0
0000004241GeS116¢0NGOVD0VSIAT’
4245
4246005117
065120°0010w
00leoo000321
00PLT2
4247005121°000000dp1602°
4248
4249
4250©U5122°
0¢5123¢VAVOAG
Bolooo0051157
900267
005124
045125¢001000
Ve100n€0D3SS
00032
WE
MUST
DESCRIPTOR
FOR
INCLUDED
WANT
QUOTE
THE
VALUE
NECESSARY
60580
60600STRON2:
60620IFN
TYPE
INFORMATION
TO
POINTER
STORE
GOES
VARIABLE
VALUE
ON
FIN
JASSIGNHENT
FOR
LENGTH=2,<
XTHLJH,L)
CALLMOVHF10O
POPHa>JGET
COMPLICATED
S0USE
POINTERATVARIABLE
GET
THE
15
NUMERICS
THE
"LET"
ASSIGNMENT
BACK
THE
TEXT
POINTER
LENGTH,<
"
0UAS2]6U660CHRGETDOO312
0US5111%60660JzTRMOK60700133a460720NzTRHNOK>JENDED
00HS43
GEBE5S60760
60760XTHL
oCxHJLOUKAT
00032760780CHRGETANDSET
008302
004715’60800NzLoPOT2INOTENDING,
60880
60900POP
LoA0
FLGINK60920
60940ORA
A
LENGTH, <RZ>60960
60980
61000KCHG
JNZ
62820
66840
PROPERLY?
JANDGET
JTOFILL
TEKMINATOR
UP
CONDITION
CHECK
ANOTHER
WITH
CODES
FOR
COMMA
VARIABLE
DATA
4264
4es1
4252
453
BE
DON’T
ENDING
POINTER
oex
4eus
OK
LOC
60640
aza2
CASE
ASSIGNMENT
JEVEN
60560
4226
CHARACTER
STRING
CHRGET
60500
60520
60540
05077
START
STARTING
5 (H,L)2PLACE
00S072¢
4225
TERMINATORS
COMMA
STRING
JRETURN
00303
4eee
IS
STRING
184
B0@3254212
4223
4eea
JMAKE00B34S
4220
4eey
THE
11D,E) sTEXT
HySTRON2
4213
4211
TYPE
LENGTHA2,
<
4201
4210
AND
60220
60240
IT
OK
60200
THE
GET
STRING
STRING
COLON
TO
DIGITS
005041¢4185
STRING
UNGUOTED
41844186
4187
4188
OR
CODE
NUMERIC
VARAIBLE
SO
VARIABLE
"LET"
FIN
4183
MCS
BEGINNING
INFORMATION
NUMBER
JCHECKED
005036°
TYPE
NUMERIC,USE
4182
F3
THE
THE
NUMERIC
©005031°
BASIC
AT
INPUT
"2
POINTER
USING
005030° WE1000
4181
MORE
TYPING
(H,L]2BUF
TO
CHARACTER
A
4170
4180
NEED
BUFFER
4168
4169
WE
AFTER
59700
4159
4167
WHEN
LINE
RESFIN
1POP OFF THE POINTEK
JFETCH THE STATEMENTINTO
TYPE
JDON’TUPDATEIF
JINPUTSTATEMENTJUPDATEDATPTR
DATPTR
IT
DATA
FLAG
WAS
AN
CODE
TOBASIC
F3
MLS
8080
HAC
4gs4
4255
GATES/ALLEN/DAVIDOFF
bmSEP=64
agss
4259
426p
47(113)
INPUTAND
10=SEP=75
@s112
READ
PAGE
185
CODE
005127°000090ovs121t005130*Q10000LO26661040ORA"JCOULD HAVE ENDED
61080L1HyEXIGNTJTEXT FOR MEXTRAN
61100
61120PUSH
ozDFSAVE
JIF
WASNT
THE
POPHJGET
BACK
905131¢001040opaaL
005132¢200000ous1a2*
005135¢0020084ze20051347901000ovs1aer
ov032s
4263005155*0010000on3a4
4z6u005136*200006ou7743°
azes0p5131°000000oes132°
001000
4261
MACRU¥a0pan
4256
4es7
03311
003453°
wos126°4266605140°aeasal61140
05101°op1v0e40251161160
4268gu5142°2000000eouT!61180
4269005145°onopee4270
4271
4ere
4273o5144¢000000760105
200130o51a5¢
005140*
005147*00006042ru005150°2000000000400200000eoi2s
ovo122
JCOLON,
61060
4ze?000000
<
LENGTH,
61020
STROUT
RET
EXIGNT:
DCU"ZEXTKA
BUT
SHOULD
WITH COMMA
BE
A
ZERO
TEXT POINTER
REAL
THE
END
TEXT
SAY
R
SOMETHING
POINTER
IGNOREDY
200101
4215605151°200000000111
4276605152¢000000290107
4er7605155¢0000000A116
4278005154*000000oua117
4279905155¢000000ooe12e
4280005156*000000000105
4281095157¢00200642820051571¢000000000304
4283005166*000000060615
4zsa005161¢0A000D0e001e
42850051622000P0000000
Vo104
'
PErTSiageriSUBROUTINE
4286iIN
S0THE
THE4K "DATA"
SEARCH IS
INTHE8K
4269
TO
FIND
DATA
MUST
MADE
BE AT
USINGTHE
THE
THESEARCH
START
LINKS
OF
ATTHE
THE
MADEBY
LINE
STARTOF
USINGTHE
EACH
LINE,
4292
4291
492iFOR
i
iIS
1S
§
7DATA THE ERROR MESSAGE
ILL=FORMATTED DATA
49y
ae9s
4297
4298095163°@u10u0008315
4299005164°
0051657020000ovauT2t
000060205136°
4300
TO
EXTENDEU
4293
4296
DATA
AND
SKIP
OVER
i
DATLOP:
DATFND:
1FELENGTH, <POP
LENGTH,
<
005166001000000267ORAA
4504205167201000000302NzNOWLIN>
4365©05170°000000puse1ar4306005171¢00e0ee0U5164°
Bu8Y
MAC
GATES/ALLEN/DAVIDUFF
bmSEP=64
03111
MACRO47(113)
INPUTAND
61580
4307
@312
READ
IFN
WILL
IFN0051604303
MLS
STATEMENTS,
LENGTH,<CALL
IFN
4302
BASIC
THE
COMPARED WITH DATATK, EACH NEW
STURED IN DATLIN S0 THAT IF AN
4301
F3
1S
CODE
10=SEP=75
GIVE
START
LINE
61600avase?61620095174¢00100000017161640AC4311005175¢2010000ee6u61660[}4312205176°201200PITTET61680€,ERRODINODATA
4313005177°¢
005200000000LI4314201000000312ERROR11FS0
4315005201900000ov2102*4316vo5202°220000aus170"
61700
00169000030120100000013661760
4320005205°005206
*201000
00126000auds4321432200520/
4323
4324
001090
0ns5210° 201000
005211
° 200000
61780
MoV
SHLO
000020weseei”©05213¢001000000353005214°0210002vaser61860
61880
4328005215¢90100090037661900
4329wvs216°0006002002034330aus2117°201000oeas0e
4331au5220"2000000U5163°
4332ous221*000200nuse11”
4333
4334vus222°2010004335w05223°@0o0ee005025
4336wes224°20000005e20*
4337
4338
4339
Inx
51800“ns21e*
4340
JGET
00R303
EN
STATEMENT
ERROD
DATA
#
LINE
LINE
#
N
0,M
XCHG
DATLIN
XCHG>
NOWLINT
JGET
DATATK118
61920NzDATLOPINOT
51940LENGTH, <POP
JHP.
DATBK
THE
1S
POINTER
TEXT
JRESTORE
CHRGET
cPI
61960
ERROR
COMPLAIN
MOV61820
618404ser
IS
FSKIP PAST
2003554326
4325
JSAVE POINTER TO THE NEXT
ISEE IF WE ARE AT THE END
LENGTH, INX
LENGTH, <POP200126
ovowae
201577¢
READING
THE
H>
021000
0010000000430a5173°005205*
0052047
OF
LENGTH,
005172*
4318
WHILE
NUMBER
STATEMENT
TYPE
"DATA"?
DATA SO
JCONTINUE
LOUK SOME MORE
READING
CODE
STATEMENT
PAGE
4308
4319
EXECUTION
EACH
DATA»
430961720
61740
OCCURS
LINE
4310
4317
OF
NUMBER
ERRUR
THE
WORDBASIC
F3
MCS
6980
GATES/ALLEN/DAVIDUFF
MAC
6=S5EPm64
03311
MACKO
NEXT
434162060
436262080
4343
47(113)
03312
10=SEP=75
PAGE19
STACKHAS
CODE
SUBTTL
NEXT
CODE
NOTE:
62160i434462120i434562140434662160i
iA434762180434862200434962220i
iLOW4350622402351622601A4352
4353
435462280
62300
62320PTHE
iA BYTE REFLECTING
THE STEP 4 BYTES
THE UPPER VALUE 4435562340iTHE"FOR"
4356
4357
4358
435962360
62380
62400
62420i
i
iHIGH]TOTAL
4360
4se1Qos225¢
4363
4362
005225* 20100000522620000000021
4364005221wPYDED0B5223°
4365
4366
4367D0S230°
4368
000LCE’
FOR
TOKEN
62440i
62460NEXT:
62480
4369
4370
4371
4372005230
005231601000
000000000304
VLE5VS*
4375005232Q090DVL5226°
43750052330010600VOVAZ
4376005234000000001603°
4377005285'0000000USe31’
4380005236¢001008D0VS1S
4381
4382005231
0052400P200D
0020000L1144*
BUS234’
4374
4376
ON
THE
IFN
(FORTK
POINTER
LINE
A TEXT
ADDRESS
16
TO
#
IN
HIGH
THE
OF
THE
POINTER
INTO
2
BYTES
THE
INCREMENT
THE
STATEMENT
"FOR"
2
1
STATEMENT
2
BYTES
ISTATEMENT WITHOUT
ANY ARGS
IWE CALL FNDFOR WITH (D,E)=@
LENGTH,
62560CALL
62600
62620LENGTH,<
cNz
PTRGET>
PTRGET>
JMUST
JGET
JLOOP
62660JPUT
62720
CALL
FNDFOR
62780LENGTH,
<
HAVE
A
626404385
A
VAKIABLE
POINTER
VARIABLE
THE
TEXT
PINAJINCASETHE
JTRYTO
TEMP
FIND
THE
INTO
(D,E)
PGINTER
LOCATION
LOOP
A
JON THE STACK
IMATCHES THIS
TERMINATES
FOR
ENTRY
WHOSE
ONES
VARIABLE
PAl0neL0U30262800INZJUNEXT
WITHOUT
©005202°00000002100°4368005243¢000000QUSE3T*0052447Doiovn00037162820SPHLJSETUP
STACK
4390
4391
4392005245
0o5246'001600
0210000VLO32S
0VOLT662840
62860
62880PUSH
MoVJAT THIS FOINT
JPUT THE VAKIABLE PTR
JSTEP ONTO THE STACK
4393©05247¢P0i¢ve¥00L4S62900INX
F3
MCS
BUBO
HAC
GATES/ALLEN/DAVIDUFF
b=SEPm64
05111
MACKO
NEXT
47(113)
03112
NFERR>
10
4389
BASIC
BYTE
BYTES
0, SCODE>FFOR THE "NEX
6256062740
62760005241¢
BYTES
OF
BYTES
4363
43844367
FORMAT:
BYTES
62700
4386
1
VARIABLE
SIGN
62680
4379
FOLLOWING
BYTE)
LOOP
THE
LENGTH, <LXT
62500
62520
62540
i
ENTRY
ADDRESS
10+5EP=7S
PAGE
NAME
FOR"
POINTEK
BY
CHOPPING
BACK
ON
19=1
CODE
4394005250°081000AUO36562920PUSHPSW
4395005251001000V0032562940PUSHO
439662960439762980LENGTH,<
4398
439963000
63020(%
INZE/,ERRNF
ERROR>
MOVFM
JPUT
THE
POINTER
JVARIABLE
LOOP
0OS252°V0100000B31563040CALL005255°0AVEYO0VB0ODE4402©05254°000EADPUSZ4R’4493005255001¢0000034363060XTHL4495005256V10000VO3AS63100PUSHM4497005251700100000831563140CALLFADDSJADD
44pB005260°DAOGYO0UAVOLA4409025261¢0A0VUEYUS255*00034163160POP.WJPOP OFF THE POINTER 10
JTHE
LOOP
4412005265°DP10YE00051563200HOVHFJMOV
FAC
INTO
4413005264¢DROCCO0UDLOOX4414005265000000VVSE6V"4415005266°V0100000034163220JGET
THE
ENTRY
POINTER
441600526700100000031565240JGET
THE
FINAL
INTO
441700527000000VLOVOV4416005271000000US264*441900S272¢6A1E0E0UO34563260ISAVE
4420005275°0910¢0DUR31S632604421005274020000VLBT14n4422
4423
44240P5275¢
00S276'
V05277@ACWAD
091U00
021000VL5270’
0UD3A1
V0030163300
63320n
BISTILL POINTING TO THE FINAL VALUE
JGET THE SIGN
OF THE INCREMENT
4406
4410
441y
63080
63120
005262 001000
THE
JFORPOINTERENTRYONTOTHEJPUTTHEPOINTEK70THE
ONTOTHE
THE
BACK
STEP
AND
ENTRY
THE
Bele0eBLDe2063340[FSUBTRACTJOF(CURRENT
THE
V0100006BS1S63380MOVRMJGETLINE#
44280U53NLCVRQOVEDLSETOX4429
4430005305°VAALPE0U5274°JGETTEXTPUINTER
4431005304¢V0love0UBS124433
00VRAD
005306¢0PVERYVUS30R"
4435@OS301°0010000U0S53
4436005310°dulvve0UBLAR
44370U5311°VALRREUD160/°
4434
LUOPDN
VU532’
THE
INCREMENTS SIGN FROW
VALUE=FINAL
OF
"FOR®
OF
[D,&)
"FURMINTO
THELINE#
THETEXTPOINTER
BUSIVS'001000000151LiC
4440©05314°Vplove00E140B
4441005315¢0010000OVORE
00¥RR000D30S003276
065511NXTCON
005320°001000000371
4444
63580
63600
LOOPDN:
SPHL
THAT
(B,C)
#1F SIGN (FINAL=CURRENT) +SIGN(STEP) 20
JSETUP00000005315°
pres
VALUE)
INTOISTORE0053120
4445
REGISTERS
JTHEN THE LOOP IS FINISHED
4438
0053167
05317¢
VARIABLE
CURLIN4439
4442
4443
STACK
NUMBERS
PO5300°
205305¢
LOOP
VARIABLE
POINTER
095301°
4432
LOOP
LOOP
4425
63360
THE
STACK
VARIABLE
THE
JCOMPARE
INTO
4427
4426
FAC
THE
IVARIABLE
63160
INTO
THE
STACK
4401
JPUT
VALUE
TO
THE
adee
4404
FSTEP
ONTO
FELIMINATE
THE
FOR
ENTRY
ISINCE [H,L) MOVED ALLBASIC
F3
MLS
808U
HAC
GATES/ALLEN/DAVIDOFF
6=SEP=64
05111
aaa7
MACKO
NEXT
47(113)
03312
10=SEP=75
PAGE
19-2
COUE
63620
4448005321°901000000US2
44490US322¢POREOD0L1603°
44500053230Q0U0DPeS316*
4453005324°00100w00B1Te
4454605325001000DOASTe
4455005326¢00RGLE0VOUSH
4456005327¢0Alene0BUDS0R
4457005330°0nEAE0003362*
4458
4459
4460
4461005331°
0@5332¢
©05333'
0053340AROAG
Opleap
V01000
000000US5S22°
UBs2T
VLR35
005230’
44620VS335000000BVS330*
4451
4452
JTHE
TEMP
WAY
FRESTORE
DOWNTHE
THETEXT
ACOMMA
LHLD63660LENGTH, <JHP53680LENGTH,
<63700MoyAMJIS
THERE
63720cP144JIF
SO
63740anzNEWSTTJVAKIABLE
63760
63780CHRGET
CALLNEXTC>JREAD FIRST CHARCTER
IDO NEXT, BUT DONPT ALLOW
LOOK
AT
NAME
446363800JBLANK446463820JANDWILLNEVER
446563840JUSECALLTO
BASIC
F3
63880
MCS
Bp8G
HAC
4468
469
GATES/ALLEN/DAVIDOFF
bmSEP=64
03111
MACKO
NEXT
47(113)
COUE
03112
10=SEP=75
PUINTER
NEWSTT>
Py
aa67
ENTRY
63640
PAGE
20
AT
THE
END
ANOTHER
10
VARIABLE
PUT
"NEXTY
NAME
(D,E)=STK
MATCH
DUMMY
ANY
PTR
VARPTR
"NEWSTT"
ENTRY
ONBASIC
F3
MLS
BPBY
MAC
GATES/ALLEN/DAVIDOFF
6=5EP=64
03111
4470
MACKO
47(113)
03312
FURMULAEVALUATION
#0020SUBTTL
10=SEP=75
PAGE
21
CODE
FORMULA
EVALUATION
CODE
447y
aare
20060IFN44739080IFN447400100
LENGTH=2,<
44752u122THESE447640149(A)4477801604478901604479202004480vo220auby
4482vu240
402604483au280$6AD
44820300JRETURN
4aes
STRING,<
ROUTINES
IS
CHECK
FOR
CERTAIN
VALTYP
PRESERVEDFRMEVLJEVALUATE
"01000,70366ITURN
JSET
VALTYP
A
00320E/ERRTH
aase20340ERROR>>
003604488@v380THE4490
preer)
FURMULA
A
FORMULA
CARKY
OFF
WITH
ORI
CARRY
70 MEANS NUMERIC | MEANS
JRESULT SHOULO BE 0 OR 3
4u67
4489
A
NOTCALL
EVALUATOR
RESULTS
IMTYPE
STARTS
IF
ARE
2
AND
CORRECT
MISWATCH
ERROR"
WITH
(H/L) POINTING T THE FIRST CHARACTER OF THE FORMULA,
00420AT
445120442THE
4492204604493
449490480
20500THE FORMULA EVALUATOR USES THE OPERATOR TABLE
(DPTAB)
TO DETERMINE PRECEOENCE AND DISPATCH ADURESSES FOR
449520520EACH
449690540A
449720560449820580THE
ADDRESS
449940600OF
OPERATOR
4500206204501A06404502066604503006804504070045054506
4507
4508
4509
THE
END
[H,L)
RESULT
1S
POINTS
LEFT
IN
TO
THE
THE
TERMINATOR,
FAC,
GPERATOR,
TEMPORARY
RESULT
OF
THE
STACKHASTHE
THEPLACETO
==
FLOATING
THEADDRESS
POINT
a0720THEPKECEDENCE
00740
20760
o080TOTAL
OF
THE
OF
TEWPORARYRESULT
UPERATORROUNTINE
THE
90800IFESTRING, <FRMNUM:>06820
90840FRMEVL:
FRMCHK:0CX
MVIH
0,91BACK UP
JINITIAL
00860LPOPEK:PUSHOJSAVEPRECEDENCE
90880CALLGETSTKJMAKESURE
299001005336¢
§05337°U01000
MR10000RBUSS
0URL2EB000U0@VEULD45130uS3a1*@p100n0LD3254514005342’Q010000VASLS4515005343G000451600S344¢WQLOODPVSI34*4517005345¢200000208VDL4518
451900S346¢
005347*W01p00
000000VO315
DU6VEL’au920CALLJEVALUATE
4520005350°U0ONE@USS43*4521
4522©@5351¢
00S535e’80100
GnOKEE0LU4e
0U1605*20940SHLDJSAVE
6080
MAC
GATES/ALLEN/DAVIDOFF
bmSEP=b4
05111
065353¢
DO5354¢0W0000
001000005347’
0U6US2
4525
45260Y5355¢
0U5356*Vp0EER
0NAO0R0L1605°
005552°
4527005357°001000000301
MACKO
47(113)
93112
10=5EP=75
LHLDTEMP2JRESTORE
TEXT
8JPOP
OFF
THE
AJLOUK
AT
(ACHKNUM>>JTYPE THING WE SHOULON'T
JSEE_STRINGS
ITYPE MISMATCH ERROR IF NOT
MOVAHJGET
L%0,2JASSUME
SUIGREATK718
JcENDRELJRELATIONS
4530710404532
4533
453421080
21100
a112e4535005360¢0p10Pe©URLTE#1140
4537005361¢0010000UGLR601180
45390US365¢Vp10KD0UB3261200
4540
4541005564°
095365°00AV0Y
0p10veBUB2ST
009332w1220
4542005366¢VAVORN005415450300536700E0000US3SS’005370¢ 001000
2053727 Dolvve
01300¥E0LCL
0v0bRl01320RAL00100000BeSE21340XKA[FBRING
21360chp[JMAKE
SURE RESULT
21420SHLDTEMP3JSAVE
CHARACTER
21440
01460CHRGET
JnpLUPREL4555
45564u5402°
0054030054012010000U0RTE
4557005404GU0U0QD2uTe’
4559
4560¢@5406¢
©05401¢001000
0A00R000042
001575
0@l
Guleed
@0QEU0
0UPI2T
BuV332
VPOOOE
D01000
DR1000
GRO0U0
ON00UE
0alvew
Bei00EBU5404*
BUB32T
000303
DUS5363°
005407
008172
0G026T
DUBS0R
BITSBY
1702
INTHE
1
MAPPING
AND
OLD
JSAVE THE MASK
JOON®T ALLOW TWU
2
TO
4
BITS
IS BIGGER
OF
THE
SAME
NEXT
CANDIDATE
JGET THE MASK
JWERE THERE ANY?
G05605°
0US413*
000176FINREL11F
91540MoVApHJGET
0EVLLE91560SHLDTEMP3>JSAVE
0032621580su1PLUSTKTAN
0010000E00U0
0DOVVD0V1575°
0U5420°
4575@@5420fMpleve
ENDREL:
THE
AD
A205425°
21480
21560
FGET
POINTER
Nz4572
Gu5424°
005425°
0,A
SNERR
UP
T0
MOV
ORA@V1N0D
4573
4574
MOV
Je
50
21520005417
G0O000
BPU0C0
001006
91380
21400
PSET
BUS3T3*
4568
005420'
005421
005622¢
THROUGH
0000OD
001000005400¢
4569
4570
4571
ALL
INO JUST BIG
0@5376°
005371¢
©95410¢
@U5411°
0u5412¢
005413¢
0U5414°
©€05415¢
005416
OPS
o
cPl4553
4561
4562
4563
4564
4565
4566
4567
RELATION
0U5415°
0US366’
0603764551
4552
005405
NMREL==LESSTK=GREATK#1
NO
THIS ONE RELATION?
718 IT REALLY RELATIONAL?
060322
NUMERIC
NEXT CHARACTER
NHREL.
UQVDS
01260
LUPREL:
LENGTH,<
PRECEDENCE
ENDREL.000OND
GOOU0
0G1000
4558
91240
IFN
OLDOP
JIF ITS SOME ARITHMETIC
INC©U5375°
005374
©05375¢
00VST6
NOTSTV:
120
OF
(300UORD
4554
000003
v1160
cP1
PTR
PRECEDENCE
21280095371°
4548
4549
4550
MoV
91060
4545
211
POPSTRING,
<
00OUOD
POINTER
TSTOP:LENGTH=2,
<
4531
PAGE
TEXT
RETAOP:IFN
4544
RECURSIVE
SOMETHING
#0980IFN4547
FOR
9096021020
4546
ROOM
@
CODE
01000
0AACGD
IS
EVALUATION4529
005362°
THERE
FORMULA4528
4538
CHARACTER POINTER
DUMMY PRECEDENCE IS
002024
4523
4524
4536
COMPLETION
ON
OPERATOK
0VS340’
ML S
FORWAT
RETURN
BYTES
4512
F3
FOLLOWING
APPLICATION
THE
10
ON
*RETAUP®
4510
4511
BASIC
STRING
1
RESULT
SO,
THE
HANOLE
AS SPECIAL
CHARACTER
UPDATED
OPERATOR?
OP
AGAIN
CHARACTER
POINTER
CALLSF3
MLS
8980
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=h4
03111
4576005421DOVALY0UB25H
4577005430°vP1000000330
HACKO
47(113)
FORMULA
83312
EVALUATION
41600
10=SEP=75
PAGE
21=2
CODE
RC
JRETURN
IF
a1620JTHIS457901640JAPPLICATIONORACTUAL
LSTOPKJHIGHERTHANTHELAST
EoAJMUSTMUTIPLYBY45800US431*0010000UDSTH
21660cPI
45810@5432¢000@WY000LDT
4582€05435¢PO1COD00052021680RNC
4583@5434¢V01v0Q00A13T21700
MoV
458421720458521740STRING,
<
21760LDA
21780LENGTH=2,
<
4586005435¢001000000072
4587005430°PPRUYD001545°
4568005437°DOROGY005424°
4589
4590095460°9010900U2STE
4591GUS441°VALVADVLOVES
4592
4593
CAN
NOT
4578
JOPTAB
VALTYP
21800cPI
21820LENGTH=2,
<
ENTRIES
JSEEIF
LEFT
JSEEIF
ITS
JSETCONDITION
IN
3
PART
A
0CRA>01860ORAE21880LENGTH=2,
<21902novA,E>JREFETCHOP=VALUE
01920azCAT>JHUSTCAT
4600
460121940
01960LENGTH=2,
<
RLC1A%460221980ADD€JADD460302000HovE460402020LENGTH,
<
001000
000263
4597005445¢vplene0UBS12
4598005444¢0RO0EQ010520°
4599095445¢POCREE005836
4605
02040
ORIGINAL
IN
JCREATE
CODES
Ax2
ORIGINALA
TwQVALUE
BYTE
0AD[}7ADD IN CALCULATED OFFSET
000U4T
Lx1
4607005447°90U0E0VA163’4608025450°0VEROD005444°006312208046100U5452¢0pleee0U01TO22100Moy4611005455¢09106000012602120MOV4612005454°0010000UBRTE02140cHPFOLD=NEW
4613095455'0910000UDS2L22160RNCJMUST
H,0PTAH
JCREATE
7{A)
'
4614921804eis22200LENGTH=2,
<
461722240STRING,<CALL
InNX
H
CHKNUK>
INDEX
INTO
OPTAB
GETSOLDPRECEDENCE
JREMEMBERNEWPRECEDENCE
JIF
n22e0
STRING
JHIGH ORDER =@
V01000
4616
LONG
0,2>40544b°
¥05451° 001000
3
IS
(1%4606
4689
22060
4>
BE
RETURN
0P?
STRING
4596
005442°
OPERATOR
SINCE
ARE
4595
4594
01840
3>
RESULT
APPLY
HAS
OLDOF
GREATEROR
=
PRECEDENCE
JNOW POINTING AT ROUTINE ADORESS
JCAN'TBE
THE
STRINGHERE
ONLYSTRING
461822260JSINCE
4619azaseIS
4620
462y22300
02320JOON'T COME THROUGH HERE
ISAVE OLD PRECEDENCE
46229234046232236046249238046es024004627
462822440
02460
4626
BASIC
F3
DUPREC:
IFN
B0BO
MAC
GATES/ALLEN/DAVIDUFF
6mSEPm64
USi11
MACKO
PUSHB
LIBy RETADP
PUSHB
PLUS
AND
JUPERATOR
RETURN
JFIRSTPART
JSAVESECOND
MoV
8,E>
47(113)
OF
ADURESS
"TEMP"
25312
EVALUATION
10=SEP=75
BYTE
OF
ENTRY
PRECEDENCE
JSINCE FOR RELATIONAL OPERATORS
JIT GIVES
JTHE LEFT
FURMULA
OPERATOR
RELATIONALS
LENGTH,
<
nz2420
MCS
pewcld Evpriane
BASIC
PAGE
THE VALUE TYPE OF
SIOE AND IT TELLS
21=3
CODE
462902460463902500463102520MoVCy0463202542CALLPUSHF
JWHICH
463322560LENGTH,<463422580MoVEe8>JGET
SECOND
463522600MoV0,C1(0)
GETS
4636#2620PUSHM1PUT
ROUTINE
463702640LENGTH,
<4638
4639
464002660
22660
22100LALD
' TEMP3>
LENGTH,<
LHLD
TeMp2>11F
WE
46412720JON
OPERATORS
4662
4643a2740
82760JBE
JAN
ONE CHARACTER
OPERATOK THAT
464422780JAT
BEFORE
464522800JTAPPLY
464622820J1F
464702840JREMEMBER
464802860JTHE
464922880JEITHER
465022900JLATER
4651
4652
465322920
82940
82960JMPas000
n3020
83040LENGTH=g,
<
PUSH
8
X1
B/ RETAOPISAVE THE OLD PRECEDENCE
JPUT ON THE ADDKESS OF THE
11T
RELATIONAL=OPERATOR
WAS
BYTE
OF
PRECEDENCE
DONT
WE
ADURESS
HAVE
LENGTH
IS
AND
RESCAN
IT
TO "REREAD"
LOOKED
NOT
TO
H"
WE
TEXT
OPERATOR
IF
SO
WE
"DCX
ON
THE
STACK
ONLY
DECIDED
JUST
THE
"LENGTH"
CAN
AND
ON
HAVE
TO
POINTER
AFTER
THE
BEFORE
SO
WE
CAN
OPERATOR
DOESN'T
GET
APPLIED
JOR GO BEYOND IT WHEN IT DOES
J1PUT ON PRECEDENCE AND LOOK AT
INEW OPERATOR
LPOPER>
AGAIN
PRECEDENCE
A
4654
4655
4656
4657
4656
4659
005450
@U54ST*
V0546V’
V05461’Vplep
001000
AQVOVE
VpOVORALD3AS
@UALOL
BES3S4’
VL5447’a3060PUSH8JPLACE00SA6E!
0W5463°001000
VRleve00035
veelTew3080MoyA0ISEE4663VVOST623100CPI127FJWHICH4664w3120JzEXPSTK11FS0,811SEEIFTHE
ANDURDJANDIFSO
4660
4661
4662
D05464°001000GOS465°Ve©VEALTT
4666BE5466’001000UOSI2
4667G0S467°ADVOLEBV5553°
4668
4669005470°
VOSAT1I*VEPEEE
@nl0veBRS46L*
0eA3Te
4670
4671
4672D05472°
205473°
005474°PP000R
vplpew
PEREREWLA121
0Ve33e
@LS5TL’
4673
4674005475°Q00VYd©VS46T’
4665
TO
IF
JMARE
RETURN
THE
HAS
TO
IS
PRECEDENCE
"FRCSNG"
A
AFTER
OPERATOR
AND
SPECIAL
IS
A
SPECIAL
"AND"
OR
AND
STACK
ENTRY
4875
4676
THIS
4877
4678
CODE
PUSHES
STACK,
THE
ONTOTHE
TYPEMISMATCH ERROR,
CURRENT
EXCEPT
IN
(D)
THE
AND
VALUEIN
CASEOF
(E)
ARE
THE
FAC
STRINGS
IN
PRESERVED,
4679
46be
4681
vUSATe’
00S4TI*
BpleVe
@oLYEn
@vowle
QU1543°
UMREL:
LDA
VALTYP
TGET
THE
VALUE
TYPE
APPLICATION
127
MAKE
OPERATOR
"FRCINT"
OPERATOR
EXPONENTIATION
WHICH
IT
CALLS
STACK
"OR"
ENTRYMCS
80BQ
MAC
46B2
4683
GATES/ALLEN/DAVIDOFF
6=SEP=64
00SSA0CBOV0OD
03111
HACKO
0U5501¢0019000LOST6468400S5502°@00LOD000034685
4686005505°
6055047Unione
00OU00QUA312
0UALUX4687095505¢0B000N00S4TT®4688 *BU5506¢0O1OA4689095501WR00R04690
46910U5510¢0M0GNG00S504°6955119010000011693302
46920@5512¢V0100000OL4S23304
469342551300100000910693346
46946055147021000000LLS03348
4696005516¢VE100000O3T223380
469768551770EO0DA0055364698005520°BOOWUD0L5507°46990p5521¢Guleaw4700095522’47019552374702DUS524°4703903525¢4704
4695
045515¢ 091000
47(113)
FURMULA
93312
EVALUATION
10=SEP=75
PAGE
COUE
0LSHT4*
0LAU4L
25302cp13JANDSETTHE
233209zTHERRJBLONUPON
93340Lx1HyFACLOGET
CONDITION
POINTER
TO
LO
060305
H
com00100000ALLS#3384)@w100000010693386B4UD1U00UDAS03388"G010vn0EESES93400[1PUSH
00S520¢GatoneP0@34223420VPUSHOJALL
47050U5521°B900UL@0S536*4706005530020000005517°83440HyOFACLO4767
4706005531°
00553e’021000
0000A000641
0U1635*
4709PBS535¢@oDowDVeSS21*
47100US534°610600VO36T
471100S5535¢00100000B36T
4712¢0S536¢@n1000DUA1LS
FAC
IPUSH FACLO#@,1 ON THE STACK
VPUSHO
JALL
FWE
DONE
THE
FAC=1,8
DONE
MAVE
JPUSH
VPUSHU3
IF
IF
A
115
ON
KE
LO
1(C120PERATOR
005537°@oi0e000sieTB4J1BIaTYPE0U5540'OpluWe©003YS[ISAVE09554170810000000018, APPLOPJGENERALOPERATOR
4716005542¢0000U0005642°4717JROUTINE==
G000MD005532’
00S544°¢0010V0VE3DS
4720€@5545°0010000LOUS2
WAOVAD0015757
FINTHP:
STACK
OF
THESE
A
AN
INTEGER
SNG
PRECISON
ON
NUMBER
THE
STACK
NUMBER
4713BOSS545*THE
BYTES
47154719WAS
DOUBLE
4
CE
4718
OATA
HAD
4714
@u0LAD
IN
8y
23362
00S541°
IT
H
0ealle
0055467
ON
con
[}
4722
BASED
0016377
23360
4721
CODES
STRINGS
bewild Eugiia i
BASIC
F3
VALUE
ON
THINGS
DOES
PUSHBISAVEPLACETO
LHLDTEMPSJREGETTHETEXT
aneLPOPERJPUSH
THE
FOR
STACK
APPLOP
APPLICATION
TYPE
CONVERSIONS
6O
POINTER
OUS5UR'
4723005550001000000303
4724©95551¢VADOUG00S341*
4725095552WR0MWE0USS46*
4726
ON
THE
PRECEDENCE
AND
READ
MORE
JFORMULA
4rer
aresFOR
4129
4730TO BE SINGLE PRECISION, WHEN APPLICATION TIME
THE RIGHT HAND OPERAND TO SINGLE PRECISION AS
EXPONENTIATION
WE
WANT
T0
FORCE
THE
CURRENT
VALUE
COMES
WELL
IN
WE
THE
FAC
FORCE
4731
4732005555¢001000
4733005554900000
4734005555720000
BASIC
NUS
808U
MAC
F3
XPSTK:
GATES/ALLEN/DAVIDUFF
6mSEP=64
03311
47350855567DEl00000AS1S
4736
47370955577
005560000000
0000000CPRDEX
0055547
4739605562¢000000000V00S
005563000N0G0US5S7*
4742005564¢001000000626
4703005565¢200000000171
4704G05566°@0002003E3
474500S567¢0aU0N0005544°
4766GOS576fBOUOAR005562°
4738
4740
805561 DelpUe
CALL
FRCSNG
JCOERCELEFT
ON
HAND
000001
aray
MACRO
47(113)
FURMULA
©3i12
EVALUATION
10-SEP=75
PAGE
21=5
CODE
03840CALLPuSHFJPUT
23860LX1B FPWROESJPLACE 10 COERCE RIGHT HAND
23880
IT
THE
STACK
JOPERANDANDDO
239000,127JRESTORETHEPRECEDENCE
03920FINTHPJFINISHENTRY474793940
4746
4749
475093960
23960
a40ve
475124020
FOR "AND" AND "OR" WE
FAC TO BE AN INTEGER,
HAND OPERAND TO BE AN
00S571¢00100000832594940PUSHD©uS572¢Guiodw0UB3L524060CALLFRCINT4754
415500SS75¢
uS574¢00NG0
VEUNAY0O3630%
005567"4757
47580CB34S
00002104080POP[}110) SPRECEDENCE
24140anpFINTHPJPUSH
005575¢ 921000
000321
0PS576¢
US5S77¢Ge100R
001000005600’B00UYe00643T"
4760
4761
4762005601¢
00S602!
005605*0E0000
Gul0WD
VE000W005573
008303
0US544°
47630US6U4’WOBOOD005680’
24100
04120
PUSH
Lx1
476804160416594180476604200HERE
are744220STRINGS
476894240FROM
476924260BOTTOM
477024260BITS
4771
34300
4rre
W
8, DANDOR
BUILD
ARE
MOST
AN
OPERATOR
INSTEAD
ARE
0OCHPAND
FINKEL:MOV
ENTRY
TREATED
OF
STURED,
THE
0u5605°¢Buiove00@1T0
4775
THE
PRECEDENCE
(7¢
UR
FOR
A
ENTRIES
STRINGS
RELATIONAL
THIS
CONTINUE
KELATIONAL
SPECIALLY,
HAVING
ON
84)
NUMERIC
ONLY
RETAUP,
HAVE
IN
THE
DOCMP
ADDRESS,PRECEDENCE
EVALUATION
OPERATOR
COWPARES
FACT
AND
STRCP,THE
ARE
THAT
THE
AT
DIFFERENT
THE
RELATIONAL
POINTER
AT
THE
DUE14d
0@5606° 001300
000376
94340
STRING
DESCRIPTOR,
BITS,
24360
CcPI
4,85 TA)30LD
100
PRECEDENCE
JRELATIONALS HAVE PRECEDENCE 100
005601¢QUDEUD005610¢@u100EVEO3200US611f@0100000B38S24380
04400
044208JAPPLY EARLIER OPERATOR IF
JHIGHER PRECEDENCE
ISAVE THE OLD PRECEDENCE
4779QuSe12°@nin0d0002594440[JSAVE
044600, SCODE+256041 (D) sPRECEDENCE=100
005613¢010000R0021
476100S614*GODDG0062604
"
4762
4763005615°0000000US603°
005616°
06S617°001000
00OUI000OE41
0V6STS"
RNC
(0] =RELATIONAL
J(EJ=DISPATCH
4764
4785
4786
4767
FORMULA
JPUSH THE LEFT HAND OPERAND
19AND® AND "OR" DOER
4776
4rry
4778
4780
MORE
24320
4773
4774
ISAVE
JAND
T0
EVALUATE
WANT TO FURCE THE CURRENT VALUE IN THE
AND AT APPLICATION TIME FORCE THE RIGHT
INTEGER
47534759
ANDORD:
EXPONENTIATION
AND
4752
4756
OPERAND
0055510
OFFSET
JROUTINE
TO
TAKE
HAS
FOR
JCOMPARES IN APPLOP=4
JIN CASE THIS IS A NUMERIC
HyDOCHP
IT
BITS
COMPARE
COMPARE
ROUTINE
RESULTF3
MUS
8080
AL
4788
GATES/ALLEN/DAVIDUFF
bmsEP=64
03311
005620°APONAD0056147
4769
MACKO
47(113)
FURMULA
03112
EVALUATION
10=SEP=75
PAGE
216
CODE
24560
JAND
RELATIONAL
4790005621°90100000834524560HJOOESAJMPTO
4791@05622*00190000DS1S24600GETYPEJSEEIFWEHAVE
4752Q4620NUMRELIYES,BUILDAN
04640FACLOJGETTHEITB45623°V6000000637
T47950956240000UEVBS61/*4794¥e5625¢00100090030247956956267DOUODDD0SATE47966@S621¢000PWEBY5623°4797605630¢001000000CS24798G05631°000000001637747990OS632’A00RODPESE26*48000056357V01000VUB3LS04660"JSAVE4821405634¢D0100000RKAL04689B, STRCHPISTRING
4BU200S635¢0GU0DDVL632048030256360pU00E005631"46040U5637¢PAL0DD0003ESFINTHPJPUSHTHE
4805005640°B000ND0VS544*4806005641°POO0VD005655JSAVETHE
MOREOF
4807
@4700
P
24720
480824722480924740461004760APPLOP481124762ORNUMERIC
as12a4764THESTACK
481394766NUMBEKAND
481494768APPLOPDECIDES
as1s04770WILLOCCUR
24772USESUIFFERENT
4816
18
RETURNED
TO
WHEN
CONPARISON
HAS
A
THE
BYTE
OF
VALUE
ANDCONVERTS
CALLING
INTEGERS?LEFTIN[0,E)
SINGLESELEFTIN(6,C,0,E]
DOUSLESILEFTINFAC
24780
THE
ON
THE
PRECEDENCE
THE
AN
DESCRIPTOR
THE
AND
TEXT
POINTER
SCAN
ARITHMETIC
RIGHT
FOR
IN(ML)
RIGHTIN
RIGHT
THE
THE
OPERATOR
STACK,
OPERATION
IN
APPLOP
EACH
THE
VALUE
TYPE,
FAC
001000
00R301
04800
APPLOP:
POP
]
ARG
11BI#STACK
04820
OPERAND
71CI20PERATOR
IN
VALUE
00017194840MoVJSAVE001000
0p00A000BL62
001544°04860STAA4826005646’BA0ERL005640’4827
4828
4829005647¢
005650°
005651701000
901000
B0PRLD002170
008376
DULL1E24880
24900Moy
PlA8
8JCHECK FOR
JPRECISIONDOUBLE
ENTRY ON
48300@5e52¢@0ioRe@0@Sie24920JzSTKDBLJFORCETO
4831
4632005655°
005654°0000R@
V00R0D005/25°
005645’4633005655¢24940
RAN
MEMORY
SINCE
FAC
001000¥G00T2LoAVALTYRJSEEIFTHEFAC
005656°B0BOWD001503°0U5657°00VN0005655°005664¢
0056617801000
000000QL0376
MEG01EcpI8JANDIFS0,CONVERT
4838005662’G01NND0UGS1eJzFACOBL1704839005665¢B0C0REVLSTTS'4B4DOUS664’VNOVAD0US656’
6080
GATES/ALLEN/DAVIDUFF
6mSEP=64
83111
MACKO
47(113)
FURMULA
05112
EVALUATION
10=SEP=7S
PAGE
DOUBLE
0US665¢Mel0V000012125000MoV0,400S666*DRl0DM00PITE05020oyA8JSEED566
005670°001000
D0UONE00B3T6
0LOURY859401344JPRECISION
4845
4846005671°
0US6T2’001000
0GONRG000312
DR6Y21'25060JzSTKSNGJTHEFACTO
4BAT
4B4B0DS6TS!
005674¢DUU00D
B1000005665’
D0BLT225080A0FSEEIFTHE
4849
4850
4851
4852805675
005676’
0US677¢
005700°0p10W0
QEUUED
D1NRD
000DRL0URST6
DVOLES
0U@322
00634’#51003JANDIFSO
#5120FACSNGJPRECISION
4653005701¢0e0OER00SETR2*
@05702¢0010000VD312
0Q5703¢0000D0US5A4%
485700S704°BO00AD00STEUC
485800S705°0p1U0006OL4L
4859
4860¥e57ne’
005707°0PEAUD
00AGCOB0BT16"
0USTOS’
SAVE
#5140
THE
IF
INOTED
THE
UP
STACK
JBLOW
ON RIGHT
05180X1My INTOSPJINTEGERINTEGER
DISPATCH
000ECL05200m1JSPECIAL
00ACOG0C00OD001000@UOUIL252200ADJTH,L]
001000000L11252400AD4865
4866
4867©0S714°
005715
¢5716*001090
001000
P0l00o0VG116
00L4S
QUB1RE85260
85280
#5300MoV
INX
MoV718,
C) sROUTINE
486800571700l0R0BUAS21#5320POP5D, E)SLEFT
4869€¢5720°0010009UWLS225340LALD70H/
L) =KIGHT
4870
4871
4872005721°
005722*
005725¢000000
000U0D
O0ioue001637'
0USTE6"
©@ER3E585360PUSH1DISPATCH
4873005724001000QUAS1L25380054004875#5420THESTACK
4876
487785440
95460THE
ANDFAC
THE
4878#5480DG0b6A*
P0EVOD00ST21’
001000
000GOD260315
ALOLOVH
48B4
4885
4886105732*
0@5735¢
005734¢V0U0UD
0W1000
0pi00e005T26"
QVRSHL
PCOV42
48870Y5735°0UVOE801635°
48860057367OAUCOD0057310
4889005737OnloW4890605740°PV100D4891005741’000000V016337
005742*
005743¢
PA0D0G
001000
IS
DOUBLE
SINGLE
BE
HAND
PRECISION
STACK
TO
INTEGER
STRING
SINGLE
AT
THIS
ORERAND
CASE
TU
FUR
THE
SPEED
ADURESS
TO
GO
TO
ADDRESS
HAND
PRECISION,
OPERAND
HAND
OPERAND
JMAKE
05520CALLVHOVAFJMOVE
65540
95560POP
SHLOH
DFACLO*2JPOP
0LO34125580POP"OUOLUE#5600SHLDDFACLO
SNGDBL:
POPR
SO
DOUSLE PRECISION,
INTO THE FAC
FKCOBL
05620
STKOBL:
OPERAND
MUST BE FORCEL TO
STACK VALUE POPED
CALL
00ST3S®
0UP3QL
FAC
IS
RET
4874DABEOD
POINTS
THE
MUST
THERRQ01000005726¢
IS
Jz025715°0A5730¢
005731THESINGLE
005710°¥957277
OPERAND
CONVERT
FACv¢571e*4882
4883
PRECISION
STACK
OF
SO,
CONVERT
005711¢4881
THE
PRECISION
4861488D
DOUBLE
ENTRY
IF
25160
#5500
STACK
SINGLE4864000315
THE
TYPE
STACK
AND
4863001000
IS
VALUE
THE
4862©¢5725¢
BUSY
21=7
4843
48444856
BE
CODE
46424855
WILL
PRECISION
4B4Y
4854
STACK
DOUBLE
4836
4837
MAC
THE
LOCATION
4635
MCS
TYPE
OFFSET
001000005644°
005645¢
4892
4893
STRING
FORMULA
APPLY
005643*
4879
ENTRY
THE
KEGET
4824
4825
F3
ANSWER
ROUTINE
4523
BASIC
THE
DONE
COMPARE
84798
@0Sede’
4s22
4534
RETURN
WHEN
STRCHP
ARGUMENTS,
CONVENTIONS
94776w4778
4821
AT
ADDRESS,
TO
WITh
VALUE
LEVEL
4817
4620
FOR
AND
NUMERIC
APPLOP
POINTER
COMPARE
TINE
ENTRY
THE
WHAT4818
4819
1S
A
OPERATION,
DOUBLE
VALTYP
AT,
IT
BITS
RETAOP
Panmilh Eupriarn.
BASIC
THE
THE
GFF
JSTURE
JPOP
FAC
FAC
THE
LOW
OFF
A
MOVED
INTO
DUUBLE
INTO
STACK
BYTES
FOUR
ARG
PRECISION
ARG
UPERAND
AWAY
BYTE
VALUE
INTO
THE
FAC
POINTMCS 808U
MAC
GATES/ALLEN/DAYIDOFF
bmSEPm64 DSI11
4894205744°001000BUR32L
4895005745*001000000315
4896005746'000000V0RLOUR
48970US747¢BARRYO0VST4L’
4898005750¢@p1000000315
4899095751¢0p0A2000ST26%
4900005752100RERE0UST46’
4901
MACKO 47(113) 05112 10=SEP=75
FORMULA EVALUATION CODE
25640
@5660
SETDBL:
PAGE
218
CALLMOVFRFINTOTHE
CALLFRCDBLJMAKESURE
25682
7DOUBLE
THE
LEFT
005755¢0010000000414983
4984005754°
005755¢000000
9ME000V06T"
00STS1*4985
4906
4907095756°
005751¢
005760001000
020000
00AV0OD000612
001544°
0UST54*25720490800S761°001000BUEUET0574025760JTABLE
4910005762¢0p10000UV30505780JSAVE
4911
4912005763°
005764Q0lews
0R1000008117
0UDOOL25860
25820JDOUBLE BYTE
JINTO (8,C)
4913005765¢000000000L0L4914
4915005766'
005767©21008
001080000011
06030105840
05860JCALCULATE LOCATION
JGET BACK
(B,C) FOR
4916005770¢@pioR000017625880JGET
4917005771¢00100000DL4S2590049180U5772%@01006000146959204919005775¢@01e0e00215259404920©05774*0@le000UDSS1
DODSP:
Hy DBLOSPJOISPATCH
OFRTYPJRECALLWHICH
JCREATEA
THE
25960JAND
25980170
26000JRETURN
492326020492426040
4ges
26060
4926
005775¢
005776@01000
001000492900577720006000S/31%
4930006p00'UPEQUD0USTST’
4932G0bOP2*0010800UVV6E
G06pRS*
006004’BRC00D
0n@VAL
4931
0U6GOL’ @A1000
000305
0UDS1S
V00361
PRECISIONANDTHE
INTEGEROKSINGLEPRECISIONANDMUST
IT
WAS
OFFSET,
ARE
TWO
SINGLE
ROUTINE
SINCE
BYTES
PRECISION
OFFSET
OF KOUTINE TO GO
SINGLE PRECISION
TO
ADDRESS
THE
DOCMP
STACKIS
BE
OPERATION,
EXCEPT
10
FOR
RETURNING
COMPARES
WHICH
EITHER
006005’
006006’
821000
0000RD
26100
96120
FACOBL:
CONVERTED
26140
f6160
PUSH
CALLB
VHOVAFISAVE
IMOVE
POP.PSHJPOP THE STACK VALUE TYPE INTO [A)
sTA
VALTYP
IPUT
THE
THE
IT
STACK VALUE TYPE
FAC INTO ARG
IN
VALTYP
FOR
THEFURCE
WEKNOW
BU1543°
06STTT
4935
4936
4937
DOUBLE
PRECISION
OPERAND
FOR
PEKFORM
1S
DOUBLE
DISPATCH
RETAOP,
FAC
18
06050
4927
4926
4933
4934
A
ADDRESSES
4922
THE
TO
(B,C]
4921
OPERAND
PRECISION
4982
4909
05700
FAC
000376
DLALO4
4938
49390@6007°Do10M04940©06010°0000000UST43°
49410Vb011*0NUAEDVL6LOS’
00312
4942
4943
4944©06p12°
006013*01000
@100QUESAL
000042
4945606014G00R00DL163T’
4946006M15*GNOV000LEL1’
26180JROUTINE
06200JSEE
96220
06240SNGDBLJHOW TO POP THE VALUE OFF
11T*S SINGLE PRECISION
06260
06280
06300[
FACLO150 DO A
JPOP OFF
JSAVE IT
IF
ITS
SINGLE,
SO
POPR / CALL MOVFR
THE INTEGER VALUE
FOR CONVERSION
°
L4
BASIC
F3
NCS
B2BY
MAC
GATES/ALLEN/DAVIOUFF
bmSEP=64
03111
4947
494600616t
P060177001000
0000ED06503
L5756
4949006220DL000Y0P6L14’
MACKO
47(113)
FORMULA
6320
06340}
4951
495206360
86380
49536400}
495406p21¢00100020B31S4955
4956@ubpae’
006023’DRONDD
WONGDBUSS54N
006R1T!4957
4958906024¢
606025*021060
0010000UASHL
0PO32106440
4959
4960
49610B6n26*
906p27*
006030¢001000
B000UD
€00N000UOLAL
0UBTR4"
0P6UR2"06460
49630060310010000UO3034964
49650D603E*
€06035¢G0BODO
WOADD0USIS6’
@UbURI"
4966
26420
10=SEPe75
§
j
THIS IS
AND THE
STKSNGI
PAGE
21%9
CODE
anp
4950
4962
03312
EVALUATION
THE
FAC
SETOBL
FSET
UF
CASE WHERE THE STACK 1S SINGLE PRECISION
1S EITHER SINGLE PRECISION OR INTEGER
CALL
FRCSNG
POPR
SNGDOI
IT
LXI
HySNGOSP
JCONVERTTHE
JPUTLEFT
THE
JSETUP
THE
06480JFOR
26500JDISPATCH
THE
FAC
IF
HAND
NECESSARY
OPERAND
DISPATCH
SINGLE
IN
THE
PRECISION
OPERATOR
ROUTINES
96520
4967
06540
4965
ISSINGLE
POPHJPOPOFF
#6620CALLPUSHFFSAVE
96640CALLCONSIHJCONVERT
26560
4969
4970©06034°0019000034126580
96600
4971©006035¢01000008315
497206036¢G0E0WODUSSSTH
4973006037°W0D0ODDU6LIL’
49740v6@A!UD10GE4975066p41*DOOORG0UAEOOR
4976P64’G0BDUDU636’
00D3LS
4977
THIS
1S
AN
FACSNG:
1S
THE
CASE
WHERE
W64’Gp10LD@UR31S
49790v6044*000N003261x
4960086045¢0000UDVU641
"
4981pebed6’0010004962
498306047’
0060507201000
0000R04984
4985006B51*
@06aS2*G00VRD
001000PLEEAA!
0UOSAL
4986006055¢001000B0DL42
4987€0654’D200RA001637°
49880065500OLED0U6YSH’
4989
49900ebuS6!
06B57*01000
00BOMD©00S03
©E6E26"
4991006060’DUNDNDDL6USH’
THE
FAC
PRECISION
AN
THE
STACK
INTEGER,
96660
4976
THE
THE
INUMBER
06680HOVRFTPUT
0CRSAL06700[JRESTORE
GUALAL
001641726720FAC=1JFROM
26740H26760FACLO06780SNGOO>
FAC
ON
[H,L]
IN
THE
THE
ON
THE
THESTACK
ASINGLE
TO
THE
LEFT
THE
JPERFORM
INTEGER
STACK
PRECISION
FAC
HAND
OPERAND
IN
THE
FAC
STACK
THE
OPERATION
4952
4993
4994
4995
REGISTERS
ADDRESS
006061*
46820
26840
26860
LENGTH=2,<
STRING,<
499626880XRAA4997
4998JASSUNE
0e100D0URS2TSTA
CHRGETVALTYP>>006u61*06900
269204999@obneet0uloug00053276940acFINJIF
THE
NUMERIC,
VALUE
WILL
INTEKPRET
BE
NUMERIC
CONSTANT
REGISTERS
[Pewilt Eugiia Zint
BASIC
F3F3
MCS
8080
MAC
GATES/ALLEN/DAVIOUFF
6mSER=64
03111
5000
5001006063’
00664’GUVOWE
GODNAD0OSET2s
0U6UST'
5002006065¢L0100DLG31S
5003006066!BaRMAL0R3612"
500400ba61¢000DABVV6L63’
5005
5006006@70°
006071°@01n0D
G00NACQeds22
QV6164*
5007
5006
5009006d72¢
©06073¢
0U6AT4’WALLAD
001000
0BEVD
MACKO
47(113)
FURMULA
03312
EVALUATION
10=SEF=15
PAGE
21=10
CODE
06960ISLETIVARIABLE
269601SVARJAN
NAME?
0V6U6E"
000376
00DR5027000PLUSTKJIGNORE"+
EVALLEADING
ALPHABETIC
5010006075°@0ie000US312070205011
5012
5013€96076%
006077¢
006100°0RAAOD
€0D0GR
00100020661
0C6RTL!
QVE3T687040","
50140U6101°0000REVUEUSE07060
27060JCONSTANT?Z
FIN5¢15
5016@u6102°0p10R00LOS1R5017
5016006193¢
006104°8000NG
©000GD0V6U63
006065019906105¢©0100000037607100MINUTK
5020
5021€06106¢
406107°VAV0VD
00100006P25L
0Ed31207120DOMIN
5022006110°@000WEWR6146°5023
AS
MEANS
CHARACTER
0Ub111f@000WG0R61E3*07140STRING,<006112°
906113¢801000
000EBD0LAST6
AKOL4E0716012434JSTRING
50270B6114¢00ipea0PE@Si227180azSTRLTI>JIF
5028
5029006115¢
00b6116¢6000WD
000RUD0VT640°
DL6110°5030
5031
5032
5033
5034@06117¢
0061267001000
00POWE002376
DYBRAL07200
07220
01240
27260LENGTH,
<
131
NOTTK5035
5036
5037006121¢
006122°
006123¢801000
0000AD
0000AC00312
Qv6A1R’
0U6115"072809z5038
5039
5080
5041
Sed20961247
0961257
Bo6126%
0@6127¢0p1000
©E0DV0
021000
000VOL000376
0U04S
00DS12
DOT44S!27300
07320FUNCTS,<
431
FNTK7340JzFNDUER>5643
5644
5045
Se46
5047
5048@06130¢
0061317
0ub132’
©06133¢
006134*
006135000000
001000
PRUDLE
Wp1000
VE000D
000000Ou6122’
0VO326
DLB262
000322
006204°
006127727360sulONEFUNJIS
07360JNeISFUNFFUNCTIONS
OFA
SO
INATEMPORARY
PUTAPOINTER
CONSTANT?
BUILD
JDESCRIPTOR
JDESCRIPTOR
JCHECK
FOR
A
UESCRIPTOR
LOCATION AND
IN FACLO,
"NOT®
NOTER>
JUSER=DEFINED
IT
A
FUNCTION?
FUNCTION
ARE
NAME?
THE
HIGHEST
07400INUMBEREDCHARACTERSALLOWED
505007420S0ISTO
5051
5052a7440
@7460JTHE UPPER BOUND
JONLY POSSIBILITY
Go1000
0LR31T
PARCHK:
TO
OPERATOR
5049
006136
YES
INEGATION?
5025
5026
5024
CHARACTER
SYNCHK
("
THERE
NO
NEED
CHECK
LEFT
°
Ld
BASIC
F3
NCS
8080
MAC
GATES/ALLEN/DAVIDUFF
6wSEP=64
03311
MACKO
5053
5054
5055
5056006137¢QU0VU00UBUSY00614¢°
0061417021000
00000N000315
DUS336C5057046142700OOVEQ06134°5056
50596061437
0061440R1000
00000E0EOS1T
GUALSI27520
5060
5061G06145°
006146©01000VP317540
#7560
97580
506327600
506407620
0g61467001000900L26
5066606147°D0G00D0VRITS
5068€06150°0010000UD31S
5069
5070061517
006152¢V0GO00
0pDA0USIALC
0U6141"
5071006155¢@0ioMe00052
5072
5073Gu6154¢
006155¢5074
5067
07640
03312
EVALUATION
a7480
27500
50625065
47(113)
FURMULA
10-SEP=75
CALLFRMEVL
SYNCHKM)®
IFE
EVAL>
012527680CALLLFOPER150
07700LALOTEMP2>JGET
M9016857
0U6151*QL34S97720PUSH
006157°@01pA@QU31507740
21760LENGTH=2,
¢
CALL
VNEG>
5077©€¢6160*P0G00D40PLGx006161700OUND06154#7760LENGTH=2,<
07800CALL
NEG>
7820
07840
a7860
5084
5085
STRING,<
07900CALL
0961627001000600341a7920POPH
061637
006164°001000
VR10MD000311
06VS1S87940
27960RET
CALLPTRGET
006165¢
006166700U00D
BPOVVDVL6525
DU6160°
001000
00B34S
PUSH
W
STRING,<
#8040
48060XCHG
509628080CALL
509728100STRING,<
e8120
05140XCHG
5096
5099
006170¢
@P1V0e
@VO353
5100
5101
5102006171¢00100000042
5103006172%B20000©DO1637°
510406173DU00G0006165°
5105
THIS
CASE
TEXT
INEGATE
*
ELSE
THAN
UNARY
MINUS
POINTER
THE
FaC,
THAT
VALUES
DON*T
COME
RETURN
BACK
HERE
CHKNUM>>
5069
5090
00616/°
IN
BELOW
ALL
GREATER
ISTRING
5687
5088
5095
5094
5095
ABOVE
*
JFUNCTIUNS
97860
07980
08000
28020
PRECEDENCE
LENGTH=2,<
5086
5091
5092
74
JBUT
201000
se82
5083
= OPERATOR
Myl0OG0UD
00000¢
0061627
FNO
EXTFNC,<
006156°
5081
715 A FORMULA IN PARENTHESES
JRECURSIVELY EVALUATE THE FORMULA
EXTENC,<
CALL
1PN
27660
5080
21=11
RET
DOMING
5075
5076
5076
5019
PAGE
CODE
JGET
A
POINTER
JVARIABLE
ISAVE THE
JTRANSFER THE
JINTO (L)
MOVFM>
JSETUP
FAC
TO
THE
IN (D,E)
TEXT POINTER
POINTER
WITH
AT
VARIABLE
JPUT
THE POINTER TO
JINTO [H,L), IN THE
THE
VALUE
VALUE
THE VARIABLE VALUE
CASE OF A STRING
28160
28180
28200JTHIS 1S A POINTER 10 A DESCRLPTOR AND
JAN ACTUAL VALUE
JIN CASE IT*S STRING STURE THE POINTER
28220170
THE
DESCRIPTOR
IN
FACLO,
NOT
THE
[orwlh Eugria int
BASICMLS
80BC
MAC
GATES/ALLEN/DAVIDOFF
6=SEP=64
03111
5106
5107006174%001000000315
5108026175¢¥APAGE006307’
5109006176fQ00D0U61TR*
5110
5111
5112
5113006177¢
046200°
006201°@P1ea
@P0000
0pUENE00B304
00OLRD*
006ITS*
MACKO
47(113)
83312
FURMULAEVALUATION
08240IFE
10=5EP=75
PAGE
21=12
CODE
LENGTH=2,
<
28260CALLGETYPEIFOR
28280oNzVHOVFH>7A POINTEK
08300LENGTH=2,<5114w8320LAVALTYP5115
5116
5117
5118ORA
czA
HOVEM>>006202°00100000234128340
98360
48380
284005119006205°@0iewn0UGS1178420RET5120006204°0P10600UV00L284405121006205°@0RENR0VV0R05122
5123006206'
006207°001000
001000000UAT
00011728460
08480RLC
Moy5124
5125006210°
096211¢99lole
@plew000305
00832728500
28520PUSH
CHRGET5126
5127
5128©o6212¢0910000UBLT1
200¢5198540
28560
P85805129
5130
5131
5132006213¢
00b214¢
006215¢
006216¢09100
0P0CGD
0nleve
0pROGE00OST6
0UBOS1
QUAS32
DL6251°5133
5134
5135046217¢000060VL6200’
WE
IN
JUST
THE
LEAVE
FAC
J1F NOT,ACTUALLY TRANSFER THE VALUE INTO
JTHE FAC USING [H,L]
AS THE POINTER,
JRESTORE THE TEXT POINTER
POP
ISFUNT
STRINGS
MVI
JMULTIPLYBY
FSAVETHEFUNCTION
2
JLOOKAT
P
STRING,<
MOy
AL
NUMGFN332aLASNUN=24ONEFUN+1
#
ON
THE
STACK
IFN
28600cPlNUMBFNJIS
28620JoOKNORMINO,MUST
IT
FUNCTION
PAST
#
LASNUM?
BE
NORWALFUNCTION
SMALLROUTINE
78640
28660MOST
513628680THE
5137
5138
5139
514028700
08720
28740
28760THAT CHECKS TO MAKE SURE VALTYP 1S 0 (NUMERIC) AND POPS OFF
THE TEXT POINTER, S0 NORMAL FUNCTIONS THAT RETURN STRING RESULTS
MUST POP OFF
THE RETUKN ADDRESS OF LABBCK, AND POP OFF THE
TEXT FOINTER AND THEN RETURN TO FRMEVL,
5141
5142
514328780
28800
08820THE
THE
510408840MUST
FUNCTIONS
RETURN
TAKE
ADDRESS
ASINGLE
OFTHESE
BE
A
NUMBERBETWEEN
THESEFUNCTIONS
514528860PASSED
TO
28880CAN
BE
READ,
514708900THE
CLOSE
514828920TO
FRMEVL
5149#8940THE
5150
5151
515208960
28980
2990015 STOKED ON THE STACK
ARGUMENT (2 BYTES)
06220¢001000000317
5154€Ub221¢0OVEYE000USH
5155
5156006222¢0010000C0315
5157
5158006223
006224¢800000
200000©VUS336*
Wb6216"
BASIC
F3
MCS
808U
HAC
5159
GATES/ALLEN/DAVIOUFF
bmSEP=64
03111
IS
A
THE
TEXT
WITA
POINTER
(A,L]
10
THE
@
AND
SO
256,
THE
TEXT
ADDITIONAL
POINTERIS
MUSTBECHECKED
SETUPASTHE
PARENTHESIS
DESCKIPTUR
OF
TEXT
THE
UNDERNEATH
IN
AND
POINTER
STRING
THE
POINTER
IS
(0,E),
RETURN
IS
DIRECTLY
POINTING
OF
("JFIRST
CALLFRMEVLISTRING == SECOND INTEGER
JEAT OPEN PAREN AND FIRST
03112
EVALUATION
10-SEP=75
PAGE
THE
ALWAYS
ARG
21=13
CODE
006225¢MA1000Qub220°GR0UD006227¢@01000QU315VEOVABU4L64x©06231¢0R00UD006223°5164
5165
5166096232°
G06233¢
006234*001000
Golove
0p00R000355
0VAUS2
001637°5167006235¢Gu00WEDR6230"5166006236¢WPICODUVO3AS5170626237°02100000034589200PUSHS1710062400010000035329220XCHG5172006241¢021000008315#9240CALL5173
51740v6242¢
006245°020000
VA000D011620"
006234°5175006244*M210000035329260XCHGJTEXT
5176
5177006245¢0010000UG34S29260
#9300XTHLUM
L) =INT VALUE OF SECOND ARGUMENT
JSAVE INT VALUE OF SECOND ARG
5161
5163
29060SYNCHK44ITHO
99100CALLCHKSTRJMAKE
ARGS
29120
09140XCHB
LHLD110,E) sTXTPTR
JGET PTR AT STRING
29160XTHLJGET_FUNCTION
29180
5178
51794624670010000UA3VS
5160
5181¥06247¢
006250¢PROOWE
VAGUOD0b62T6!
V06242
5182006251'8010W0VEG315
COMMA
JPUT
5163
5184G06252¢
@96253¢000000
MOOGOD0061361
0U624T
096254¢0010000UR343
5165
THE
THE
NUST
GETBYT
DELIMIT
OKNORM:
89400
29420
WAS
STRING
DESCRIPTOR
STRINGPTR
#
OF
ON
FORMULA
POINTER
JNPFINGO>JDISPATCH
CALLPARCHKIMAKESURE
JREAD
INTG
TO
THE
(D,E)
NUMBER
FUNCTION
1TS
THERE,
FORMULA
INSIDE
JAND MAKE SURE 1Ts FOLLOWED BY ")"
JIH,L)FUNCTION # AND SAVE TEXT POINTER
XTHL
09440
IFE
29460}
#9480} CHECK
5191©9500j
5192
51931}
006255°901000008175@9520
89540
LENGTH=2,<
5194
5195006256¢M@1000200016
00BST609550
29560BOTCON3=<SGRTK=UNEFUN>#2
Pl
BOTCON
519600625/°00000000GV165197
5198006260’
006261¢0rivbe
0oOAMD00332
DU6272'51990U6252°
IF
SPECIAL
FUNCTIONS
Moy
49560
ONE
#
FUNCTION
J(EJ3VALUE
09360
Jc
(RND,
COERCION
SGR,
COS,
AL
NOTFRF
MUSTBE
SIN,TAN,
DONE
FOR
ATN,
ONE
LOG,
7 (A) SFUNCTION
JLESS
THAN
JUON'T
Qu6262¢V00MY200e3509590G06265¢00100000AST689600cPToPCONJBIGGER
5202
5203006264°
006265V000D
0810000VBE3S
UOB345#9620PUSHWFSAVE
5204006266°AP10V00LB334ccFRCSNGJIF
5205
5206
52070D6267¢
006270°
00s271*VO00AY
0UOAND
001000VU6L22%09640DU626L"
0UO34L09660POPHIRESTORE
5208006272’5209
5210
5211@Mu6aTer
©@6273¢
@6274*w1000
006E00
0000000UPLRY
0Usl62"
0D6Z6T!0, LABBCKJRETURN
OFTHE
ANDEXP)
TRANSCENDENTAL
NUMBER
SQUARE
FORCE
5201
89700
FIRST
1 1ML STXTPTR
5186
5189
5190
29680
THE
JUH, L) sFUNCTION
#9340
29360
SURE
ISAVE
K
89320
5200
SO
VOOUSA
5169
5186
5187
")n,
INTEGER
SYNCHK
47(113)
ARGUMENT
THE
09040
29060
FURMULA
BEYOND
AKGUMENT
VALUE
29020
MACKO
(I,E,
ARGUMENTS
PASSED
€06230¢
5160
5162
000317
ARGUMENT,
FUNCTIONS
S0 CALLED "FUNNY® FUNCTIONS CAN TAKE MORE THAN ONE ARGUMENT,
FIRST OF WHICH MUST BE STRING AND TWE SECONU OF WHICH
51465153
[PRnlh Eugria nn
BASIC
F3
THE
RUOT?
ARGUMENT
TOPCON®ATNTK=ONEFUN>#2+1
NOTFRF:
THAN
THE
NOT,
ARC=TANGENT?
FUNCTION
FOKCE
THE
NUMBER
TO
FUNCTION
>
LI
FAC
AUDRESS
SINGLE=PRECISION
NUMBER
CHRS)MCS
8p8v
MAC
521e
52130v6275*
0ee6276"
GATES/ALLEN/DAVIDOFF
b=SEP=64
0p1090
vp100e
05311
VLo3eSn9720
9AvevnlV9740
5214ue277"*¥00VERVLol03*
52150o63p0*2000000V0KRTS*
52160vwe3p1’*Ualovn@eo011l
47(113)
73312
EVALUATION
FINGO:
10=SEP=75
JMAKE
LXIB,FUNLSPJFUNCTION
BJADD
29760DAD
521729780LENGTH,
<
29800PUSHM
w9820RET>
79840<
LENGTH,
522100ve3pe’@nloeeweelle29860ov
5222006303’0ploeeovou4s09880INX
5223
52240ob304*
W©we305*Galvee200146Wp1ove00B1515225Qee3ee’0n1e00000351
09920
99940
099601
5227V9960S5eesdi
10000H
5229
5¢36
w6307’Golevve
vvovTe
5237206316*V0Vp0e5238006311°*20000l0MV6eT7*
5239006312*001000Ave3T6
5242
M
MOVC
THE
VALTYP
AND
SET
CODE
CONDITION
TRUE
OFFSET
THAN
CODES
SET
BACK
TABLE
ADDRESS
AS
POINTEL
TO
BY
(H,L)
PUSHM
FUNCTION
THE
PERFORM
160
<
LENGTHe2,
GET
THE
THE
JFASTER
COME
FOLLOWS?:
iCONDITION7}SIGNINT=2STR,SNG,0DBL
IZEROSTR=3
FALSE
INT,SNG,DBL,
SET
10080i0DDSNG=410100iNOINT,STR,DBL
INT,STR,SNG
10120i
i
PARITY
CARRY
GGETYPE:
0BL=10
JGET
THE
10160CP1FSET
CARRY
10160OCR10200DCR§SET THE OTHER CONDITION CODES CORRECTLY
)} WITHOUT AFFECTING CARRY
10140
LDA
VALTYP
VALTYP
BV1543°
V06315"*0000080LoR1e
00631470n100e
201000QLaLTS
000UT5
006315
MOy
ON
TO
REALLY
DISPATCH
10060
10028
5235
L
THEM
10040
100350
52309
Se3e
160
PCHL>
5ee6
Se3
21=14
05219
29900
PAGE
COVE
PUSH5218
5220
S243©06316°2010000BOLTS1v220
S244¥06317°00100000851110240
5245
.
;
MACRO
FURMULA
Torwidt EVALLAT o
BASIC
F3
DCR
CORRECTLY
RET>
10280IFNLENGTH=2,<
10300IFNLENGTH,
<
524810320OR3XwD*01000,%0366
524910340525010360AND3XRAA
5251
525210380ANDCON:5e5310420
10400
PUSH
IFN
CALLDEINT
10468POPPSW
525610480XCHG10500POP
10520XTHL
525910540XCHG
Seee10580
10600CALL
PUSH
526310620caLL
10640POP
AS
COMMON
AS"AND®
JGET
(D,E)=INT
1 (HyL)SINT
8
10560
FLAG
USEJFLAG
"OR"
"AND"
CODE
CHKNUM>
104405257
,
JAND
PSW
STRING, <CALL
5e5452555¢58
JUORI"
JGET
HIGH
ORDER
JPUYINTVALUE
JGETLOWOF
JID,E)sLOWw
JGET
VALUE
VALUE
CHECK
SIZE
OFF
ON
SECUND
OF
AND
ARG
SECOND
(D,E)=INT
OFF
ARG
VALUE
3
BASIC
F3
MCS
8usw
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=b4
©33111
MACRO
47(113)
FURMULA
526510660
Seee10680
5267
©3312
EVALUATION
10=SEP=75
PAGE
21~15
COUE
iUF
FIRST
ARG
POP]1(8,C)=INY
10700107290MOVAyC}[A)=LOW
5268526910740INZORFIN71T
Lxl
HyGLIVACF
WAS
527¢10760ANA3JAND
10780MOVCyAJSAVE
52710800AyBJ[A)sHIGH
Se731820MoV527410840PCHL10860ORAE10880MOVC,AJSAVE
109000A) (A} sHIGH
V]
1092¢
TWO
B
LOW
10940
LOWORDERS
ANSWERLOW
JFLOAT
IFN
1
(C)
SECOND
(A,C)
AS
ORDER
IMAKE([H,L)
VALTYFJSTUREVALUE
JORDERBIT
ORDERIN
SECUNDARG
(C
ORDERS
(A,C)
H,PTOURL
ARG
ANSWER
ANSWER
OROER
HIGH
) (A)=HIGH
FINREL:
IN
ORDER
JOR
TWO
ARG
WP
ORDERS
ANSWER
TWO
SIZE
SECUND
ARG
FINISH
1FLOAT
JOR
10960
16980
SO
) LA) =HIGH ORDER OF
0
11000
11020
CHECK
OF
SECOND
"OR"
5271
ANA
AND
VALUE
OF
JSETUP JUMP ADDRESS
OF
AS
ANSWER
ANSWER
POINTATOUPERATOR
TYPEASLOW
ADDRESS
' <
0
11040
11060
AL
11080
11100
E)A>
11120STRING, <MOV
11140
OF
JGETRELATIONAL
IMOVE
JKEEPCARRY BIT
THIS BYTE
MVI0,100
11180MOVA8
11220
11240RNC11269JMP
JPRECEDENCE
JOPERATORS
CHP
IN
IN
OF
IS
IN
(A)
(E)
ALL
0
JSEE
WHETHER
TO
ADR(DOREL)
JSEEIFTIME
JANDIFNOT
JADDRESS
UF
JOPERATOR
ULD OPERATOR
APPLY
J1IF OLD OPERATOR
JPRECEDENCE THAN
DUPREC
RELATIONAL
110
} (A) sPRECEOENCE OF
11280
PTOORL:
MEMORIES
E, 0>
11160
11200
]
OLD
OPERATOR
HAS EQUAL OR GREATER
IT MUST BE APPLIED
TOAPPLY
SAVEINFO
ON
THE
STACK
RELATIONAL
APPLICATION
JROUTINE
i
}TIME
i(C)
}OPERATOR
7LOW
i
DUREL:
IFN
70
PERFORM
CONTAINS
IT
ORDER
A
THE
WAS
BIT
MOV
RELATIONAL
BITS
(IF
SAYS
A,C
AS
TO
STRINGS
WHETHER
UPERATOR
WHICH
RELATIONAL
ON
IT
WAS
STRING
IGET
ORNUT)
MEMORIESINTO
(A)
STRING,
<
ORA
A
RAR>JCARRY3WHETHER
POPRJFOP
PUSHJSAVE
JD0
JSEE
OFF
LEFT
WHICH
A
VALTYP
AND
STRING
SEY
OR
RESULT
OPERATOR
NUMERIC
IF
JCARRY
WAS
IT
WAS
COMPARE
MATCHES
ZERO
IN
THE
NOTF3
MLS
8080
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
03311
MACKO
47(113)
FURMULA
03312
10=5EP=75
EVALUATION
PAGE
21=16
CODE
5316
531911720
11749X1HyDOCHP55e011760PUSHW532111780JzFComP700NUMERIC
XRAAJSETVALUE
5322
11800
5352311820
5325
5326
532711860
11880
11900
5324
5TA
11840
VALTYP>>>
THE
ONE
FOLLOWING
WITH DESC
533111980533212000IFNLENGTH=2,
<
5333
533412020
12040STRCHP:PUSH
CALL
5336
533712080
12109
5335
TYPE
ROUTINE COMPARES TWO STRINGS
IN
[0,E)
OTHER WITH DESC, IN
11920
11949
11960
COMPARE
COMPARE
AS
NUMERIC
STRING,<
53268
5329
5330
INUMERIC CASE
JCOME BACK TO
(FACLO,
A0 IF STRINGS EQUAL
FACLO+1)
A=377 1F 8,0,0,E POINTER FACLO
As1
TF B,C,0,E LT, FACLO
12060
D
FREFAC
POP[}
PUSHN
PUSHM
JSAVE
JFREEDESC, POINTER
THE FACLO STR
ISAVE
1SAVELENGTH
POINTER
TO
FIRST
STR,
IKESTORE 15T DESC, POINTER
533812120CALLFRETHPJFREES5339
534012140
12160CALLHMOVRM118,C)
POINT
JLE]
HAS THE534112160POP"JGET2NDCHARACTERPOINTERIN
530212200XTHLJGET2NDCHARACTERCOUNTERIN
534312220MOVFSAVEINOJFREEUPTHE
5344
5345006320¢001000000315
5346006321’WOC0RD010431°
5347
53480u6322°BO00VE006310
0,L>
12240IFELENGTH=2,
<
12260STRCMP:CALL
FRESTK
IST
12282JPOINTER
ISAVE
DESC,
TO
FAC
FAC
LENGTHOF
©06323°00100000017612300©26324°
0463257P0lg0n
091000UALAS
20011612320
123495353
5354
53550ue320®
006327
006330°0p10M0
001000
090000VBULS
0¢0106
@UE32)12342
12360
12380
124095356
5357
5356
55590063317
006332’
0063357
006334*0P1000
001000
001000
PO0000000305
000365
000515
01044612420
12440
124605360
5361
55620063357000000¢06321°5363
5364006336¢
©06337°021000
001000000321
U01612520
12540POP
MOV1 (D) LENGTH
JLETSLENGTH
5365
5366206340¢
406341001000
00100000045
00011612560
12580INX
MOV118,C1=POINTER
55670Ub342°201000Q0O04S12600INK5366006345¢€0100000G10612628moy53690063a4*@01000008341126405370©06345°00100090017312660
BASIC
F3
ISAVETHEPOINTER
JOATAIN(B,C)
By
0JGETTHESTACK
8
PSW
FRETHPJSAVE
JSAVE
JFREE
12460
12500
MCS 808U
MAC
GATES/ALLEN/DAVIOUFF
6=SEP=64 03111
BACK
TO
IGETMOV1BOTHSTRINGS
BY
PAGE
THE
AT
FAC
THE
2ND
THE
AT
STACK
CHAWACTER
DAl00N0UDR6212650ORAJTEST
Vplove0E0S1012700RZJIF
0uBiTe
00926712720
12740MOV
ORAJGET FACLO STRING LENGTH
JIF 1T ENDED, OTHER MUST
006352¢00100000ALST12760chAIMAKE
=1
©06353¢
0063547901000
0010000UO310
©€A2S!12780
12800RZ
XRAcHP.EITEST
JMUST
NOT
006356°001000V0OLT412840INRA60635/°20100000032012860RNC
12880
JHERE
WHEN
A
0CR0
129200CRE
006362¢
0063631UpiowD
0100000012
00027612940
12960LOAX
cHpB
"
©06365¢001000¥eAUDS13000INK8
206366°001000©0031290636170000000U63AS"V863707300000WU6334"
006371°
12980
InNX
13020Jz
©00UTT13040cne
We6372¢00106080A30S13060JHp
@06375*
V0b3T4*000000
000V0D@0AKAY*
MU636T*
006375¢
001000
©URE4S
13080IFN
DOCMP:
ORFING
RETURN
THE
LENGTHS
WITH
HAVE
A
BEEN
NOT
FRETURN
STRING
WITH
THE
2ERO,
JDECREMENT
BOTH
CHARACTER
JGET CHARACTER FROM
JCOMPARE WITH FACLO
[
c
J1F
SIGNS>
BOTH
THE
JHEREWHEN
JSET[A)
SAME,
MUST
STRINGS
BE
MORE
TO STRINGS
DIFFER
ACCORDING
TO
CARRY
<
LENGTH,
060UT415100INRISETUP2Cd21715120ADCJUELESS@Go30113140POPIWHATDID©064RL’00100000024815160ANAJANYBITSMATCH?006401
G060
©06403°001000
D0U0NG
001090000306
0603TT
00De3T15180ADIIMAP0813200s88JANDALLOTHERSTO377
006aR4’
006405
9064P6*001000
D0B0R0000315
0UPEOL*15220
15240LENGTH=2,
<
CALL
CONIA##JCONVERT(A}ANINTEGER
B0VDO0006373°00102000030515260IneFRETURNFROW15280LENGTH=2,
<13308Jnp©05354*
STRING
JBUMP PUINTERS (INX DOESNT CLOBBER CCS)
Vpl000©U6405*
COUNTS
B,C,D,E
STRING
Dolove00MEOD
CASE
ENDED
0p1008000DAG
TEST
A=
$06377¢0064117
HAVE
CONDITION
006376°0064077
906410
TOGETHER
ZERO
JOF B,C,0,E STRING HAVING ENDED FIRST
NEITHEK
1290090035
006364° 01000
S0,
FTEST
000025
DESCRIPTOR
21=17
Anleee
0pl¢6y001000
STRING
POINTER
006350°
006351°001000
(A)
ENDED
006347¢006360°
IN
STRING
STRING
0U6346’006361°
FAC
STACK
5373
5374
12820
[H,L)
STRING
FAC STRING
STACK STRING
5372
000273
THE
IN
PUINTER
5371
006355 201000
L
GET
DESCRIPTOR
STRING
OF
OF
POP
MACKO 47(113) 03312 10=SEP=75
FURMULA EVALUATION COUE
AND
H
THE POINTER AT THE FAC STRING DATA
THE FAC STRING LENGTH
UP THE STACK STRING AND RETURN
JTHE POINTER
JIN
(HyL)
C5LOOP:
CHAR
STRING,
THE5349
5350
5351
5352
E
THE
POINTER
AT FIRST
LENGTH
55
A
RETAOP>
FLOAT
IMAKE
13320
13340
BITS
25EGUAL
HE
10
TO
OPERATUR
FACH (A]
JCOULD FALL
JTWO BYTES)
18GREATER
WANT?
SIGNED
INTU
FLOAT
BUT
13360
13380NOTER:VI
0,90
15408
13428IFNCALL
LPOFER
STRING,<CALL
13440CALLDEINT
13460oVAE
13480
13500cHa
MOV13520
15549MOV
CHA
CoA
JUNOT"
CHKNUN>
HAS
PRECEDENCE
160 PERFORM
JMAKE SURE ITSINT
JGET[0,€)
VALUE
IN
JCONPLENENT
J1C) LOW ORDER
OF
90
ANSKER
A0
JCOMPLEMENT
SIGNED
APPLICATION
HIGH
ORDER
100
MESSY
(SAVES
[oemlh Espiiar
BASICMCS
808U
MAC
GATES/ALLEN/DAVIDOFF
beSEP=64
03111
MACKO
47(113)
FURMULA
83112
EVALUATION
10=SEF=75
PAGE
21=18
CODE
542415560CALLGLVACFJFLUAT
5426
5427
542615600
15620
13640IneRETAQP>>JOFF AND RETURN TO THE RIGHT
IPLACE SO THE TEXT POINTER
IWILL GET SET UP TO WHAT
IT WAS
s4es
13580
5429
5430
JMHEN
15720CALLLPOPERJFORMULA
13740CALLFRCINTJCOERCE
BVOLTS13760MoyAL0UOLST
00015
00017415760
13800
13820CMA
Moy
MOVJCOMPLEMENT
R, L)
Lo
Aprd00USTJUPDATE
FAC
G06414°PALUOY000515
5434GubalS'G0EUDPOSIALT
54350064167GpOWODPV6410*
54370¢6417¢001000000315
5436006420GROVUDDUSSTIH
54390U6A21TBROUUDVL6415’
544yVDe422'B1AGO5441
5442
5443006423°
006424
006425'B21000
@01000
01060
0Ld132
5436
13700
13730
JENTRY
13840ChA©EL4T13860MoyHyA
544600643000100000004213880SHLDFACLO
5447Q064318000000U1637°5448
5449©006432¢
0V6433*00000D
801000D0642E*
00R30L13900POP
VP1BMG
RETURNED,
JUNOT" HAS PRECEDENCE 99, SO
5433
001000
LPOPER
0,900LOLR6
006427°
RESULT
(1%0pDLUD
006420°
AS
LENGTH=2,<06413’
5445
[A,C]
JTAKE RETURN ADURESS OF FRMEVL
13680006A1Z* ©01GU0
5444
8
13660
5431
5432
POP.
5450
JOF
135915
5452
5453066434001000000303
5454
5455
5456
54570064357
006436¢DOBERL
0A00UN065354
0C6431°
OF
90
9@
THE
THE
JFRMEVL,
13910
5451
EVALUATION
ON
IS
THE
AFTER
TO
SEEING
1T
1S
THE
PRECEDENCE
APPLYING
RETAOP
JRETURN
TO
REFETCH
DANDOK
14046
14048
14050AND SHOULD BE USED TO IMPLEMENT ALL LOGICAL OPERATORS,
WHENEVER AN OFERATOR 1S APPLIED, ITS PRECEDENCE IS IN (81,
THIS FACT 1S USED TO UISTINGUISH BETWEEN "AND" AND WOKM,
546110952THE
RIGHT
546214054THE
LEFT
546314056
DANDOR:
APPLIES
THE
HAND
HAND
"AND"
ARGUMENT
ONE
WAS
ANU
IS
WHEN
"OR"
COERCED
1T
WAS
TO
0U643T¢
006480f001000
0010000UBS0S
000315006441°GXOR0D0064205467
5465
5469G06442*
006443*WPOOGD
001000V06435’
0UD361547¢
5471
5472
5473006444
006445°
0d644b'
00644*001000
001040
@000
201000QU032
0UBSTH
000106
00017314140
1416016180FSETUP
5474006450¢0210400UD31e14200JDO
547500645)¢0RE0BD0U6463*5476006AS2t@000VDU644L*
16100
14120
POPPSHJGET BACK THE PKECEDENCE
JAND® AND “OR"
0
70JPOP
PSET
006453700106006B24514220ANA
5476006454°02100000015714240MOy
5479006455'20100000017414260Hov
5480
5461006456
0064571001000
00100¢000242
00014714280
14300ANA
MoV
548200646000100000930314320Jnp
5463D06461*@DCAVDUUDLOLH54640064b2*0RVON0D064S1*5486
PAGE
OFF
THE LEFT HAND
ZERO FOR "OR"
LOW
"ORTM
14322
}
006463°901000000265163245487006464°001060UO1ST14326Loa
€06465°0p1pMo0e@17414328A
5489©064bo’BOlLNL20B262143300
5490©u6467°VR10R00UE14714332HoA
5491€96470°00100000030314334MAKINT>
5492
5493206471
006472°000A00
VA0OVDDU6A61A
006461’
IF
IN
AS
THE
THE
PRECEDENCE
WAS
INTEGER
WANDYED
([H,L)
RESULT
i
AS
THE
THE
INTEGER
MOR"ED
[H,L]
RESULT
INTEGER
DISTINGUISH
ARGUMENT
L
JRETURN
TO
(A)
21e19
JRETURN
548814340
AS
STACK,
JSAVE THE PRECELENCE "OR"=70
JCOERCE RIGHT HAND ARGUMENT TO
54775495
JUST
THE
B
FRCINTMACKO 47(113) 93312 10nSEF=TS
FORMULA EVALUATION CODE
14336
ON
PUSH
CALLGATES/ALLEN/DAVIDOFF
beSERPm6d 03111
ORFING
INTEGER,
PUSHED
54665494
OPERATOR
OPERATORS
5464
5465
5485
AN
IT
14942
14044
MCS 8980
MAC
DUMMY
INTEGER
5458
5459
5460
BASIC
F3
A
150 IT HAS THE TEXT POINTER IN TEMP2 SO
13920
14060
14080
WITH
STACK
ARGUMENT
THINKS
ENTERED
70
[PRmilh Eugrin nin
BASIC
F3F3
MCS
808U
MAC
TES/ALLEN/DAVIDUFF
6mSEP=64
05111
5496
MACRO
47(113)
DIMENSIUN
&
93312
16=5EP=T5
VARIABLE
SUBTTLDIMENSION
DIMCONIDCX
5497006475°8010000VOUSS143825498¥264T4*001000@0V32114400CHRGET
5499BU6d75°2010M0AVEB31014420RZ
5500006476¢019000VBS1T5501006471°©EAUOD0BVLSH
14440
550214442
5503
5504
550514444
14446
14448
550614450
550714452
550814454
5509
551014456
14458
551114460
5512
5513
5514
551514462
14464
14466
14468
5516@06508°BU10AD0UBEDL55170U6501°V00RUD006473"5518006502°@00URE0U6AT1’55190065030010000030514450
5520006504¢0010000VB36614500
PAGE
22
SEARCHING
1436@
&
VARIABLE
SEARCHING
H
JSEE
IF
SYNCHK
a4
JHUST
BE
THE "DIM® CODE SETS DIMFLG AND THEN
SEARCH ROUTINE, THE VARIABLE SEARCH
DIMFLG AT THREE DIFFEKENT POINTSH
1)1F
2)WHEN
AN
ENTRY
A
ENDED
3)
IS
FOUND,
"DOUBLY
THIS
GOOD
VARIABLE
BYE
COMMA
FALLS INTU THE VARIABLE
ROUTINE LOOKS AT
DINFLG
DIMENSIONED®
BEING
ON
INDICATES
VARIABLE
A NEW ENTRY IS BEING BUILT DIMFLG’S BEING
INDICATES THE INDICES SHOULD BE USED FOR
THE
14478
COMMA
11F_TERMINATOR,
SIZt
OF
EACH
INDICE,
OF
TEN IS USED,
THE BUILD ENTRY CODE
OFF WILL INDEXING BE
WHEN
L1
8,0IMCON
PUSH
OTHERWISE
FINISHES,
DONE
COME
ON
THEDEFAULT
UNLYIFDIMFLG
BACKTOJPLACE10j"OKI"NONZERO
THECURRENT
B
WD
"01000,%0366
THING
552114520i5522
5523
552414549
14560
145607ROUTINE
4AND PUT A POINTER TO ITS VALUE IN
(D,E),
(H,L)
IS UPDATED
TO POINT TO THE CHARACTER AFTER THE VARTABLE NAME,
5525146007VALTYP
5526
5527
5526
552914620} A VARIABLE
14642
§ THAT POINT
14660
14680
PTRGET: XRA
006505¢
001000
5530006506¢001000
5531
5532606507°
10651070n0C00
000000
5533006511t001009
5534
5535
5536
5537
5536©g6512¢
00651370M1080
000040
5539
5540
5541
006514¢
©06515¢000000
001000
006516¢0L0VOD
006517¢0n00OY
606520°
206521001000
Ve1udR
000EST
00
1S
READ
THE
SETUP,
FMAKE
DIMFLGJFLAG[JGETCALLISLETJCHECKFOR
JcSNERRJMUSTHAVE
A
CohJASSUMEXRA
MoV
14620LENGTH=2,
<
14840STRING,
<
5544
554514860
14860STA
CHRGET
554614900LENGTH,<
554714920JNC
554814940LENGTH,
<
5549
5550
5551
MCS 8080
HAC
@06523¢
M06524°
0u6525"
VALTYR>>
GATES/ALLEN/DAVIDUFF
bmSEP=64 03111MACKO 47(113) 03112 10=SEP=75 PAGE
DIMENSION & VARIABLE SEARCHING
001000
0000AD
00OUUD14960
000332
0EE534’
2065161
IN
NO
JONLY
A
SECOND
CHARACTER
NUMBERS
ALLOWED
22=
IF
NOT
NUSEC>JALLOW
cAJIT IS A
JLOOK AT
JeEATENISKIP
NUMERICS
CALLISLETaneEATEN>JSKIP
ALPHABETICS
LENGTH=2,
<
LI
Dy HAVTYPISAVE
JUHPS
15220
15240PUSH
L%JASSUME
15260cr1FJCHECK
15280
15309RzJWHEN WE MATCH, SETUP
JCHECK FOR INTEGER
15320cP115540
15360
15380RZ
INR00031015400Rz00024154200UOESS
00031115449
15468G0lo0e
@0l000
V000000@172
00GL6R
001545°15480
155004065771°00000E00655070Ub6¢’VA1000000327000315QREQUD
G0UDEDQU3b12’
PL6524°5556©€26531°0010000003325557
5556006532°
0Y6535¢BU00OL
0pE00DQV654T’
Q0652115559
5560
5561©g6534¢
696535°VAI000
0ni000@UPLLT
00032715040
15060
15080
55620065360P10W000A33215100
5563
5564006537°
G26540°¢AQ0000
V00DRY006535°
006532’5565006541°PO10AD0UBSLS15120
5566006542¢0000UE003612°55670065437PE00OY0065315568
5569006544*
0065457@A10D0
V0000000O322
VUE535T55702065467DaG0DQUES4R’5571
5572
5573606547*006547°0010000UOCRL5574
5575006550°
0465517P00AG
VGAGOD0UE5T4’
U0E54S®5576
55770465527
006553°0Al000
0010009URILS
000265578
5579
5560006554°
006555¢
@06556¢000000
001000
@0000R00BR1D
00@3T6
00OL4S5561
5582006557°
006560¢@01000
001000000310
00OL265583006561¢000OUG00BC0255840U6562*20100000037655850U6563¢0P0000000455566
5587
55880U6564°
006565°
006566°001000
G010MG
WeinGp0VOS10
00OY24
0UE3T65569006567¢00BOVD0LDL4G5590©26570¢0010005591006571°@01o0e5592
5593006572¢
0065757@@1000
0010005594
5595
55960065747
006575°
006576¢55975598
15020
Jc
ISSEC:
MOV
EATEM:
CHRGET
IFN LENGTH,<
15140
15160
15160
15200
NUSECH
IFE
ARRY
ITS
THE
0JSINGLE
]JNO MARKING
JGET RID OF
4,0
VALTYPJSETUP
15520CHRGET>
15540LENGTR=2,<
560015560STRING,<
JREAD
560115580su1
s
118
1T
CHARACTER
IS
ALPHABETIC
NUMBER=-=SAVE IN
NEXT CHARACTER
JCHECK
5599
IF
ALPHABETICS
0
"sr
RET
HAVTYR:
(6]
1S ZERG (NUMERIC)
FOLLOWING CHARACTER
ISLET0910004g6527°
006530°
IN
LETTER
CHRGET
006526%
AT
LETTER
BY
14980
15000
50
SUCK
CHARACTER
SET
5554
5555
ISSEC
AS
JNUMERIC
FSET CARRY
5552
5553
g
IT
FIRST
JOEFAULT
JGET THE
NUSEC>
PUSITION
[A)=0
oy
PTRGT2:
TEXT
SUBSCRIPTS
STA14780
14800
BASIC
F3
EVALUATING
14720
14760
20M32T
THAT
AT
A5503
001000
NOTE
NAME
NANE CAN CAUSE RECURSIVE CALLS 10 PTRGET
ALL VALUES MUST BE STOKED ON THE STACK,
5502
@96522!
VARIABLE
14700
14740
g
0LRI1T
TO
IS
[0z wlh Esarian,
BASIC
FOR
BY
USING
DOUBLE
RETURN
PRECISION
VALTYP
STRING
PRECISIUN
&
ADDRESS
CHARACTER
IS
THE
OEFAULT
CHARACTER
RETURN ADORESS
VALTYP
PAST
C
TYPE
STRING?
MARKERMLS
8080
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
03111
MACKO
15600
560315620
566415640
5605
560615660
15680
560715700
560815720
5609
5610
5611
5612
5613006601'
@066ne’
0¢6605¢001000
P0GWED
RAREYE00OLTZ
0E1601°
006576°15740
15760
15780
561402b604*0A1OADDUBEDE5616
5617
5618
5619
5620
5621
5622
5623006605¢
Ugb6D6!
006607
006610
0066117POluow
00WAND
©a1000
020000
0000WD0LESTE
0URUSD
00BS1E
0U6145*
0U6602’UU6612!
006615¢V01000
0010400EB2ST
00OL625624046614°0UOLDbL1601°5625006615G00000PO6616"56260ubble’201060DVDIAS15920
5628006611*69100DUBLTE15980
5629
5630
5631
5632006620'
©06621¢
006622"
006623¢89100V
0M00E
0ABYYR
0p100000RVSE
0U1621°
UU6614°
00036515990
5633
5634
5635
56360U6624°
006625*
0U6626'
02662/¢001000
Dniave
0PEAND
0DRGACBUBSSS
000USE
001623°
006621°16020
16040
5637
5638
5639
5640026630¢
0U6631'
006632’
006635¢0P10A0
00lebe
V0100
000RO00UGSAT
0UY34L
0UB31e
L6671’5641
5642
5643006634¢
0uk635!
006636°0NRORE
0alewd
0010005644006631¢564500664V’5646006641¢5647564856495651
5652
5650
5653
5654
BASIC
F3
23112
VARIABLE
10=SEP=75
PAGE
22m2
SEARCHING
INZ
NOTSTRJIFINRA7 1ASTAVALTYPJFLAGRRC
40D[JMAKE
JMAKE[A]=128
(A]=SECOND
MOVCoAJBACKINTO
VALTYP
THIS
AS
ALKEADYsQ
A
(C)
STRING
CHARACTER
WITHSTRING
AFTER"§¥
BIT
ON
CHARACTER
JGET
FLAG
WHETHER
15800ADDn>JADD
ONTO
CHARACTER
15820(3LUJARRAY
15840JzISARYPIT
15860
15850
15900LENGTH,<
XRA
A
B
SUBFLG>FALLOW PARENS
ISAVE IN FLAG
PUSHHFSAVE
MoVA0LHLDVARTABUM, LISPLACE
PUSHPSWJSAVE
XCHG
LHLDARYTABJ(D,EJSPOINTER INTO SIMPLE VARIABLES
JCH/LYSEND OF SIMPLE VARIABLES
16060
16080
16100COMPAR
POP
JzH
NOTFNSJSEE IF THE END HAS BEEN REACHED
i IHIBVALTYP
JCOULDN'T FIND IT, SO MAKE A NEW
006626’
000V3E
0UO1ST16120
16140LOAX
MOV6010000U0RT416160cHpBO10E00DLRS16180Inx0010A000030216200NzINOT
0U6642®VOG0006660’0U6643'00U000U6E3S’006644*V01000DUDL3R16220LOAXJIA)SFIRST
006646°
0B6647¢001000
PAOVAL0UB30E
00666016260N2006650¢
006651°0pAANE
001000
006645¢ 001000
MCS
6080
0CVeT1
BUbbAL’
0UVLRS
GATES/ALLEN/DAVIDUFF
6=SEP=64
03111
CHRGET
NOT
JGET
HAC
5655
&
>>
LENGTH,
<
LDA
SUBFLG
5615
se627
47(113)
DIMENSIUN
5602
NOTSTR:
IFN
15960
16000
J
LENGTH=2,<
LOPFND3
16240
MACKO
(IF
ALLOW
SUBFLG
ARRAYS
SET
NEVER
WILL
MATCH)
Is)
THE
ALUE
AGAIN
LOCATION
TEXT
TYPE
THE
POINTER
INTO[A]
TOSTART
VALUE
THE
SEARCH
TYPE
ENTRY
JGET THE
FSAVE SOVALTYP OF THIS SIMPLE VARIABLE
WE KNOK HOW MUCH TO SKIP
JCOMPAREWITH
OUR
VALTYP
0
chp
16280
PERHAPS
TO
14
RIGHT
KIND
==
SKIP
CHARACTEK
IT
OF
THIS
JSEE IF OUR VARIABLE MATCHES
VARIABLE
InNX
47(113)
DIMENSION
&
03312
VARIABLE
10=SEP=75
PAGE
22+3
SEARCHING
06652’DP10GY@UBL3216302LOAXD5656086653°00100020027016320chp[5657406654°001000©E031216340JzFINPTRJTHAT
5656
5659006655°
046656°DpOYRY
0ARRUE006142°
VU6LAT’00BETE16360XwD~0109¢,"076F"MVI A, " AROUND THIS INX SINCE THE POINTER
5661
5662006660’@N1NGEBUDLRS16380
164005663G0b661*DP1AA0BURLRS16420INX5664
5665
5666006662’DA10BRBUB1T416440
16860
16480MoyFSKIP OVER THE
JCURRENT VARIABLE SINCE
FSAVE THE VALTYP IN [A)
5667006665°001000060LLL16500M17UH,L1ENUMBER
5668
5669
5670
5671006664*
046665¢
0s6666°
006667¢DORNVY
0p10@N
0A1EVD
00ROV000LOY
GE9U3L
0BUBSDS
0U6625°16520
16540DAD
Jnp0
LOPFND5672
5673
5674000670°
00k671¢
0uebTe’DONEVD
V010U
0010000U6ESS!
000305
UUR11416560
16580PUSH
Moy[5676
5677006674°
006675¢091000
00leR0060305
0UVUOS16620
166405679006676°00109000060516660INX5680
5681
s682
5683@06671¢DA10WY00QUDS16700
16720
16730
16740INK
8>
LENGTH=2,
<
LHLD
ARYTAB
XCHG.
5660
5675
06657° 0A10W0
006675° 001uAd
000107
5678
FSEE
118
NOTITY:
NOTFNSI
16600
IF
SECOND
WAS
IT,
ALREADY
CHACKACTER
ALL
INCKEMENTED
INX
Hov.
PUSH
INX
16660
ON THE
SEARCH
BYTES
THIS
JSAVE
IMAKETHE
THEVALTYP
LENGTHON THE STACK
INCLUDE
JTHELOOKS100
118120
TO
STOP
SEARCHING
16820750MAKEKOOM
16840
16860Moy
sUB718THISVARIABLE
16880
16900INX
INZINOPE569216920MOV
NOTIT:
VARTAB
JPLACE
5690
5691
16960
NOTFNS
S|
JGET THE PLACE
ISEE IF WE ARE
JCOULDN®T FIND
TO STAKT
THERE
THIS VARIABLE
FOR
IT
THE
16960JTHAT
WAS
569617000ISKIP
OVER
5697170205698
569917040
170605760
5761
570217080
17100
17120J
PUSHLOPFND
BFTRY_AGAIN
FREMEMBER WHAT THIS
JVARIABLE LOOKS LIKE
57¢317140LXIB/ 6+SCO0E>JTHE
17160
17180LHLDSTRENDJEVERYTHING UP bY
JTHE CURRENT END OF
S704
5705006700°90108000DLSE
570600670100000DU1625°
5767006702°000000V0666T"
ONE?
JTRY SECOND CHAKACTER MATCHING
5695
NOTFNS:
VARIABLE
[
5688
5689
16940
DION®T
SKIP
JSAVE THE LOOKS
1B, CIZLENGTH OF5667
5694
WE
TO
POINTER
SOME MORE
16760
16780
16800
5693
LHLD
COMPAR
Jz
JADD
JAND
OF
5684
5685
5686
LOPFND:
MATCHES
OUNE
IT)
AMOUNT
THAT
TO
ONE==NOT
IT
SHOVE
STORAGE
MATCH
[orwlh EugLaT,
BASIC
F38pBu
AC
GATES/ALLEN/DAVIDUFF
6=SEP=bd
V3211
MACKO
47(113)
DIMENSIUN
&
235212
10=SEP=75
VARIABLE
PAGE
22=4
SEARCHING
5706V06705dplLveBBB34S17209PUSHHJSAVE
ST09006TA4*001060QVRL)L)17220DAD8JADD
S71¢
S711
S712
©e6705°VplPAR
VLRsRL
17240
17200POP[}
THIS
ON
JEXTRA
JPOP
OFF
006726’001000©LVOS4S17280PUSHHiSAVE
S7T13©ee707°*Qp1o0nYVO31S17309CALLBLTUJBLOCK
S714©V0b716*000000©P2V0ES*57159¢e711*Q@poovewueTdl*
5716
17320
5717
JWE
17340
#
THE
AMOUNT
NUW
BEING
HWIGH
NEw
CANDIDATE
TRANSFER
ARE
JSTACK
NOT
0010V0VR34)17360H7 (H,L)SNEW
06713Pp1eve0QvRL4e17380STRENDFSTURESINCE
5720©Q06714'000000QL162S*S721006715*0000000R6/10°JTHEREwAS
5723
17420
AND
DONE,SO
JGETBACK[M,L)
PLO1S117400MOVL,CJOFTHENEWVARIABLE
wvBL4217480SHLDARYTABJUPDATETHEARRAY
0v671/*0Glove006720°PP1GVE5727006T21*VDNANYBV1bR2S*S7ebvub722'0VPVVYDPLET14’5729©v6725*0plvde0LVBLSS17500S730006724°V1000VLOVGE11520MvI
S731©ub725*GpOeLwQveoLaAe5732web726*V0lvvw0RO34T17540COMPAR
S7340P06730"000VV0DQdLeTes*5735Wo6731*Vp0bpos006721*17580LENGTH=2,<
Vel0v0
0K
JWAS5726
006727
WAS
KOOM,
H,B5725
S733
VR10VE
QVB140
0QUO30R
S736
ZERUER:
17560
DCX
(ML)
M, 0
JINZ
S737©e6732*0plovs@vAs2l17600POP0
©06733*0plvve00VO16317620MOVMyE
5739006734°0P1gY00RAV4S17640INXH>
206735°001oweQU32117660PUP
006736*"2010000QUO16317680MOV
57420Q06731*0010000QURK4317700INX
S743(P06740°2010000QUdl6e17720MOV
S74417740
574517760
5746067417201000@UP35317780
57470067420010200L0O02SJPUT
0JOF
XCHG
INX
1FNLENGTH=2,<
17840Volove0ee34l17860
17880
001000Q0031117900
THE
POINTING
TU
SO
END
TO
THE
WE
([D,E]
START
THE
PUINTER
OF
wHICH
THE
VARIABLE
AS
PART
OF
THE
LUOKS
DESCRIPTION
THIS
VARIABLE
MEMORY
JPOINTER
FINPTR:17820©06743°
TOU
AT
LENGTH=2,
<
17800006744*
}STORE
1E57485752
TABLE
VARIABLE
BACKWARDS
TRANSFER
POINTERS
POINTING
JLEI=VALTYP
5749S751
BLOCK
UFDATE
RETURNED
THE
FPOINTS
FINTO
IFE
IS
OF
F2ERO
ZERDEK
S7385741
JEND
SURE
THE
STREND
MOV006T16"
STREND
MAKE
17440S724
TU MOVE
FOR
AND
SPACE
©26712°S719
17400
SPACE
OVERFLOWING
S718
S7ee
OF
USED
AUDRESS
~
MCS
F3
Toenwilit EsALiaT
BASIC
FINPTR:
0>
JPOINT
AT
AT
VARIABLE
THE
INTO
(D,E)
VALUE
INXHXCHG>
POPHJVARIABLE PUINTER
JRESTORE THE TEXT
BJREMEMBER
INTO (D,E)
PUINTER
RET
5753
5754
5755
179401FEMULDIM,
<
17960ISARY:PUSH
1FNSTRING,
<
WHAT
VARIABLE
5756179605757180005758180¢0PUSHHJSAVE575918040LHLDDIMFLGJTILI=DIMFLG(H)=VALTYP
18060XTHL>JPUTAND
LOOKS
TLIKE
THE
TXTPTK
VALTYP
DIMFLG
ON
THE
STACK
°
.
.
[
BASIC
F3
MLS
8080
MAC
GATES/ALLEN/DAVIDUFF
6b=SEP=64
05311
MACRO
4/(113)
DIMENSIUN
&
23312
10=SEP=75
VARIABLE
PAGE
22=5
SEARCHING
576118080Si6e18100576318120LDADIMFLGJSINCE
S76418140PUSHPSW>
JAND
JOIMFLG
IFE
RESTORE
THIS
576518160CALLINTIOXJEVALUATE
18180SYNCHKTM")"JMAKE
576716200576818220576918240S11e18260SHLDS17118260POP5772183005773
S174
SAVED
>
INTO
CLOSEDIT
POINTER
JSAVEBOUTH
JRESTORE
18320POPPSWJGET
STADIMFLG>JRESTORE
16360XTHL517718400577818420ST7918440
ONTO
VALUES
THE
DIMFLG
J(H,L)
JTEXT
J1THE
XCHG
OFF
IS
0ADHJMULTIPLY18480DADHIBYTEOFFSET
PUSHHJSAVETHEINDEX
LHLDARYTABJPLACE1OSTART
B,"OVEKR
LOPFDe:
BY
4
XwD“v1000,1J"LXI
POPBJ(B,CISLENGTH
DADBJSKIP
OVER
578718600S76818620XCHG576916640PUSHHJSAVETHE
JLENGTH
STREND
1 (D,E]
ONTOD
GET
LHLDJGETPLACETO
COMPAR1SEEIFARE
18700XCHG7tH,L)579318720POPDJPOP579418740JzNOTFDOJCOULON*T579%16760PUSHMJPUTON579618780TWEAREXTHLJPUT
WE
LOOKS
18840JEXAMINING
580018860COMPAR7118
THIS
18880POP1POP
OFF
18900PUSHMJPUSH
LOPFOe
18960LDADIMFLG
ORAA
18980
OF
ON
19020
19040
MAKDFN:
OF
VARIABLE
THE
STACK
VARIABLE
INTO
THE
WE
OF
EXAMINED
POINTER
VARIABLE
ONTO
JIF NO MATCH,60 LOOK
718
THIS
AND
ARE
[H,L)
VARIABLE
SEARCH
LENGTH
VARIABLE
JOIMENSIONED
19000
POINT
LOOKS
IT
EXAMINING
(H,L)
5799JINZ
ADDING
POINT
THERE
FINOD
JLOOKS
18940
BY
SEARCH
LOOK
STOP
SEARCH
VARIABLE
16820
JBEING
2
VARIABLE
(H,L)
18680
GETS
NEXT
LAST
VARIABLE
CURRENT
18660
18920
THE
VARIABLE
5790
18800
GET
SEAKCH
OF
3792
OFF
10
LAST
5791
19100
19120
ONTO
7(H,L) 2INDEX
18460
19080
DESCRIPTOR
STACK
18520
19060
STACK
PUT
}(D,E)=DESCRIPTUR
18500
5803
THE
VARIABLE
578318580
STACK
PUINTER
IT
GET
POINTER
S78¢18540
THE
BACK
TEXT
578118560
STACK
[D,E)
STRING,
<
183805786
THE
([H]=VALTYP
JTEXT1835405785
ON
INDEXHE
JIL)SDIMFLG
DIMFLG
57765764
POINTER
RECURSIVE
THE
SURE
5775
S78¢
18
BE
STRING,
<
XTHL
IFE
TEXT
CALL
MUST
5766
IFN
THE
STRING,
<
AND
THE
STACK
SOMEMORE
TRYING
TO
BE
ALREADY
JEXISTS?
MV]E,ERRODDJNZERRORPOP0JPOP
DCXDJDECREMENT
JTHATS ERKOR ERROD
OFF
LENGTH
OF
LENGTH
THIS
SU
FJUST LOOK AT *CARRY®
JCALLING COMPAR
WE
VARIABLE
CAN
AFTER
ITSBASIC
F3
MUS
8pBY
MAC
GATES/ALLEN/DAVIDOUFF
b=SEP=64
03311
MACRO
47(113)
DIMENSION
&
©3312
10=SEP=75
VARIABLE
19140
PAGE
22=6
SEARCHING
XTHL
19160
19180COMPAR
19220JNC
192¢0@
Myl
iTRADEPOINTER
FINDEXINTO
JSEE
E,ERRBS
IF
AT
THE
INDEX
VARIAGLE
TOO
BIG
JTHATS ERKOR ERRBS
ERROR
JSINCE
LENGTH
19240JEXTRA
ONE
19260JIFINDEX=LENGTH
19280JHEIS
IN
REALLY
ADDED
TO
HAS
AN
IT
DOESN®T
CARRY
TROUBLE
19300JPOPOFF
19320
19340JAOD
1POPIT TO THE INGLEX
OFF TEXT POINTER
19360JTEXT
19389
WITH
VARIABLE
IS
POINTEK
PUINTER
JVARIABLE
AT
INTO
POINTER
VARIABLE
[H,L)
INTO
(D,E)
19400
19420
NOTFOD:
M
19440
E
JPUT
LOUKS
DOWN
H
M,
0
H195000,SCO0E+44JDEFAULTDIMFLG
A
NOTDIMJAREWE0JPOPOFFJPUTINDEXJPUTLENGTHDOWN
JMAKESUREWEfRE
JINTOTHE
19620
19640
19660
19680
19700
NOTODIM:
19720
19740
19760
19780
19800
19820
19840
EASON
19860
19880
STREND
19900
P
199¢0
IS
10
INDEX
BACK
T02wclA BvALLAT o
)
19600
SIZE
DIMENSIONING
ON
o
19580
m
19480TOIXIXIIXICOCTOOO
19460
19520
19540
19560
NOT
RUNNING
STACK
ISETUPNEw
JFINISHUP
STORAGE
END
0
ZERIT2:
H
19940
M,2
19960
19980ZERITR2
20000MAKDFN>
20249
:
BASIC
F3
MLS
8080
1
GATES/ALLEN/DAVIDOFF
6=SEP=64
23111
5660
MACRU
47(113)
MULTIPLE
20060
95312
DIMENSION
SUBTTL
10=SEP=75
PAGE
:
23
CODE
MULTIPLE
DIMENSION
COVLE
5861
Ss6e20100
5863eviee
5664
2140
FN
MULLIM,
<
FORMAT
OF
ARRAYS
IN
CORE
58652016056662018056672020058682u2eeHIGHBYTE=FIRST
586920240LENGTHOFARRAYINCORE
587020260NUMBEROFOIMENSIONS
58712u2se
DESCRIPTOR
LOW
FOREACH
587220300(2BYTES
S87320320THE
S674
S87S
5878
BYTE
=
SECOND
DIMENSION
EACH)
OF
1
CHARCTER
IN
BYTES
STARTING
ThE
(200
(DOES
MAX
STRING
INCLUDE
FLAG)
DESCRIPTOR)
WITH
THE
FIRST
A
LIST
INDICE+1
20340
0U6T45°20100BVOS4S20360
We6TU6"VRLBYEBLRVSE20380
V06747
0067150¢VPOVVO
ApUovevE1542°
0L6T30*
SARY:
PUSH
JSAVE
DIMFLG
0B6751*201000VOV34320409XTHLJTEXT
UP1POEPUALRL20422MVIJSET
VeVoVew200VRV58820067540010005883006755°
INDLOP:
PUINTER
#
0UB32S20440PUSHJSAVENUMBER
Q01000©LA3RS20460PUSHISAVELOOKS
veloveQUBSLS20480CALLJEVALUATE
006757°
0V0RTHL'0pPeve
VPROVY0Q0V3e22*
VL6T4T*Que761*Qpleveevosel20500POPjPOPOFF
0VP6T62*VR10VOQ0R36)20520POP7 LA)=Va6763*Bp10000QV03SS20540XCHG1ID,E)=TEXT
20569
THE
V06765*B010V0QU34S20620PUSHJRESAVE
D06T766*V01000©OB3SS
XTHL
JPUT
20640XCHG7(H,L)STEXT
Ve6767°Q01000QURLT420660INRVe6T70"Volebe2voler20680MOV20700
20600
2010000QLRLT6
0RVEVNYVBALS4
Ve6T74¢QuiRbe0Q0B31R
Be6TTS5*
VPlUwe
QVO3T6
OF
RECURSION
INTO
(H,L]
=¢
DIMENSIONS
INTO
(L,E)
LDCKS
NUMBER
VOO343
weeT72*
FOR
OF
DIMENSIOUNS
SO
FAR
POINTER
7 (M, L) =INDICE
DALPVYP0e771"
BACK
INDICE
VobTH4’QU6T73¢
VALTYP
DIMENSIONS
Q06756
20589
AND
LHLD
0067535
S686
IS
NOY
VALUES
V06752
S881
BIT
CHARACTER
BYTE
THE
INDICE
FIH,LI=VALTYP
MOV
JGET
#
STACK
DIMFLG
AND
OF
OF
DIMFLG
DIMENSIONS
DIMENSIONS
TERMINATING
2uTeoCcPI20740JzINDLOP11F20760SYNCHKTM"JMAKESUREIT
20780SHLYTEMP2JSAVETHETEXT
CHARACTER
COMMA SO MORE
S0,
THE
POINTER
3 (D) =NUMBER
JA
&
VALTYP
FINCREMENT
A
ON
READ
INDICES
FOLLOW?
MORE
BUVEVDVU6TS4’V06770200p0eQL6IST’*VU6777*Bplo0eQULSLT0uTonb®V0LRPL0VLOKS)207001*V01000QUOL4eVeT9ne’Arouve0Q61605°Q0Tov3*vpbvveV0TeR4’Pplene©VR34)20800POPHFIH,L)®W0T1p05*@nleveoveoae2uéeeSHLDDIMFLGFSAVEVALTYPANU
PUT006°VVVVAPVU154’00Tpal*vevono0veT00e*0o7p10*QRlove@Ld32520840PUSHJSAVENUMBEROF
ENDED
PKOPERLY
POINTER
©R6I75*
VALTYP
&
DIMFLG
DIMFLG
DIMENSIONSMCS
8280
MAC
GATES/ALLEN/DAVIDUFF
beSEP=64
05311
5913
MACKO
47(113)
MULTIPLE
03112
OIMENSION
10=SEP=75
PAGE
23=1
CODE
20860
20880jAT
591520908§THE
5916
5914
209205917
5918097011¢
007012¢
@nlene
VRERED00DLSE
001623°
59195925921007015°PARALE007006’
007014°Op1ewe000076
007015°09100000DE3L
5922
THIS
POINT
INTEMP2,
FOLLOWEDBYTHENUMBER
ARYTAB5 (H)LI=PLACETOSTARTTHE
XWD~01090,7076JUMVIAKOUNDTHENEXT
DAD0ISKIPTHISARRAYSINCE
SEARCHPOINT
INDICES
20940
[B,C1sLUOKS,
ARE
LHLD
20960
20980
LOPFDA:
ALL
ON
THE
THE
TEXT
STACK,
21000
INOT
POINTER
A,"
OVEK
THE
00701602100000035321920XCHG5924
5925
5926007017
007p20'
007021021000
0MOCLE
@weeny0POUSE
0L1625°
o0Tvie*21940LHLD5927007022°@p100000035321050XCHB1 1H,L) #SEARCH
5928
5929
5930
5931
5932
5933
5934007025¢001000VO34TWA1G00
000G
@000
001060
0P0UE000LTR
001543°
0LTVR0'
000512
007104°21260
21080
21100COMPAR
LENGTH=2, <
LA
VALTYP>1STOPPING
0B7024°
007025¢
007020
00702/
©07030°21120JzJYES,COULONT
5935007031¢Wa0eRE00TUR5°21140LENGTH=2,
<5937007032°evlove0GV2Te21160chp[5938007033¢0010900GOU4S21180Nk[59390Q7p34¢0Ple0e0UV3D221200NzNMARY2>5940
5941
5942007035°
007n36!
00703/'0P
0e0RRE
001000007050'
007030’
00017621240Moy5943007040°@010600C0eT121260che5944007041'©01080000L4S21280InxH21300NzMoV5945007p4c’0010000003025946007043¢020VODUT0S)*5947007044*WRU0L0LLTU3S*5948007045°0010000017621320
5949
5950007046’0@100E000LTO21340
21360
5951
5952
0070471
@07056°
59530¢7051¢
5954
59550U7052¢
007055¢
5956G07054°
5957
5958
5959©@7055°
007056°
¢97057¢
5960007060°
IFE
71D/ EJ3CURRENT
STREND
NOTFOO
ANJGETFIRST
ISEEIF
NMARYLINOTTHIS
AJGETSECOND
XD000LT62138000AL4S21400NMARY2:000U4S21420NMARY1:D0UYL36
00004321440
21460
01002,7076
VR10000LCI2621480nov04M
001090
0010R0
@00aUe06B04S
0GRS0
DETU1S®21500
21520INX
NzH
LUPFOA
VP0OYYGLT043"M@l00e
0AELED0UNLT2
061502°
087063*0POEOL0ETUST'
5965007064¢@PleRn0C0267
1O
STOP
THIS
VALTYPSAKE
SAME
CHARACTER
7SKIPThISJPOINTT0E/M
H7D E)SLENGTH
JOF THE ARRAYBEING
JIF
INCREMENT
SKIP
SIZE
MATCH,
JANDTRYAGAIN
JSEEIFCALLED
1ZEKO
THE
MATCH?
H
21580
ARRAY
MATCHES
H>
DINFLG
[H,L]
ONE
INX
21562
INTO
FINDINK
NO
IT®S
POINT
Moy
INX
21540
BYTE
CHARACTER
IT
JANUTHER
0AlowD007061°
007062°
THE
chp
)
LENGTH=2, <
DIMENSIONS,
TIME?
o0016005964
PLACE
IF
@e10005962
5963
THE
ISEE001000
W01¢0w
5961
JGET
OF
SEARCH
ONE
5923
5936
IS
Toemlh Espruarn,
BASIC
F3
MEANS
WITH"MVI
LOOKEDAT
A,"
ENTRY
THIS
ONE
BY
NO
°
L4
BASIC
F3
MLS
B0BU
MAC
GATES/ALLEN/UAVIDOFF
bmSEPm64
05111
MACKO
47(113)
MULTIPLE
5966©07065¢0100000003621600
5967
5968
5969©07066°
00Tu6/*
©a7076¢000R0R
VAlGU0
0000000012
0LU30E
A02102°21620
5970G07071°VB0ABD00T6eR’
05812
DIMENSION
10=SEP=TS
(23
2164021660TEMP22THE
597321680WEHAVELOCATED
597421700ATTHISPOINT
597521720THE597621740091000
021000000361
000276
5981007074°0nloop000312
5982007M75'0E0OWE007245°
5983
5984
5985007076%002000067676
0070770el0ve000U36
5986007100°00OUAE00G011
S987
5968
5989@0T101%
007102°
007103%0piove
00000
0nGOWD609303
D021@2°
0E7675"
5979
$7"DOUBLY
TEXT
INDICES
21760
21760
THE
ON
VARIABLE
POINTS
THE
PoP
chpPSH
"
9zGETOEF
WE
SIZE
BY
FOR
TO
THE
JAND
THE
NUMBER
NUMBER
7 (A ZNUMBER OF
JMAKE SURE THE
OF
WHENTHEARRAY
OFFANDREAD
WAS
BSERRT
21900
JJUMP
ITHE INDICES,y0y
JUSUBSCRIPT OUT OF
MVI
SET
21940
21960
219805994220005995
599622020
22042PUT DUWN THE DESCRIPTOR
SETUP NUMER OF DIMENSIONS
599722000MAKE
599822080REMEMBER
VARPTR
595922100TALLY=4
(VALTYP
SKIP 2
GET AN
LOCS FUR
INDICE
HEKE
WHEN
BUILDING
VARIABLE
AN
IS
NOT
FOUND
SURE
THERE
1SROOM
FORTHE
22120
22140600222160PUT
6003
600422160
2e200TALLY= TALLY » NUMBERs1
OECREMENT NUMBER=DINMS
600s22220Nz
600622240CALL
600722260UPDATE
60082226yZERD
BACKWARDS
600922300MAKE
TALLY
601022320PUT
6011
601222340
22360IF CALLED
OTHERWISE
601322380WERE
KANGE"
THE
ARRAY
TABLE
NUMBEK
+1
LATER
OUNN
AT
FOR
THE
NEW
ENTRY
EXTENDED)
FILL
IN
VARPTR
==
AND
THE
SIZE
INCREMENT
VARPTR
Luop
REASUN
WITH
[H,L)
REFLECTING
LAST
LOC
OF
VARIABLE
STREND
DOWN
INCLUDE
MAXDIMS
TALLY
BY DINENSION, RETURN
INDEX INTO THE VARIABLE
FOUND
ON
THE
INITIAL
AS
IF
IT
SEARCH
22400
207104¢
60179071047
22420
22400
001000
207105¢ 0M1000
000167
BUOD4S
22460
22480
UP
ENTRY:
6000
6001
LOOP:
IN
NOTFOD:
IFE
LENGTHR2,
<
Hov
InNX
oA
i
TPUT
DOWN
THE
VARIABLE
DIMENSIONS
NOW
Jnp
219206015
616
OF
DIMENSIONS
DIMENSIONS
NUMBER GLVEN
i SANE
21840
5991
5992
5993
6016
LOOKING
THE
FOLLOWED
5990
6014
WERE
BEYOND
STACK
21820
21860
21880
ERROR
POINTEK
[W,L)
AKE
21800
5980
DIMENSIONED"
ERROR
5972w07a72*
007073*
23=2
E/ERRDD
5971
5977
5978
PAGE
CODE
TYPE
AND
ARE
THEF3
MCS
8080
MAC
6019
GATES/ALLEN/DAVIDUFF
6=SEP=64
05311
BLDL3T22569
6E2y8071071°OP10bpPPAVRL6pel@uT110*dpdeleQVeLRL
6ve3
47(113)
AULTIPLE
VU1VKD
6nee
05312
DIMENSION
10=SEP=7S5
PAGE
23=3
COLE
MOVE,A
22520MVI0,0>
22540LENGTH=2,
<
1 (D,E)=8IZEOF
TALLY
225600LxI0,$CODE+4>JINITIALIZE
6u24
6025Q07111°
207112°PRleve
Velevd0GLe16)
VLoL4S22580
22600Moy
INXM,C
HJPUT
bveeVOT113°0plvPe0QPAL6W2e6edMOVM,86UR27VOT114°VP1OPOBVALAS22640INXHbued0u7115*Aalvke@vasel22660POPPSw7 LA) SNUMBER
602902eT116*VRLIVORVERB6E22680STATEMPEJSETUP
6030©e7117°QpARLDBLT124°6031©VOT120°VpoRVE¢eT1Re’CALLGETSTKJGET
6032
007121
QYplpow
BLB31S
6033Q@UT7122°VPVVBYVL2024’
6034VBT125°VRVVR©VBT117*
6035VOT124°Qplvvd0QVL3IS]
22700
2272e
TEMP6:
PCHL
DOWN
THE
SPACE
JPLACE
TO
J1IIMPUREL!
wOT7125*
@plpve
Qwovae
©B7126°0pVURVRPV157S5°
VPvebe0kTie2*
6041
22780
SHLD
TEMP3
GETSTK
JSAVE
2e8uoPIN
JSKIP
THE
VaT130°GVIVWYBURLYS228206Ud43BRT131°VnleveVOVLLS228406044007132’dnluveVLolvl22860} (B) aNUMBER
22880FTHIS
22900
ANDLATER
PCHLTO
OVER
THE
JRETURNS
ITS
FACT
ARGUMENT
0LO16L22920MoVQLOL4S22940INXH6049QB7135°0plevnQvee’e22960LDAOIMFLG6050V07136V0REHBVL1542°6051©07137°VpRee@dv7126°60520BT140’V1000QVBE6T22960ORAA6053007141°Q0lebevooLTe23000MOVAB1 [A) 3NUMBEROF6054VOT14e*AP10CRQVOKR)L23020LxlB,SCODE+11JASSUMENOT6055©OT145*Pp0uve0VORLL1S*60560207144°VPOCRE0OT136°6057©07145°NOTDIMJOEFAULTDIMENSIONSJPOPOFFANINDICEINTO
JADDONETOITTHE
JPUTTHEMAXIMUM23040Jz
WVuT146°0000000V0V7145°VRISV’QoleveWVp3a)23060POP
6Wb]©VOT7151°OpleneQLELes250806bbe©0715¢*volvvo©LOl6}231006063GAT71535°Q01v0e©VLVL4S25120INX
6064VOT154°2p100090016V23140MOV
6065©007155°Pp1e0e0LALAS23160235180PUSH
6067VOT157°¢ploPD©BLVO34S25200PUSH
6U68Q07160*201000QALO31S23220CALL
6069007161°VVVRPEDVULV6070Q0T162*000VVOT146°6071©B07163°0010000OUR3S53
BASIL
E3
MCS
808w
MAC
GATES/ALLEN/DAVIDUFF
6=StP=64
THAT
GETSTK
(C)
DIMENSIONS
DIMENSION?
ITS
VLR34)
INX
DIMENSIONS
"DIM"
TO
TEN
MACRO
THENUMBEK
THEPUINTER
47(113)
MULTIPLE
033112
OIMENSION
o
10=SEr=75
PAGE
23260POPVu7165°Q0leveVvOSA)23280POPpAT166*QV10CVEQLOLYS23300DCR0BT7167*Pplovewvesee25320JINZJHANDLE
6U76VBT170*VeP0PLR©BLT135*1 (8,C)=SIZE
]
JGETTHE
JGETTHE
POINTER
NUMBER
JDECREMENT
THE
THE
0#PT171°@nevve0WLT161°607800717¢*0nlpveweALRe23340Mov@QT175°U100©VLYL1325360MOV6u8n©AT174°VOlOVEQLO3S323380XCHG6081VUT175°0p1v0e0ALBL3)23400DAD60820VVT176*0OplVVMeALR33e23420JC6083©B7177*Npvgun©VVTETT*6084VOT200"VPRVVRQBTLITL®60BSGUT201°*Anleve©BLAS1S25440CALL6U86WbT2N2*PUDBRRVL2R4S5*6ud7Vel205*WeldvkeVeTATT*6088VUT204*VNlpVeVLAL4e23460SHLO60690UT205°VVVBYMBV1625*609000B7206*LpOpVYVuTeee*60910OT2R1*201000VVALSS23450JZEROTHE6092©Q07216'YnilebeQUPLES25500MV16093
6094©OT211°
we7212*VEVOND
VrlpveVROLVO
QVB34T23520CUMPARJBACKAT6095VUT213°UnlpvwBvpnlee23540JNZINO,ZER0MUKE
6096VRT214°'NpUYUBQuTevwl’6697©07215"0VPVRVDVUTCeS5*609823560INXJADDONETO
JTHEBYTEVplvedVEALRS0GT211*VPINGY0VLOL4T23600
©V@7220°vplwoeaeeveTe23620
6102WuT7221°QpReULV0154e*61030A07222'Q0UERRQVT214°6104V@T7225*vpleveVVoe6T25640
6105
61060@7224°
DOBT225°vpileve
YPRVVYaveere
VLTi24*25660
6107©BT226°BoPEVO00Te21’6108207227*opiouwe09eAL1ST23680
6109
61107Q0T230'
©v7231°VP100e
vpleveVLBES]
0©OOLL125700
25720
J1(D,E)sSTART
7LA,L)SEND
>
6111
MEMORY
REASONJSEEIFTHERE
STRENDJUPDATE
H,A
THE
JAREWE
JGETTHE
JTO
6112907232@P100@PVV3SS237006113
6114
6115©07233°*
©07234°
007235°dplewe
VpVELYO
0pepue0OvoeSe
©VOLST75*
007225*237806116007236’Apluve26A1636117V072371
*0VploupQUBEL4S6118QA0T7240°vnlove0valee25840",0
6119007241°Aelwve0MbOL4S23860H
61260ul24e*dnilvoeove3ee23880FINNOW
6121
6122007243*
©AT244°"PpRPRUE
Vp0VVE©VLT331*
LLTE34*
GET
JPLACE
23800M,EJPUT
23820Hi
AT
THIS
LEFT
BEING
FOR
GENERATED?
THE
VALUES
STORAGE
ARRAY
BEGINNING?
THE
FOR
SIZE
THE
TO
INCLUDE
NUMBER
DUIMENSIONING
NUMBER
OF
THE
POINT
([H,L)
OF
OF
DIMENSIONS
POINTS
BEYOND
TO
DOWN
THE
SIZE
DIMENSIONS
NUMBER
OF
TIMESTWO
BYTESUSED
SIZE
STORE
THE
?
ODIMENSIONS
DIMENSIONS
TOTAL
JID,E)=TOTAL
TeMP3i
KOOM
OF
J(H,L) =NUMBER OF
1ADU ON THE SIZE
25740
23920
BACK
BACK
VALUES
IS
NEW
} (L) =NUMBER
23900
ENTRY
DIMENSIONS
} (Hl=ZERD
3
6124
OF
POINTER
END
THE
THE
LUIMENSIONS
INDICES
DIMFLG
A
6123
ENTRY
VALUES
OF
25580
)
UF
OF
JOUT
DCX
INTO
OF
NUMBER
OTHER
6079wv/e16’
NEW
CURTOL=(D,E)
3
Val164f6100
THE
BY
23=4
6UTS6101
DIMENSIONS
INTO
COOE
6074
6099
ENTRY
CURTOL
6073
ZERITA:
OF
(B,C)=NEWMAX
1ID,E)sNEw
[B,C)
ZERO
DOWN
JSAVE
JMULTIPLY
23240
FOR
JSAVEbUle
6077
PN1VVED
053111
MOV
=
VLB36S
INX
NOTDIM:
-
PN7156° VP1008
000312
OF
QLT715e°
=
-
6066
201000
Q00000
NUMBER
IN
001000001000©07147°
SIZE
LOCATIONS
THE
VOT134°606lBY
DISASSEMBLY
THE
UIMENSIONS
ON
QB7133°6059JCALLED
PUT
60486058THE
TO
6047
LOPPTAS
FSTORE
DIMENSIONS
RECALL
CONFUSE
SIZE
OF
DEPENDS
ENTRIES
OF
< IVIIIIT®
«
buas
DIMENSIONS
CALL
LOCATION
6p42
6045
OF
NUMBER
JFOR
(VALTYP)
FOUR
DIMENSION
22760VBT127°
TU
FOR227406039
VALUE
STORE60376040
ONE
DESCRIPTOR
GETSTK
6036
6038
.
MACRO
V0T106°
TorwilA EsALon T
BASIC
S1Zt
SIZE
YO
THE
NUMBER
OF
DIMENSIONSMCS
BUBY
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
05311
6125
1ACKO
4/ (113)
MULTIPLE
23940
03312
DIMENSION
10=SEP=75
PAGE
235
CODE
jSTRATEGY:
iINLPNMIGET
612623960s12723980612824060
NUMDIM=NUWBER
OF
DIMENSIONS
612924020POP613024040MAKE613124000MUTLIPLY6132
613324080
24100ADD INDICE TO CURTOL
NUMDIMZNUMDIMm1613424120INZ613524140USE6136
6137
6138
6139007245¢
007246°
007247001000
001600
vAREYD000U4S
000UOL
0OALED®24160
24180
20200INX
LXIH
8, SCODEJPOINT PAST THE
JCURTOL=2ERD
6140
6141
61420U7250¢
007251°
00T252¢000
001060
@P100¢007243°
000026
QUR34L24220
24240XHD
POP~01000,"026
W"MVI D," AROUND THE
JUHyL1= POINTER INTO
6143007255¢00100000013626260MoVEN710)E1ZMAXIHUM
6144007254°UN100000OLAS24280InxH6145007255¢0010000UVI2624300Moy0,M6146007256°0N100000DL4S24320INXH614724340
CURTOL=Q
INLENM:
A
NEW
NEW
INDICE
HAX
SURE
INTO
INDICE
CUKTOL
CURMAX
IS
8Y
NOT
100
BIG
CURMAX
INLPNH
CURTOL*4
(VALTYP
FOR
AS
OFFSET
NUMBER
FOR
UPLEGY0UV34S00T260°VA100L00036524380PUSH61500072617VnledeEES4T24400COMPARPSEE
615100T262°00lv0E0UHS2224420JNEF1F
6152007265¢VA000L0LTUTT*6153007264¢00000000T24T*61540@7265°89100600034524440PUSHWJSAVE
6155007266¢00100000051524460CALLUMULTFCURTOLECURTOL *CURRENT
61560072670000000LT161%6157007270¢00000000T263"6159000U31
6158
5 (H, L1 SCURRENT
ISAVE
INTO
THE
IF
SO
THE
THE
INDICE
INDICE
THE
NUMBER
VARIABLE
OF
INDICE
SUBSCRIPTW
CURRENT
GOES
ON
THE
STACK
DIMENSIONS
CURKENT
"BAD
CURRENT
IS
T0O
BIG
ERROK
INDICE
MAXIMUM
007272°00100032124480POP.0JINDICE INTO (D,E)
7ADD
THE
INDICETO
61600O7273°00100000036124520FoPPSKJGET
THE
NUMBER
6161
6162007274
007275°0RLQ0
@n1000VUGLTS
0LA10424540
24560DCR
MoyA
BHFSEE IF ALL THE INDICES HAVE BEEN PROCESSED
718/CI=CURTOL IN CASE WE LOOP BACK
6163
6164
6165
6166007276
007271
00T30L'
VOT301°001060
001060
00U00D
VOLEVD000115
000302
0bUT252°
WUTe6T"24580
24600Moy
Nzcb
INLPNHJPROCESS
THE
REST
24620
24640LENGTH=2,
<
LA
VALTYPJSEE
HOW
BIG
THE
JAND
MULTIPLY
6167
6168
6169
6170
007271¢ W@i00Q
JPOINTER
PSW
DIMENSIONS
NEXT BYTE
VARIABLE ENTRY
00T257¢
24360
OF
THE
6149
6148
XTHL
EXTENDED)
24500
DAD
0
CURTOL
OF
DIMENSIONS
OF
THE
Dulove
DEOREE
0n0REOQUOLT2
201543
0673006172007305°Po10Pe00610424680ByrJSAVE
6174
6175007307°
©07316°VP10VO
©Pl00EALVUSL
00RS2624720
24740H
4JHULTIPLY BY TWO AT LEAST
JFOR INTEGERS AND STRINGS
CUT311°0BO@RE
6173
6176
24660
007306¢ bolewe
000115
247600
Col
THE
BY
THAT
ORIGINAL
78Y THREE
[A]
INDICES
0073020
007303¢
¢07304¢
6171
VALUES
IN
ARE
SIZE
VALUE
FOR
MULTIPLYING
GUM0BY
6177
24760
INO
MORE
MULTIPLYING
BY
Tw0
°
[
BASIC
F3
MCS
8080
MAC
6178
GATES/ALLEN/DAVIDOFF
6=SEP=64
05311
MACKO
47(113)
MULTIPLE
83112
DIMENSION
10=SEP=75
PAGE
236
CODE
€97312°00100000033224760JeSMLVAL61790¢7313°V0RewoQ07322°6180007314¢00000007303°6181007315¢00106000OLS!24800DAD"INOW
JzDONHULJIF
0AD
JPOH
DUNMULiBY EIGHT FOR
JFOR STRINGS
04D8JADD IN THE ORIGINAL
618200T316'201000QUMSIE24820
6163
6184
6185
6186©€0T317°
©47320°
©07321'
0U7322¢DALMY
0AVAEE
001000
001000B0T7526°
0UTS13°
0LALSL
0UOS4R24840
24860
6187
6188007325%
00T324¢00000
wonoveB07526"
QUT3II*6190007326°
6189
007325¢ 0010w
GUPL1L
6191
6192
6193
6194
6195
0U7320° Val00e
LUDSOL
204860
SHLVAL:
24900DONMUL:>
24920IFN
24940
24960
POP.
25000
6196©07327° 001000@UGU1L2502004D
6197
6198007330¢©PlGOEQUBSSS25040
25060XCHG
6199
6200007331°
007332¢001060
000UV0UBLSE
001605°6201007333°00RGRO007323°62020U1334°001GH00UOUSS25100ocx
6203007335°V01000BU0S2T25120CHRGET
620400T336°00luee@UASIL25140RET>
25060
6205
6266
25180
FINNOW:
ALL
BY
FOUR
LONE
DOUBLES
LENGTH=2,
<
0AD
DAD
24980
WULTIPLIED
SINGLE
LHLD
H
H>
)
[}
FMULTIPLY
CURTOL
BY
IBEGIN
JADD IT ONTO CUKTOL TO GET THE
JPLACE THE VALUE IS
JRETURN THE POINTER
TEMP2
FOUR
JPOP OFF THE ADDRESS OF WHERE THE VALUES
JREGET
JREKEAD
THE
THE
TEXT
STORED
IN (D,E)
POINTER
TERWINATING
CHARACTER
[oRmilh Evarian
BASIC
F3.
GIVE FREE STRING SPACE
GARBAGE COLLECTION
OF
OF
FREE
AREA
AREA
FREE
i
25600iTHIS
2562viAND
25649i
ROUTINE
FLOATS
SUBTRACTS
THE
RESULT
256601 FELENGTH=1,<
25680G IvoBL:MOV
25700
(0,e)FROM
LEAVINGIT
(H,L)
IN
J00
FAC,
THE
SUBTRACTION
SuB
2s57¢v
25740
25760
2578@
G 1VACF:
257901 FN
25800G IVABF:
25820
25840
JGET
ZERO
LOw
IN
1 FN
JFLAG
25860
VALUE
TYPE
AS
NUMERIC
25889
5
5
BASIC
F3
MCS
Bp8v
MAC
GATES/ALLEN/DAVIDOFF
6=SEP=64
033111
47(113)
FUNCTION
093312
AND
we7372°2p1008200175
waT375*
TO
1 FELENGTH=2,<
26140G 1vuBL:MOV
Ayl
bpleve@oevees26160suBE
VeT374°dp1eveevel1s726180MOVLiA
b2bbnar375°Pplvve0VOLT426200MOV6267e73570°0p100e0wveele262206268Qu7377°*9n1p000vowel262406269AoT40n0*Qvel1s?0uT401"@vees?26260
26280S NGFLT:
6270bpl109e
vplo0e6271wplane’op1pee0ve14726300G IVINT:
0003036e7enoTans*6273neran4’PROUR0VO64TLIn
6274007405°eeenve0v7570*
Quinow
“01000,%021
LA
XRAA
MOVHyA
26320JMPMAKINY
>
263ee
26324<
LPTSH,26328LDA
JMPLPTPOS
SNGFLT>
26330LOATTIYPOS
voT401°*GpveewAVeV4T*
weT410*ApV0Be0VR7404°
26332
26334
10
JSKIP
FJMAKE
THE
[A)
1 FN
S NGFLT:
[(&,C)
NEXT TWO BYTES WITH
AN UNSIGNED INTEGER
J1GET
TELETYPE
POSITION
<
LENGTH=g,
MOV
ByAJRETURN
26336XRAAJUNSIGNED
26338JMPGIVABF>>JGIVING
26360
FLOAT
PlH,L)3(H,LI=(D,E)
<
LENGTH,
263260vvevTe
ISETUP
0
Xwh6277Yolove
ROUTINES
AyH
sBB
MOV6278v0Ta06"*
24e1
FLOATR>
2e120bebs
bebd
PAGE
FLOATING
B,144
JMP
259¢0
LT-LY
6262
10=SEF=75
INTEGER
MVI
2590v0
L0114
6263
MACRO
FRE
FLOATING
FROM
@=255
A
3
BYTE
"LXI
D,"-
N
BASIC
MCS
F3
60BU
MAC
GATES/ALLEN/DAVIDOFF
6=5EP=64
03311
MACRU
47(113)
©3312
10=SEP=75
SIMPLE=USER=DEF INED=FUNCTION
PAGE
25
COLE
628826380SUBTTLSIMPLE=~USER=UEFINED=FUNCTION
628926390IFNFUNCTS,
<
629026400i629126420NOTE6e9e26440AND629326460DEF629426480NO
UNLY
SINGLE
FUNCTIONS
ARGUMENTS
MUST
BE
OF
ARE
THe
COUE
ALLOWED
SINGLE
TO
LINE
FUNCTIONS
FORM3
FNA(X)EX"24X=p
STRINGS
CAN
BE
INVULVED
WITH
THESE
FUNCTIONS
6295
IDEA:CREATE
629726540WHOSEFIRST
6298
6296
26560
26520
HASTHE
629926580THEVALUE
63¢02660063¢126620630226640630326660630426680
6305
i
20@
A
FUNNY
SIMPLE
CHARACTER
BIT
WILL
WORD
ENTRY
IN
MEMORY)
BE:
ATXTPTRTOAPTRTUTHEARGUMENT
NAMESCANBE
FUNCTION
VARIABLE
(SECOND
SET,
THE
FORMULA
LIKE
VARIABLE
"FNAQ"
26700
6306
VO1VRRVUR31S
QpVRBeQ0T550°
6309WeT413"QpbeReQBT407°
6310
267860
DEF:
CALL
GETFNM
JGET
26800
63110u7414°Qp1000Q0RVO)
6312WVT415*dp00YY0VB4BTE*
63130wv7416’OpopunABT41e*
6314DOT417*GR1OVEVLO3AS
6315
A
POINTER
FJFUNCTION
TO
VARAIBLE
26822Lx1B,0ATAJEVENTUALLY
26840PUSH8JAND
SKIP
RETURN
THE
0Q7420°PnivreVVR32S26860PUSH0JSAVEAPODINTER
6316©07421°0pl0000UB31S26880CALLERRUIRJDEFIS"ILLEGAL
007422°V0ROGLTS32*651826900JMUST00T423°0PVROYVLT7415°
6319007424°A¢10V0QBOA3Y7
0AT425°VLAVPVALSY
6322W0AT426°*VplevlPUBS1S
6323007427V000V©VRe5@5*
63240V0T430*BoOVRDVeT422*
6521
SYNCHK" ("
26940CaLLPTRGET
26960LENGTH=2,<
26980STRING,<CALL
SYNCHK")"
27920SYNCHKEGULTK
26920
VerT431°*0R1eve©vensL7
@e7432*"0000VYPVRLS)
wBT433*pieoever3L7
VOT434*0poRAYVUBEHL
UeT435*
Vpleeo
271000
evnlng271040MOVByH
0e7436°AplodyQ0011527060MOVCoL
voT437*PP10BYBUB34S27080XTHL
JGEY
ALB3AS
peT441°Qp0EVEVLTS21°
wnT442°0rGoVeVBvT4r*
STORE
JPUT
TOU
HAVE
THE
"DATA"
A
TO
1T
OIRECT"
TEXT
IT
POINTER
ARGUMENT
ILLEGAL
FMUST CLOSE
JMUST
WITH
")
EGUAL
TXTPTR
i(H,L1=PTR
e7129
BviDVE" ("
WE
POINTER
CHKNUM>>jSTRINGS
271ve
N6T440°HAVE
JSINCE
TO
FORMULA
63176320
THE
o
©0T7411*vuT7412*
Torw LA g»/.y.m T
63076308
TO
ON
THE
STACK
FUNCTION
VARIABLE
JIB,C)sTXTPTR
21140
JMP
DEFFIN
JFUTDOWN
THE
27160JANDARGUMENT
271890JMEMORY,
TEXT=POINTER
POINTER
RESTORE
THE
IN
TXTPTR
.
.
.
.
BASIC
F3
MCS
o80Bu
MaC
GATES/ALLEN/DAVIDUFF
6=SEP=64
©¥3:11
634}
HACKO
47(113)
0B3i12
1U=SEP=75
SIMPLE=USER=DEF INED=FUNCTION
PAGE
251
COLE
27200
6342
JAND
27220
GO
JREST
TO
OF
"DATA"TM
THE
SKIPPING
THE
FORMULA
6343
6344
6345007445°
00T444°201000
0P0OULDVLB31S
QBTSSE*63460QT445*000NPVE0VLT44)’6347
63480o7446"0p1000WBE32S21260
273¢e6349@u7447*VRIRDEVER3LSer13ee63500B7450°
00T451°QpPpAe
Q0OPBEQL6136
0BOT444°27340LENGTH=2,
<
27360STRING,<CALL
QuT452*VR10eVDPLB34S27380XTHL
Q07455
@ploee
QuUe3e?
eleen
27400
27420
FNDOER:
CALL
GETFNMJGET
PUSHDJTHE FUNCTON DEFINITION
JSAVE THE POINTER
CALLPARCHKJEVALUATE
De1rdeBLR32)
VOT455°vnlvoeVVB36T
jARG
POINTER
THE
CANNOT
TO
VALUE
BE
JIH,L)SPOINTER
PUSHMN
JTEXTPOINTER
JONTOTHE
TO
PGPFID,E)aPTR
27480PUSHMJPUT
A
TO
FUNCTION
ON
ON
10
THE
ThE
A01u0y0QVB34127520POPJIH,
LI 2POINTERTUO
WOT4ST*JSAVEVALUE
veluve0vBseT27540PUSHF M
Qnleve0QVB36TAR10¥EVN10BO
0ploveQA0OLSS0QVRLSS
QUOLSS27560VX
Wo7464°GDL1EVDQLOLSS216290CXx
VOT465*P0leve0VB34S27640PUSH
voTaee’©nlpee0UR34727660COMPAR
VaT4el*Qp10VRQL0325vetare*4.1wuevieBo7471°0Quhkee
P07462°
V0T463*
VaT4T2*Yeleve00T4713*vevwveQ07474°0p0gveWaT4a75®VolnveVUR3LS
WaTar6*0pREREBUSEe4x
veTaTl*VaVAYLPLTATS*
VATSVB®
VRINby
erVBsie
271580
27600
27680
DCXx
DCXx
ARGS
JPOINT
JSAVE
27700PUSH0
21720MVIE,ERRUF
27740JzERROR
DEF
STACK
STACK
wol456*POT460*
THE
THE FORMULA
FURMULA
POINTER
§ARGUMENT
Q07461
(D,E)
PASSED
STACK
27460
27500
IN
BE
STRING
TO
GOES
JPUSH THE PUINTER AT
27440
POT454"
CHKNUM>>
A
OLD
TO FRONT
ARG
OF
ON
ARG
THE
STACK
AGAIN
IT
JSHOULDN®TBEEGQUAL
JFUNCTIONWASNEVER
JSAVEFURMULA
INOW(D,E)
TEXT
FREE
SO
UNLESS
DEFINED
POINTER
CHECK
IF
(ZERO)
SET
wuelee’
GLT4SL’
VLR34
27760
27800POP
27810LENGTH=2,
<
21820
va7501°*¢Gplenw00V315
Vu7502*VeArLeQPS336*
MUVMF
271780
H
2/8egeLENGTH=2,<
CALLFRMNUM>
27824CALLFRMEVL
0VB7503°VpUERLVBT476"POTSU4*BeloBeVR34S21826PUSHW
D01505°Apleve0VB31S278e8CALLFRCSNG
PRT7506°BpURRBVLbebTxvATS01*VpvranBBTS0E’Vo1S510°*vel1eeevee34dler8sePOPVO7511°*GplVALGLRLSS27840uexJPUTCURRENT
JOUTOF
JPOPOFF
FAC
JEVALUATE
FACINTO
INTU(H,L)
FORMULA
IT
AND
OUR
ARG
VARIABLE
LOCATION
TXTPTR
MUST
SURE
ITS
NUMERIC.
TO
GET
A
PUINTER
TO
LENGTH=2,<
26660
28680
STRING, <CALL
PTRGTZ
A
RECOGNIZE
JREALLY
GET
"FN"
ARRAY
THE
"("
AN ARRAY
BIT
ON
CHARACTER
THE
AS
REFEREENCE
INTO
[B)
POUINTER
:
:
BASIL
F3
MLS
8p8u
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
03311
MACKO
47(113)
28700
ve7s561°(478 Y1luworsee’Qndoovepues1e’
001563L)A07555°*
060303
233112
19=SEP=75
SIMPLE=USER=DEF INED=FUNCTION
JMP
26720IFE
28740PAGE
PAGE
25=3
COUE
CHENUM>>
STIRINGE<LENGTH=2>,<JMF
JMAKE
SURE
PTRGT2>>
1TS
NOT
A
STRING
NAME-
.
B8uBw
MAC
GATES/ALLEN/DAVIDUFF
6=SEF=b4
05311
MACKO
47(113)
03312
10=5EP=75
STRINGFUNCTIONS645¢26760SUBTTLSTRING
645328780b4SaIFNSTRING, <
28800i6455288206456288407
F3
6457
28860
6458
THE
A
7WOULD
i
28900STRS:
646@289e0IFN
646128949b4ee289606463BuT564°wplruee0eos15
b4buGaTShS*VeRRBYVU4asST
6465o156
Be1566"ey6466POTSRT*éGuieen6467wors70*wpvwveveT637"
6468wuTs71"ULBuTS565*
Guu31s
6469wuirsie*L3 Ylal’)6470wa7S573°*opReenCuls74°PpuvLewurS70"
warsTS”valve@wevenl
6471
b47e
. fmm
avus1s
WITH
HAVE
26
FUNCTIUNS
FSTRING
FUNCTIUN
STRING
28860
HRTS564°
6459
STRS
7
PAGE
TAKES
THE
A
NUMBER
CHARACTERS
AND
THE
HANDLING
GIVES
OQUTPUT
OF
i:
YoT7570’wneeve¥19546°
6474©worsri*agpoeee0eT575°*
6475vaTh00
"’beloweFITELE]
6476
<
LENGTH=2,
CALLCHKNUM>28980CALLFOuTt
JMAKE
SURE
THE
29000CALLSTRLITJSCANLTANDTURN
FREFACJFREEUPTHETEMP
j00 ITS OUTPUT
29020CALL29040Lx1B,FINBCK
29060PUSHB8
=
JSET
UP
ANSWER
6479RHEE BRS
bube648129180
0477
STRCPYCREATES
29120WHOSEDESCRIPTOR
29149ON29160WHICHHAS
TRCPY:MOV
291ee
6478
bub2voT601"on1eve@weaL7e
6483Belene’V01000blvLas
29200
RETURN
COPY
IS
OF
THE
POINTED
POINTS
STRING
INX
29220
A
([D,E)
THE
TO
INTO
A
STRING
IN
New
-3
TEMP
STRING
TU
BY
MC
(H,L),
(LENGTH,WHERE
'YLJGET
HJMOVE
COPIED
UP
YO
INXH>neesas29280PUSHHJGETPOINTER
PVBs1S29300CALLGETSPAJGETTHE
29320POPHJFINDApluoe
6487Vulens’wplneeCYLE)Vo7605*bovvuoaeriTe’
6469BuTeoe’L)Bu7576°
weesal
IFN
vatent*velvwvewuTe10"2p1pveKT
Y]29340PUSHM6492vate11’velewveYool29360POPB
6493vule1e’goleve20031529380CALLS1RAD2
00T615°
aperee
THEPUINTER
TOPOINTER
<
LENGTHmg,
2924029260werens*
TO)
LENGTH
6485
6494
IT
DSCTMP
INFO
h484
6491
ARGUMENT
NUMERIC
A
JIS
29980
rE
6490
NUMBER
GIVEN
N10434"
6473
b48e
SUBROUTINES
THE
e
MLS
Toewilt Bugriar
BASIC
QUT
FREALLY
OF
ARG
SPACE
WHERE
IS
IN
JSETUPDSCTMP
STRING
TO
COPY
(b,C)
wureer*
6495vuTe14’Qelenenu7605*6496VeT615*Go1eveATELH294v0PUSHHJSAVEPOINTER
6497voTe16”*veleeeA0a15729420MOVLyAJGETCHARACTER
6498vare1r*22100wees1s29440CaLLMOVSTRJMOVE6499UIACY-TMOpoenea1p417"6500¢ovlee1’200BeveBeT6135"6501Avleee’vel1owewevsel29460POPJRESTORE
65¢2voleas*veluwd#03112948pRETIRETURN
Y-vp1e0eeLD
ER -29520
THE
TU
DSCTMP
COUNT
CHARS
INTO
(L)
IN
POINTER
TO
DSCTMP
6503
MCS
Bpsw
GATES/ALLEN/DAVIOUFF
6=SEP=64
23311
wpvenenerrre’
weleee’Aevevevereze*
6507oule21"@piuveVoov4l
65080uT630"beeveeaee1570°*
6509voT631°opuTe2s*
6510
6511wule3e’weloeePITETE)
noT635"*oeleaonenl1e?
vulees*
6512
03312
10=SEF=75
PAGE
SOME
STRING
SPACE
([A)
CHARS)
.
.
26=1
FUNCTIONS
STRAD2:LXI
STRAD1:PUSH
H,DSCTHMP
JGET
DESC,
TEMP
JSAVEDESC,
JSAVECHAKRACTER
POINTER
COUNT
IFN
JMOVE
VuT7e34"1090woRses
UoTE35"Apeenevo1524"
weTe36*apvenePeTe30"*
PUTLEL
JUSE
TO
ADDRESS
COMMON
iSTURE
FIELD
CODE
TO
(D,E)=POINTER
RESTURE
(H,L)
TO
AS
FREE
THE
SPACEt
DESCRIPTOR
weweIS
e
=
JAND
STRLTE
THE
VTAKES
POINTED
WAT
W
THe
BY
THE
ZERO
IT
18
LITERAL
AND
A
FACLO,
TERMINATE
THE
A
BUILT
TEMPORARY
IN
WHOSE
BUILDS
INITIALLY
INTO
TEMPORARY
THAT
STRING
(H,L)+1
OESCRIPTOR
TRANSFERS
e
6506
47(113)
JGET
AND
THE
FIRST
DESCRIPTOR
IN
OSCTMP,
LEAVES
A
CHARACTERS
STRING
CHARACTER
SHOULD
BE
FOR
BUT
IT,
PUTNEW
POINTER
OTHER
SET
UP
THAN
IN
(B)
THE QUUTE 1S
BEFORE CALL,
THECHARACTERIS
BY(H,L)NOTSET
we
we
AND (L), IT THE TERMINATOR IS A QUOTE,
OVER, LEADING WUUTES SHOULD BE SKIPPEDe
6565
MACRO
STRING
GETSPA
me
BASIC
4]
CALL
AND
AFTER
18
IN
THESTRING
(A),BUT
LITERAL
THE
POINTED
CONDITIUN
CODES
SKIPPED
ON RETURN
TO
ARE
UP,
e
.
.
STRINI:
e
6504
wuTe37"*
20lvve
voTedo’Bo1pve2eBL0e
vure4l’
nile4c’wpRuuenubkace
20ipvenveyee
nareas*vpleveuesas
VoT644"
waTedas’ne1evewuBL16
vePooBewuasr1
wule4n’
veleve
ovelTe
aploeehbveld
voT6S51"*wr1000peaee?
©voTeSe”201000ovesie
wnTess*wepveVuTe54°*vpupennuT665*
007635°
woT655°
no7656"
STRLTI:MVlJASSUME
MOV
PUSHJSAVE
STR
MVIJINITIALIZE
JGET
PTESY
0JeSTRFINwueere29960CMPBJCLUSING
volvwenvosee29980JINZSTRGETINO,
GO
v0u7646°venouevuT657°CPI34JIF
QUUTE
CZCHRGTKR$SKIP OVER
wuleee’007665VoTeh4’
ov1e0e
n00s76
wuT666"apaeunnovvae
"
0oTe6!vuleveVve314
votere’VBPANepuluce”
3poee
3v0c0
STRFIN:
CHARACTER
(END OF LINE)
CHPweleoe
GUOTE
START
OF
LITERAL
COUNT
CHAR
$1F @,
Jz
29940aule6l*
ON
JBUMP CHARACTER COUNT
INR
ORA
29920voT665"
Pu7653"
TO
INX
MoV
Quelsieveneve(LT LT
ENDS
POINTER
wueere
“elovve
wpluee
0u7657°vorTe6n*
wole6s’*
OCx
STRLT3:
STRLT2:
STRGET:
LYK
ap1000voTe50°
vuTe4di*
STRLIT:
AvRBsS3
DONE
GUOTE
BACK
FOR
MORE
TERMINATES
THE
QUUTE
THE
STRING
POINTER8080
MaC
W4T671°
6559
007672*
GATES/ALLEN/DAVIDUFF
e=5EP=64
05111
ATP0UT663"
STRING
belpveT ELE]S0040
65600OT6TS5*1w000La4s3pe60
65610oT6T4*op1e0e0eNssSs
47(113)
@3:12
10=SEP=75
PAGE
26=2
FUNCTIONS
30080
POINTER TO TEMP
CHARACTER COUNT
V0OT675*PeleneIRWYse100A,C656350u7670"JGET
JGET
Ba1p0ewens1s30120STRADZISAVE
6564POT6T71"*veeenoavrezi*6565Wwerr00*LILrr)wore70*STRCPYJCUMPARE DESC, FOINTER & STKR
JT0 SEE IF STK IN BUF
71IF IN BUF, MUST COPY IT,
6562
6566
30140
6567©BT7701°we1oneVo034730160COMPAR
65680@7702*9nlo0enepsed3ui80CNC
6569©aATTINS*L)QuT69)
"6570VOT704°)wererT*3veve
3veco
657330240
657430260
65753p280
6576503500
657730320
65780v7705°01090I'TIFS)
6579woT706°0VERE0EPeU1576"*
6580vuTTIOI"*0p0eVeouT7103*
wueusSe
6581@07710°vp1eve
6582wn7711°*00000
LTQ01vee65850GT7714°060600no1637°
65860OTT715°200000werTIL”
00T716°
201000
STRING
WEWANT
PUTA
TO
FUNCTION
SETUP
POINTER
AS
RESULT
UTNEWS
TU
TYPE
LXI
A
hulude
weoLT6
6569w@o7717°*lda71a)6590wal720°vn1eveweovee
6591wver721*200000PU1543°
6592worr2¢’vpveveweriiLr
wvuT725*veloveTS
&)
65940@07724°opoevepu4e3sn
6595wur725*(LYYverrer*
TEWP
THt
J[H,L)sPOINTER
JPOINTER
30400LENGTH=2,<3p4e0MV1A33v440STAVALTYPJFLAG
30460CALLVMOVE>JANU
MV I
VALTYP
MOVE>
COMPAR
“alene
6601
Sueve
neevie
vevpoeveueew
volevepupsie
6605W07731*6bbe©WRT73e’vRbpno6607WLOT7135*voruvepuriIeur
66080VV1734°be1000wbuvae
bolSVRT735°vgepvePO1547°
6610©e7730°200R0n0veT732*
6=S5EP=64
03311
MACKO
STRING
47(113)
30720
30760§PRINT
i1F
30780
Av10ve@ETT744°LD0eT745°*vpvuue00515
weTe3i
"
veTI135*
boe3
6624
6625©V7746°
000315
bb2e0OTT47°*vobone010434°
662700O1750°vavnweauTr44’
6628
VO1751°4201663y©@BT1752"Pp0edebR
66310OT753°LTA
6632WDOTT54*201000errel
VOTI55°PN1000abvees
wop315
PAGE
HJIGETTHE
MOVAgMJGETCURRENT
THE
THE
STRING
STRING
i
IS
POINTED
BELOw
TO
BY
DSCTMP
IT
WILL
INTOSTRING
STROUT:CALLSTRLITJGETASTRING
iISPOINTED
30880;I30900i
STRPRT:CALL
1IFE<
LENGTHe2,
THE
PRINT
30970
30990
31100
31120
STRING
WHOSE
DESCRIPTOR
JRETURN
FREFAC
NEXT
TEMP
CALLGETBCOD7 (D) =LENGTH
INRY]JINCREMENT
OCR0>
IFN
SPACE
CHARACTER
LITERAL
10
BY
POINTER
FACLO,
BY
FACLO
DATA
(B,C)=POINTERAT
ANDDECREMENTEARLY
THELENGTHMOVRMJGETLENGTH
INREE>JANDPOINTER
OCRFJALLUVONE
JGETCHARACTER
CALL
STRPR2:
wensie31140RZ
wobble31160LDAX
vuloveVeo33731180QUTCHR
o¥1000PU037631200CPI
31220Cz
VOTT762*oevovehwooe1s
bb4s
6645VUTT6S*
VUTT64"op1000nees1sa
FOR NULL
JDECREMENT
<
LENGTHeg,
velene6643
CHECK
170
STRPR2:
velpve
B
IN
STRING
)
Y0
CHARACTERS
710
IN
(B,C)
PKINT
CK
w4534
bbubVUTT6S*vevuuve6647wull66*@plvnewevLes31240B6648
6649
665¢VOT761°
wuT770*
POl771’JPOINT
opiponwoe3ns31260STRPReJAND
neTISe*
weT155°
veTIeL"
6651
31280
e wo we we =GETSPA
665731400s
6652
BLOWS
665863142031300
313¢0
665431340
665531360
51360
6656
weves’?
31440
beloveeav0p1631460
bbblVOTTT74*201000LR31480
bbb2QOTT75*01000VeBses31500
6663©OTT770"GplevenovesSe315¢0
MAY
#
=
GET
FOURCE
OF
CHARS
RETURNS
(BYTES)
WITH
OFF
SPACE
GARBAGE
CHARACTER
IT,as
TO
FOR
CHARACTER
STRING
COLLECTION,
IN
POINTERIN
"OUTSTRING
OF
UTHERWISE
SPACE"
TYPE
©3 ~e6653
NEXT
THE
TO
PRINT
=
VpoYonVpevve
2n1000
COPIED5084031080
DOTTTS*
BE
308606638
wul1772*
A
AY
50940
30960
(A}
ZERO
WITHJPOINT
30920
INTO
ENDS
wWHICh
(HyL)
H6637
6659
CHARACTER
INX6636
bbb
POINTER
TEXT
POPSTROUI:510600
veoree
THERE
POINTER
TEMPORARY
NEW
IT
ERRUR
26=3
30980
v0OT761°
LOCATION
AT
YA
6633
0V0TT60*
TELL
3p82e06635
b6b4l
TEMPORARY
RET
6615
30800
10=SEP=75
©331e
i0V07745"
A
FUNCTIONS
30740
bbdp
BE
:
.
30680
00u7756°
VLTTISI*
WILL
TEMPS
HIM
3u700
6620FREE
JSAVEnee17e6619NO7160LT ER Y6621FARETEMPPTpe0s4l
bbee
INTO
FOINTS
ERRURp1o0eneveds
TEMPPT
SHLDvolevnonioveIFJzpleveAvl742°JAND30660wul740"
6639
664
DESCRIFTOR
STRING
3640©O7737°*66186
A
VALUE
TEMPORARY"
0@7741"
6616
AS
THE
JUSTRING6o12
6617
THIS
MOVE
E ERRST6614
6634
RESULT
Myl6613
6629
TEMP
FREE
TO FIRST
WHEKE
30620
oveiee’
GATES/ALLEN/UAVIDUFF
Rolone
AT
JTRANSFER THE DESCRIPTOR IN
JOSCTMP IS JUST BEYUND THE TEMPS
30580
6602
6611
RESULT DESCRIPTOR
JFLAG RESULT AS STRING
ISTORE IN "VALUE=TYPE"
Ayt
STA
8p8Y
IT
THE
<
LENGTH=2,
30560
MAC
IN
FLAG
AT
POINT
TEMPPTCALL
MLS
AND
FACLO3u520
F3
DCSTMP
J[0,E)
30540
BASIC
WITHSHLD30500
Wul730"
OSCTMP
FACLOLHLD0480
01000
IN
303606596
weTT27*
IN
D,DSCTHF6598
6604
DESCRIPTOR
VESCRIPTOUR
PROGRAM,
IN
STR
RESULT
303606597
6603
A
STRING
6599
VuT7726°
RETURNING
POINTER
CITLTK)
6593
6600
IS
A
IN
INFO
werrae*
wor712*wOT7135°
6588
SOME
wu1547°
65836584
LLT)
30340
STR
JOTHERWISE
T~ ~o lne wo e =
65716572
6587
¥
.
MACRO
-
MLS
6558
To2wilA fv.qu_ar.
BASIC
F3
GETSPA:ORA*01000,%0016JMUST
i"MVI
TRYGI2:POPPSwWJIN
PUSHPSWJSAVE
LHLDSTKTOPJGET
w0
A
BE
C"
CASE
IF
CANT
GET
SPACE
ERROK,
NON ZERO, SIGNAL
AROUND THE NEXT
COLLECTED
WHAT
NO
wAS
IT
BOTYOM OF
STRING
SPACE
GARBAG
LENGTH?
YET>
B
BASIC
MCS
F3
B0B0W
MAC
GATES/ALLEN/UAVIDUFF
6=SEP=64
03211
MACRU
STRING
47(113)
93312
1U=SEP=75
PAGE
26=4
FUNCTIONS
bbb4WVATTTI®CpVOUE6665010000’GpepveVLTTI7L’bbb010001°V01QVE
VB1615°
0VA3S331540XCHG
6667010002*AR10PEVROLSE51560LHLD
51580CHA
6668V10RQS*VRLEVEVLV1ST3’
6669V10PQ4’QRVeORQLTTITI’
66700V10005*VrleveVUAVST
FIN
FRETOP
[D,E)
JGET
TOP
OF
j=#OF
FIN(B8,C)
FREE
SPACE
6671V10006°P@lvleU11731600MOVCyA6672V10007’VR1RVEVLPRRGL31620MVl8,2556673M10P10*QOVEARQLA3TT6674©10011°P01000QLRULL31640DADB667501¢012*0R1OPRQUOL4S351660INXH6676
6677010013°
P10014°021v0e
QAlUGe©weQA347
QVB33231680
31700COMPAR
JCGARBAGJCOMPARE THE TWO
FNOT ENQUGH ROOMFOR
667801G015°VpVRVe010266679©W10p16*QPRUPRQloVeS*317e0SHLDFRETOPiSAVENEWOF
51740INXJMOVEBACK
JSUBTRACT
FROM
6680010B17°VRleveQLOL4e66810M10p20°*VNBEVDPB1ST3*6682©10p21°Vpbeve010015°6683010p2e’VP1000VBOL4S6684V10025*Gp10OR0VLO3S3317606685©10p24'VP100e0LB361317806666010025"PRlvewQU03151800668801UpRe’AP1VARWVLEB36]318406689010pR7*0V1VeLBVRK366690V10030°PROPVDQALVAL166691010A31°Vu1Pee0Vev3126692010032’vwpewveoveiee’V10R33*vpleve0leveov’v10034°enloveoeeel?31900CHP010835°Ap10Ge0VUB365S31920PUSHJSAVEFLAG
n10p3e*VplevepLOCG131940LxlB,TRYGL2JPLACEFOR
“10937°0000QLTTT74*V10R4v*VnVvLVeVidb3e*@ve3e5351960PUSH8iSAVED10pae’31980LHLDMEMSTZISTART
PPSWRT:
IN
(H,L)
CHARS
XCHGJRETURN
POPJGET
RETJRETURN
TOP
BOUTTOM
7O
WITH
OF
TU
POINTER
FRUM
OFFALTIME
SPACEERROR
MEMORY
POINT
CHARACTER
FREE
STRING,
STRING
IN
(D,E)
COUNT
GETSPA
6687
010041°*
QPoleve
Poleae@vobSe
210045°0eRPUR0QUV1545*
010044°*0VpRReR©010037°
210045°V010000voL4e
A10046°VOVRAY©O1575°
POPPSwJHAVEWE
351860MviE,ERRSOJGETREADY
51880JzERRGRJGOAJSET
32000
GARBAG:
GARBAZ2:
IFE
MV
5evun
Vi0pal*
V105"
PpoEve
FOR
USER
ZERO
ON
BEFORE?
OUT
HE
FLAG
10
BACK
OF
STRING
LOST
SAY
ON
GARBAG
WEVE
GARBAGED
STAC
TO
RETURN
TO,
STACK
FROM
TOP
DOWN
REALIO,
<
5evev
32060
W
COLLECTED
YELL
A, 7JRINGTHE
SHLDFRETOPJLIKESO
LxI
BELL
UN
GARBAGE
COLLECTION
OUTCHR>
FNDVAR:
©10V43s*
VeiloveQURL4L)H,SCOVEJGETDOUBLE
V10051°0ppow0nooLeL*V10nS5e*VeePueV1bv4e'*V10p53*Volpve0UDB34S3¢1v0HISAYDIONT
3¢120STKTOPJFORCE
V10054°00100EVVORLSE
w10055°VpUene0B1615°
@10p56*VePvAE010LS51°
32089
32140
JIN
ZERO
SEE
DVARS
THE
VARS
TO
THIS
IGNORE
PROGRAM
TEXT
PASS
STRINGS
(LITERALS,
.
DATA)
.
BASIL
F3
MLS
8p8Y
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
035111
MACRU
STRING
47(113)
033112
10=SEF=75
PAGE
FUNCTIONS
67170100S57*©VOlevRQVBS4S32169PUSHHJFORCE
6718©1UR6L’0P10V0VVBK4L32160LxlH, TEMFSTJGETSTART
6719
6720©10061°
V10p62’000OPE
0P0RVY©@01551°
V1MBSS’6721©¥10063°0plewd0AVO3S533e2u0XCHGJSAVEIN
6722
6723
6724P10D64*
010065°
010p66*VR1V0NG
0p00AR
VPRPVYPLALSE
©0L1547°
©10U6L*52220LHLD6725©10p67*VP1PVEQLO3SS32240XCHG6726D10p70*001000QVOS4T32260COMPAK6727
6728010071°
010p72°001000
00p0E000VQEVOL
©V10LE3’3g280LxIB, TVARJFORCE
6729010p73°V000010065"6730
67310P10074°
@10p75°Y’
0voeeeQuosve
010213°32300JNZDVAR21006732©10076*PQREOP©loVTE’6734010077°V1000QBOUSELHLDVARTABJGET6735
6736010100°
010101°VevPVL
0p0ERD©Gi1621"
Q10L75°*0Q1000
TEMPPT
ISEE
FIND
IF
HIGH
OF
ADDRESS
STRING
TEMPS
[D,E)]
DONE
JFLIP
JTEST
JUMP
TEMP
TO
VAR
TVAR
GARBAGE
COLLECT
6733
6737
6736
6741
6742
010102°
32340SVARS:
SVAK:
0QUVDSS3323600P1P000BOUSE32380LHLD
V10104°¢V00RVQL1623’910105°¢200000010100°010106°VNIOVEMURSSS32400XCHG
©010107°°plpOR
010103°
XCHG
©VLB34T32420COMPAR
w10110°*P0lpweVGRS1e32440Jz
210111°90000001014032460!
010112°0PRVLD©1D104’V10113VRlEVeVEDLT6P10114°00100000OLA4S32480
010115*0V10V00QURAK4332500
010116°Qr1000
010117°V010C0
VpLEAw
UF
JGETIN[D,E)
JGETENDOF
SIMPLE
VARIABLES
SIMPS
JFLIP
ARYVAR
JSEEIF
71FYES,
JGET2ND
JBUMP
AT
END
DO
UF
SIMPS
ARRAY
TYPESTRINGS
UFVARIABLE
CHARACTER
PUINTER
TWICE
H
<
LENGTH=2,
32520
V10120°*
ARYTAB
START
0VLOPR4332540INX0QUB3T632560CPI3JSEE
IF
3¢58¢JNZ
H
SKRPVAR
JPOINT
JIF
NOT,
AT
32600CALLDVARSJCOLLECT
ThE
ITS
A
VALUE
STRING
VLBLDR3
v1v12)*“YplvveLLb3Bed10122*
©v10123°0p0LVL
0pORVeV1O130*
©10111°V10124PRIPUOPAVO3LS010125©eoRLl0210214°©10126°Vpeeow010122°V1v127°vBlpweVLeeST910130°0p1Y0pQLE13752649
M10131°0Rl00e©PBL2632660
V10132°ApRPNeQALOLRR0101330gloue0V0RR3)¥10134°VP10VEVLLV3B3S
01@135*0poeee©10102°
B10136°VPOOCO01U125°
3e620
XRA
SKPVAR:
JAND
MOV' A
MV11]
JUST
DON’T
SKIP
JLD,E) =AMOUNT
32680DAD32700LENGTH=2,<32720OrAAJSET32740CALLOVARS>JCALLTHE
32760JMPSVARJIGETNEXT
SKIP
AROUND
IT
1T
T0
ANYTHING
MORE
SKIP
u>
cC*S
VARIABLE
ONE
GARB
ROUT,MLCS
BASIC
F3
Bp8w
GATES/ALLEN/DAVIDOFF
6=SEP=64
MAC
05311
MACKO
47(113)
03312
STRINGFUNCTIONS
10=SEP=75
PAGE
26=6
6770
6771©10137°wp1eveTKT52800A RYVA2:
6772w1B140"wa1eaePUesss32820A RYVAR:
6773@10141°onlone3¢8406774©V10142*webavse
nu1625°
JSAVE
STRENDJIGET
GRBPASJ1YES,
©10145°©10144°ap1ove32860XCHG
6777©10145°Qp1000n0034752880COMPAR
6778W©10146°001000vvesie32900Jz
6779wv10147°L]010254"6780010150°0peenev1014¢"32920010151°<
LENGTH=2,
bplewvovee1Te32940GluisSe’Pulvon2000vas529606784010155°R1venP0e3153298067850101547Vpvooe0055026786©10155°wobneewi10147°"676901@156°uple0eav0e34555040PUSH
H
679w10B157°*201000nvee1l335000DAD
B
33080LENGTH=2,<
55100CPI
335120JINZ
33140LENGTH=g,
<
6787
6791
6792010160°*6793010161°VeveBn[T
E)
6794V10162velevoweesee
6795010163*vpveee010137°*
6796010164°PLBYe¥10154*
TR
6797
6798
MOV
P19165*
pulene
DLoL4e
IGETTHE
JGETLENGTH
A E>
JGET2ND
VALUE
OF
ARYVAR>
JSEEIFITS
JIFNOTJuSY
A
AJSEEIFJNO,KEEPONTRUCKIN
JSAVEENDOFARKAY
STRING
010165°*20034)33220POPJGETBACK
vploveveal11633240MOVJPICKUP
332600MVIJMAKEDOUBLE
35280DADJGOPASYT
iBYADDING
680501017e2°wnlvaeP0RURE
h8re©V10175°*opooen0LAvRY
6807010174°QuloneLTI
E B
V10175°
©V10176°
©10177°
veleonovee1lve1oveQooV4s1B N714
1]00035335340
201000QvvesSe35560
6812019201°VpNBoYP01575°
6813010202°2nReee210166°*
6614V1203
°*eelenod0V10204°bpl1o00
33300
DAD
A RYSTR:
XCHG
JGET
TEMP3
LHLD
END
ON
OF
TWICE
00035s33360XCHGJFIX[r,L)
Wwus4r33400COMPAK©iv2wsS*eplenevop31e33420JzARYVAKIF
OF©¥10140°JSEE
JENDwpoenn35440LxIB, ARYSTRJADDROFWHERE
55460PUSHJ6G0ESONSTACK
wl0207°voelLYo@10e01"*
010210°woleneLT TTEY
6820©1V211°0po0Ro010171°*
6821@10212*vavewvevl0eoe’
bbee©10213°Qr1090CITXETE)
ZERO
#DIMS
(2
BYTE
GUYS)
ARRAY
010206°6818
DIMS
HIGH
DIMS
68166819
POSITIOUN
OF
WITH
JONE MORE TO ACCOUNT FOR #DIMS,
iSAVE CURRENT POSIT IN (D,E)
INX
33320
CURRENT
NUMBER
6817
6815
VAR
VU1575*
BRLNoe010200°
11
TEMP3991000
6BUB
PQSITION
STRING
SKIP
ARYVAZ>010170°6811
A
IN
NAME
VAR
0
JPBlVLTL*6810(B,C)
SHLODV101667
6809
(A)
IN35180010167°
Vpveve
INTU
OF
CHAR
6BU1bBe4
TYPEARRAY
JSAVE POINTER TO 0IMS
7A0D TO CURRENT POINTER
bBR26803
COLLECTING
DONE
IF
SEE
ARRAYS
WITH
DONE
IF
35200
33160
6799
JSEE
<
LENGTH=2,
55000
335020
67868
68V
(D,E)
BACK
JIFLIP
6783
vuinva
IN
ARRAYS
-
Vo35S
6781
6782
OF
210135*
67756776
Gavenew
ARYVAR
END
GARBAGE
STACK
OF
RIU
JGET
8
XCHG
LHLD
ToRmel
A Euariar,
0p0vN00
POP
BACK
TO
CURRENT
UF ARRAY
TRY NEXT
AY END
ARRAY,
TO
ARRAY
RETURN
TO
.
.
BASIC
F3
MLS
8084
MAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
03311
MACRO
STRING
47(113)
334801 FE
6824V10214°355000 VAR
6825010214°
010215°elovees?355200 VARS:
66264241veese33540
6823
033112
10=SEF=75
PAGE
26=7
FUNCTIONS
LENGTH=2,<
XRA
010216°ealooes
2000435560INX
010217°o100Qee13e35580MOV
6629©@1v2Ru’
@1p221°001000henvas536006830vn1000avelee336206831010222’0R100000AL43
STRING
NULL
THE
ITS
IF
JSEE
ORA
68276828
L
INX
MOVPPL
33640INXH>
6832
683335660<
LENGTHe2,
33680ORI683435700PUSHM
1(D,E)=POINTER
128
AT
DVAR
LENGTH
THE
VALUE
GRBVAR
CALL
TOU
JFORCEJSAVE663535720683633740POP0JSKIP NEXT TWO BYTES
JGET POINTER IN [D,E)
683733760POPB6838jPOP
33780RP683933800MOVA,CbBap335820OkAA>JIF WASNT A STR, RETURN
JGET LENGTH OF STRING
JSET CONDITION CODES
INULL
STRING,
JMOVE
(H,L)
JGET
POINTER
PUSHM
6641©V10223°we1000weesiv010224°201000vea10433840
53860RZ6842MOVB8,
6843G1uees’0010002e011s35880MOyCyL
6844
6845V10226°
010227°gulvenBvupse55900LHLDFRETOP
35920COMPARVLTVU173
6846010230°npoRYYa1ee1l
68470©1023)°voloewwuesat
bb4s010232°veloee00140MOVH,8
6849©l0235°Po1000PeR1S5133960MOVL,C
D10e34’2n10v0ueessv35980RC
35940
JIF
010235°wu1e9e(ALY34000POP
6852010230°340020XTHL
©010237°*veluee
bploveQbes4s6853weesar34040CUMPAR
6651
JMOVE
LENGTH
STRING
RETURN
TO
(8,C)
TO
TOP
STRINGS
THIS
7118
6850
OF
([B,C)
NOT,
NO
OF
BACKTO[H,L)
NEEDTOMESS
JGET RETURN ADDRESS OFF
H
STRING
POINTER
JGET MAX SEEN
JLETS SEE
SO FAR
&
01v240*2pi1oeenoos4s34060XTHLJSAVEMAX
010241°va1evenoesas34080PUSH6856
685701v242°
©10245°Ve1v00veplav3uipeMOViSAVE
JMOVERETURN ADURESS BACK
(B,C) BACK YO ([H,L)
vpl1enoBee15134120MOV68580102447201000AT T434140RNC6859@10245°201000Quesol34160POPwib246°*V01000UITETY)34160POP©10247°@pi1oveQvoiel34200POP010250°JPOP
JAND
6861
6862
JIF
JGET
vo034534220PUSHFSAVE
201000wevses34240PUSHJANU
Vpl1o6eVUwses34260PUSHvle2ss’221000JSAVE
TEF
BY
RET
i
i
HERE
wHEN
JAND
MADE
UNE
COMPLETE
PASS
ADDR
RETURN
an109e
542892
GET
IT
RETURN
AT NEXT
OFF
STACK
FURTHUR
RETURN
ADORESS
VAR
OFF MAX SEEN
VARIABLE POINTER
6v1025¢e°54320
&
LETS LOOK
NOT,
©10251°34300
SEEN
WITH
STACK
6854
NEW
NEW
VARIABLE
POINTER
MAXPOINTER
RETURNADURESS
BACK
RETURN
THKRU
STRING
VARS
34340i2102547vele0ewvese2t34360G RBPAS:n10e55°V1000nensdl54380POPnie256"*en1paewee175354400MOVJPOP
JAND
JGET
niuast’enloveavees4344c0URAJSEE
IF
niueew’aeiooenees1e34440RZ$1F
END
n1ve6L”’1000nesess34480nexFTHEN MAYBE RETURN TO GETSPA
JCURRENTLY JUST PAST THE DESCRIPTOR
POP
34460
OFF
GET
LOW
MAX POINTER
VARIABLE PUINTER
IN
ZERO
OF
SPACE
FRETOP
SAVE
6855
FREE
,LT,
POINTEKR
COLLECTION,
ADDRESS
OFF
STACKBASIC
MLS
F3
8080
MaC
GATES/ALLEN/DAVIDUFF
h=SEP=h4
03311
6876010262°V@lubEeQBR126
6877
MACRO
STKING
47(113)
23i12
10=-SEP=75
PAGE
26=8
FUNCTIONS
BYTEUFDATA
W010265°Gn1pOpVVOESS345206878010264°0R10WRQ0011634540J(B,C)=POINTERATSTRING
6879010265°VRlVVEVEO34S34550JSAVE686034552JCAN688134554IMOVED
6682
Vv1lUR6e’
VRIEBE
GVOLS3
68863
34500
34560
34580
6884
7 LB 2HIGH
oCx
IFN
THIS
BE
LOCATION
UPDATED
POINTER
SO
AFTER
34600DCXxH>V10R67*Q@100R0QVALSe34620MoyV10270VPL1AAYVUBUAG34640MVL M6887010271'200LODVLOVLRYNl 9JELIESTRING LENGTH
7IH,L) GET CHARACTER
6888©10272°0nleve0VLRLLL34660DADBJLH,L)=POINTER6889©¥10273°GeloRwAvOl12V34680MoV0,86890V10274Geleve©e013)34700MOVE,CJ(D,E)=ORIGINALPOINTER
6891V10275°Qulvvp920RVSS34720DCXHJOON*TBEYOND
6892V1V276*@V100DMVBLR434740MOVB,HJGETTOPOFSTRING
6893©10277'0010vRVLO11S34760MOVC,LwVLALSE34780LHLDFRETOFJGETTOPOFFREESPACE
54800CaLlBLTUCJMOVEPOINTER
TO
©10300*
VrleRe
6895©10301°PUOOVE©L1573*
W10302*Puevse9leeel’
6897©10305*20100@0MLE3S1S
IS
H
6885
6894
POINTER
STRING
LENGTH=2,<
bbbe6896
DATA
THE
THE
MOVE
COUNT
BEYOND
ONE
STRING
IN
STRING
[B,C)
STRING
6898W1V304°VvLwOL6899(10305°dpvpPe©10301°690pV10396°AvipueVLRS4L
VLRV1L*
34820PUP6901Q10307°*GvloVeQuolel34840MOV6902©10316*BRIVLVLVLOL4ES34860INX6903©10311°001eP0VVO16054880MoVM86904v1@31e*0r1vdpQLvr1S)349¢0MOVL,C6905©10313°AP10V0VLR14034920MOVH,BJ(H,L)=NEW
6906V10314°V210000UVPLSS34940DexHJFIXUP6907©10315°201P00QVA30354960JMPFNOVARFANDTRYTO
CONCATENATESTWUSTRINGS
6908V10316°VPULVE©V10G4S*
6909©10317°Q0CVVY©1P304°
JGET
C
BACK
JSAVEFIXED
JMOVEPOINTER
JHIGH
DESC,
ADDR
PART
POINTER
FRETOP
FIND
HIGH
AGAIN
6910
691135000691235020THE
691435060(H,L)
691535060
69135
35040
©10320°
BASIC
F3
FULLOWING
FACLO
THE
BEYOND
FIRST
THE
+
ONE
SIGN
AT
THIS
AFTER
POINT,
IV
00100QVB3RS35100PUSH8JPUT0pleve©VBL34S35120PUSHHiSAVETEXT
v1v32e’velpveQVPLSe35140LHLDJGETPOINTER
010323°Ypoone@L1637°010324°QpvVABV1OS16"P10325°001000QLAS4335160XTHLJSAVEVw10326°2p1vve@LA3LS35160CALLJEVALUATE
A10327°
©v10330°
B10331°0p0RYY
Vpdvwe
VP1eRLY2R6L6L"
V1B323*
VUBS4335200XTHL010332°001vve©LUR31535229CaLLP10335*
V10334°QpORA0
0poeveQL6e3Ux
vle3e7’
MLS
8pBU
MAC
GATES/ALLEN/DAVIDUOFF
6=SEP=b4
03311
MACKUO
STRING
AT
RUUTINE
CONTAINS
POINTS
V10321°
o 5 Hifh ER RE
b
.
A
THE
47(113)
25:12
OLD
PRECEDENCE
ON
JSAVE
&
UF
TEXT
1U=SEPw7S
PAGE
GET
BACK
DESC,
26=9
¢YR1AeYvvRlTe35240MOVGplorwVLR3IUS35260PUSHHISAVEDESC,
veleve0eevsSe35260LHLDFACLOJGETPOINTER
010340°0pVRO0RQB163T7°*6933©V10341*0pVR0DV10333°6934010342°VP1000QVD34ES55300PUSHHJSAVEIT
6935V16345°VploopGeecae35320ADDMJADUTWO
6936010344°201000QVOL3G35340Mv]E,ERRLSJSEEIF
6937010345Vo000oQL0LLT76938010340°V01000V033235360JeERRORJERROR
Ay
M
35380STRINIJGETINITIAL
iGET2ND
POINTER,
TO
2ND
LENGTHS
RESULT
"LONG
DESC,
TOGETHER
,LT,
256
STRING"
0Qv210e’
V10340°
6941©10351°6942
6943010352°
V10353VANERADVLT624°
0poYDQ10347
6944
QVA3LS
STRING
Q1035400190R@v032155400")6945010355Vpleve0LB31535420FRETMP6946
6947©¥10356°
©10357°*VEVEUE
VpLeopV10440°
@10352°6948Q10360°0VA10N00VDS4S35440iSAVEPUINTER
6949010361°Q10000BLB31535460FRETMEiFREEUP
6950
695101B362°
010363°VRPOVVE
2006LV0N10437°
V10356
DESC,
6952010364°
18T
TO
IT
TEMP
V010V0QL34S35480]JSAVEDESC,
6953010365°2010vewv0ALSe35500OSCTMP +¢2JGETPOINTER
6954
69550V10366°
A1036/°PROROL
00POYLe©BW1STe’
V10362’6956V1037¢0°VE10000BOB35335520FIN[0,E)
6957
6958010371°
016372°deloed
0oYOVR35540MOVINSJMOVEIN
6959©10373°0pvoed06AS1S
V10407’010366°6960©10374°OQlved0OOS1S35562MUVINSJANUTHE
6961
6962©¥10375°
©10376°00QvUe
VRVLLD010407°*
BlR3T7e’6963¢1U3TI*©velQUe0LOLA4)35580H, TSTOPJCATREENTERS
6964210400°GOVQEROBL5357°6965©10401°©pV0RRA10375°6966
6967¥10402°
©10405°V0100E
0010000VO343
VLO34535600
35620HJTEXTPUINTER
69680104R4°UN1BO0©VVO30335649PUTNEWJTHENRETURN
6969©V10405°GYLOVDVOTTES*6970©V10406°VpVONREN10400°
POINTER
6973N10407°PVie0eHJGETRETURN
6974©10410°VelovePVB34SJPUTBACK,
@10411°AGlYve0VBL1T635760
(FIRST)
TO FIRST
THE
FIKST
STRING
SECOND
FURMULA
OFF
EVALUATION
FIRST
ADURESS
OF
TSTOP
6971
6972
VVR34)
6975
6976
BACK
FUNCTIONS
210337*
vpleve
POINTER
.
.
.
010336°
VpRLND
TEXT
FORMULA
.
010335
V0PRO0
GET
POINTER,
6929
©010350°
ON
DESC,
CHKSTR
6932
V10347°
STRING
REST6931
6940
TO
STACK6930
6939
BACK
POINTER
35700
MOVINS:POP
IFELENGTH=2,<
35720
35740
XTHL
MOVAyM
6977©ln412°*GploveVLOLAS35780INXH
6978©10415°2plove0QuBlle35800Moy(L]
6979©01V414°VR1V0ODQLOLLS35820INXH
6980©1V415*Vplove©LoL10635840MOVB,M
6981010416°VRIGVOVOOL1ST35860MovLyA>
F[A)=STRING
ADOK
BUT
J(B,CI3POINTER
JILI=STRING
GET
DESC,
LENGTH
AT
LENGTH
STRING
DATA
AT
TSTOPBASIC
MLS
F3
808Y
MAC
GATES/ALLEN/DAVIDUFF
b=SEP=64
03311
698¢
35860
4/7(113)
03312
10=SEP=75
PAGE
26=10
FUNCTIONS
IFN
LENGTH=2,
<
698335900PUSHMJGETLENGTH
698435920PUSHMJANUPOINTER
698535940PUPJTEXTPOPJCHARACTER
6986
6987
35960
69868WV1n420*010417)nuoLS4e55980MOVSTR:MOVLP:DCR1SET
698901042100v6O310360e0<RZ10,
6990©10422*VOl0BRAvoLie369406991LUAX010423°GoleveowvoeeeJGET
36060STAX6992©10424°weoves36060INXJSAVE
6993©6104e5*)00Boopes6994©10426°VR10VEQVO3Q3361006995@10427°Qevuen010420°6990V10430°*GpYOLB©V10405°
“eaLsSS
36000
INR
INX
36120
699736140
699836160
JMP
FRETMP
1S
PASSED
699956180THIS700036200ACHECK100136220TOISTooe36240IFS0,700336260IFAT00436280STRING700536300THE10063632056340IFLONGER700836360THOUGHA
36360EQUAL
17007
7009
VALUE
TO
THE
THE
OF
THE
Se04v0IS
STILL
AT
IT,
TEMPOKARY
701336460
1014
010431°
0P1GAY
00OS1S
7015010432°0p0ROUDV1B333x
P16435°PPLRewilpuer*
7017
70180©10434°
V10435*0@lvoe
Voveote0@LVALSE
©O1637°
VPVRLD0lp43e*
V19
0106436°
TO
Q0O35S36520FRETM2:XCHG
0Q00VSE36540FRETHMP:LHLD
ToR3V10435°¢©10442°VOOVBDTeed©010443°VPleVD7025010444°0p10V0@GUO10636580MUY
Te26V104457VO100RVVOLSS36600ocx
ToRT01P440*VP1PLE©LO11636620MOV
7028
36560
©10447°0Q10V0GLOLSS7031010450°¢p1EV0V03477632©10451°0p1200VUVSSS36720
oT sieeser
BASIC
A
F3
MUS
BuBY
MAC
Te3s
71836
onsen seosee
001000
©BVV30L
GATES/ALLEN/DAVIDOFF
6=SEP=64
05311
©010453*vploeeoveLde
P10V454°GpvoveEB1547°
U10B4S5*vovpve0B10441°
UP
A
TO
THE
BY
THE
FURTHER
IN
REFLECT
BEING
THE
FREED
"LET",
SINCE
FRETMP
UP,
THE
NAMELY
ACTUAL
VARIABLEIS
SETTINGTHE
IMAKE
TEMPPT
SURE
JFREEUF
JGETTEMP
JLUUKAT
DCxCOMPARJSEE
XCHGJRETURN
THE
WHAT
i
IF
[D,E)
WITH
7233112
10=SEF=7S
PAGE
SHLO
TEMPPT
JUPDATETHETEMP
BEEN
JSAVE
36840i (D,E]=POINTER
36900cn$(C)=LENGTHOF
0BBRVSE3e9¢vFRETOPISEETHE
QVLISTS"010465Vp0PVEV104547P10460°VploveQ0B34736960COMPARV10467°0pleneveB30e36980
(D,E)
JNZNOTLSTINO612470*PRVVABV10477
*010471°0VAVVVLV10464°@10472°0100eV10473*¢pleoe
JSUBTRACT
56940
IF
JONE
37000MOVByAIMAKEVLBL1L37020DAD8JAD0O1VLEQOGL4C37040SHLDFRETOPJANDUPDATE
0000V0EVE1573°010476°
V10477Opheve
GRloveQ10470°
LG4JGETPOINTER
V105PY°*VpleveWuBsllwivs11’®Bploneovol127
V10510°
dpluve
THE
BY
FACLO
LAST
TEMP
STKRSIZ
AT
THE
LASY
o
DESCRIPTOR
FREEING
DONE
.
.
.
NOTLST:
$71080
POP
POINTER
BY
RETURN
AT
IN
STRING
THE
STRING
DON'T
V10474
STRING
FREED
UP
FIRST
SPACE
ADL
(B)=20
FRETOP
AY
CURKENY
DESCRIPTOR
RET
37100i
37120
57140}
7
51220
POINT
ONE
ITS
IN
SO
TO
©10475°@vO31S
THE
DECREMENTED
QVV1L601050’
TO
26e1)
APVOREQpVALD
RIGHT
FUNCTIONS
Gp1OVE
Qvlvve
NO
BECAUSE
THE
STRING
NOW
V010GQ00PeE
IN
PUINT
W1R464°¥10506°
IN
CURRENT
IF
V10463*
A10505°
TO
(H,L)
AT
NOW010462°210507°
("LET")
IERIE
JPOINTING
JRETURN36860
3688037200
THE
IS
>
36820PR30S
OF
AT
Qee)s)
©ROV3SOVilvee
IF
SPACE
STRING
IS
0LB120W10504°*VALUE
TEMPPT
QeO3ES37180
THE
A
0a1000
37160
THAT
TEMP
1178
NEBLRL
LLT4RE*
010475°
SEE
THE
THAT
POINTER
36800P6l1pew
¢paowo
0p0000
TEMPPT,
TOU
IS
H
RNZ
36780
W1uSa1°*
v10502*
010505
TO
THE
ITS
JOECREMENT
ocx
37060
OF
MADE
UP
Gploow
QEB1E0T
MODIFIED,
DATA
V10457
Gelone
001200
ARE
POINTS
PUTNEW,
BEING SET¥1U456°
010u60*
010461°
(D,E
(D,E)
LENGTH
1(B,C)=POINTER
H
LENGTH=2, <
47(113)
FACT
A36680
STRING
IS
POINTED
BY36640
MACKO
BY
UPDATING
CHECK
THE
36700
wa
IN
REGISTERS
USE,
36660
36760
OTHER
DESCRIPTOR
ALLOCATED
TEMPURARY
SPACE
ocx
36740
DESCRIPTOR
STRING
TEMPORARILY,
FACLO
QO1S47*
©10452°
ZERO
CHKSTR
0pRPVD
To34
IN
OATA
FOOLS
LHLD©10441°
1¢33
SIGN
IS
CALLTeee
STRING
17
THIS CAUSES DIFFICULTY FOR ASSIGNMENT
RESTR:001P0¢DOING
A
HERE
MOVE
IT
POINTERS
JKEEPALL
UP,
TO
CHAR
(M,L),
FREED
COUNT
BYTE
JMOVE
THE
STACK
HERE
CC*S
NO
IF
STRING
UPDATED
FREFAC?0plveQ
1030
IS
TO
ON
POINTER
DESCKRIPTOR
STRING
36480010437°
IS
FREED
36500©10440°
IN
SEE
THAT
OF
ACTIVE
"LET"
702¢
7029
IS
THAT
TEMPORARY
Tv2)
VUVBLSS
TEMPURARY
IS USE,
36420
TO
TEMPURARY
PART
FRETMP
36440ToleMADE
DATA
7012
POINTER
RETURNEU
IS
TEMPORARY
80,
A
IS
LAST
LOWEST
7011
7010
.
.
.
MACKO
STRING
THE FUNCTION LEN(S)
STRING PASSED AS AN
i
L ENS
LENLS
RETURNS THE
ARGUMENT
LENGTH
OF
THE
LxlB,y SNGFLTJCALLSNGFLT
PUSHBJLIKESO
CaLLFRESTRJFREEUP
WHEN
TEMP
DONE
PUINTED
TO
BY
FACLO
©10431°
0eeest
XRAAJFORCE
37260MOVD,AJSETmHIGH
37280LENGTH=2,<37300
571249
STAVALTYP>JSETCONDITION
¥10512*Anle6e0eALTe373e0MOyAM
P10515°Aplevrovecel37340OkAA
010514°0n1000QVO31137360RET
NUMERIC FLAG
OF
(D,E)
TO
CODES
ZERO
ON
FOR
VAL
LENGTH
FRETURN
37380
37400
37420
THE
FOLLOWING
WHICH
IS
THE
IS
THE
DECIMAL
ASC($)FUNCTION,
ASCIIEQUIVALENT
IT
KRETURNS
AN
INTEGER
37440
@10515°
¥10510°
.
@o1enve@vB31S
VpOROE010505°
B10517°BGubensn10520°@piewe©Lo3le
v1NsS21°Vplewe@1B776°
n1n522*VpVVRYB10516°
V105237Volove0ebL4s
37460
SC:
CaLLLEN]JSET
UP
ORIGINAL
37480JzFCERRINULLSTR,
37500INXJBUMPPOINTER
STR
@10506°
BAD
ARG,
-GATES/ALLEN/DAVIDUFF
om
6=SEP=64
©3311
1068
PAGE
26=1p
nee
1IFN
Iu rome
LENGTH=2,
<
37540
H>
JBUMP
vUVAseT37560Vulgve0voS4)371580HJGETADDR
7092©10526°Vp10Ye©QURLT637600A, MJGETFIRST
37620SNGFLTFSNGFLT
210527°
2pleoe
00B303
T0S4D10530°peEveQBT400°
7695©10S531°@papee019521°
5
109637640709737660CHRS (#)
709837680CHARACTER
109937100WHICH
710037120710101e532°0plove©LUovTe6
Tive©@19S33*'0p0poRovoevol
7103
714©10534°
010535°Aulvee
@pooenvLvosL1S
0QL7624°
7105010536°0pvene0V10530°
Q10537°
00l1ew0
VVO31S
37740
,LT,
WHMICH
STR
USCTMP
37760CALLCUNINTJGETINTEGERIN37800LHLDOSCTMP+2JGETADDRSTk
0llues’©B1P535°©LVoLSE711001PA545°0popvon001572*7111©010544°0p0puE©V10540°7112©@10545°Pvlvwe7113©10546°0010000UO3Q137840
7115©10547°P010000VO30337880
7116©1055¢°0p0LOY0BT7@S*7117©10551°000eA0@10543°
31820
MoV
FINBCK:
M,E
JSAVE
POPB
JMPPUTNEW
ie
371900i379e0iTHE
7IT
57940
37960
0plove©ed31S
7124010553°Puo0OveGlAT64*
7125
JSKIP
i
IF
FOLLOWING
TAKES
%
37960;
38000L EFTS:
1S
THE
IS5
760
THE
LEFTS(S,#)
LEFTMOST
,GT,
#
CHARS
THAN THE LEN OF
BYTE
HIGHER
CHKNUM
LEVEL
&
CALL,
hy i
FUNCTION,
OF
THE
THE STR,
STR,
IT
PREAMJTESTTHE
XRANEVER
W10554°0p00ve010550*©10555°vplpveQvvesS736020AJLEFT©10556°001000QU343360407128©10557°*@plove0eo11736000MOVCyAJOFFSET
7129010560°0r1006QLR345S38080PUSHHJSAVEDESC,
STRING
JSAVE
TEXT
010561°00lpve0VR17638100MoyAynFiGET
v10562°©wuaete36120CMPBJENTIRE
7132010565°"ITERT]38140JCALLSTRJIF
®71330105647000000©1O570°7134010565°0pBRYs©V10555°®7135
7136©10566°
01056/7/°Vpl0Ge
V01000QEOLT0
©BOVRLs6160
381807137
7138©106576*
©10571°0viwwe
0pQ0veALl
WVVARAYS820v7139010572°0p10P0QVBIAS7140©10575°Vnilove©eo31S
RETURNS
THE
WHOLE STR,
PARAMETERS
7126
CHANGES
STRING
POINTER
POINTER
NOW
IN
(C
FOR
LENGTH
STRING
#CHARS
FRETMP
WANTED?
ASKED
FOR.GE,LENGTH,YES
o
09
RANGE
PUTNEW
7127
7130
®
TO
THE
CALL
7131
o
OF
CALL
XTHL
IN
ASCII
JRETURN
37860
010552*
(#)
STRINGAplvew
7120
ONLY
ARG
CHARACTER0pveRY7123
ITS
FGETvevrER
Tiee
AS
INTEGER
JONe©10542°
71214
THE
STRINI©10540°
SNS
OF
255,
Ayt©10541°
i SR SEN
IT
CONTAINS
EQUIVALENT
[(H,L
CHAR
CALL7107
7118
STRING
ASCII
BE
IN
MV17168
CHRS $
A
THE
MUST
.
ADURESS
37760T1e9
WLo16s
CREATES
iGET
POINTER
Velve©010525°
7119
L]
10=SEP=75
©10524°
7114
@
05312
FUNCTIONS
7091
716
°®
47(113)
T09¢
793
¥
STRINLG
57520
7089
®
MACRO
o
808U
MAC
o
.
MLS
MOV
XwiA8
“0100u,"021JGET TRUNCATED
JSKIP OVER MVI
MVIc,0IMAKE
s6220PUSH8ISAVE
S6240CALLGETSPAJGET
ALLSTR:
LENGTH OF STRING
USING "|.XI D,"
OFFSETZERO
OFFSETON
SPACE
FOR
STACK
NEW
STRING
5
°
.
.
&8
.
.
L
O
]
BASIC
F3
MCS
8pBu
MAC
GATES/ALLEN/DAVIDUFF
b=S5EPmbd
05311
MACKRO
STRING
7141Q10574vpoves@vTi7e’7142D10575°0poevnV10564°7143©010576*V0love0QLO3R)714401057/7*0pleoe0oRs4138280
7145010600°00100000R34538300
7146©10601*VR10V00POLLS38320
7147
7148
47(113)
05312
10=SEP=75
PAGE
26-13
e
®
o
F3
o
BASIC
FUNCTIONS
38260
JGET
5
1
368340
,<
38360
71490©l0e02®Vploveovelee7150©10603°0Ol0PE0QLOLAS38400
71510©10604°001060VLOL4638420
7152010605°0010000KO15056440
7153010606’0nlpue0VEALVLS36460
7154010607°200000©LVVYY7155010610°90)lpwe©VLBL1138480
BACK
JGETBACK
JBUTKEEP
JMOVETO
OFFSET
DESC
ON
POINTER,
STACK
STRING
38380
BoMJGETHiHoMFPOINTERHIGH
LBJGETLOW
POINTER
IN
8,0JGETREADY
81ADUIT
TO
7156
7157©10611°
0l6e12*velove
001000©GLO104
QUO11538500
38520B,n
CiLJGETOFFSET©10613°0n10PR0QUASLS36540STRAD27SAVEINFOIN
1159©10614*dovevn0o7627°
ADLD
010615°AuBOVEV105747010616°VP100EWLO1S738560LoAJiGET#OFCHARS
7162
71630V10617*
@10620°@plove
UpbOVe0LB31S
V10417°38580MUVSTRJMOVETHEMIN
71640©10621°000RG0@10614°7165©10veee’Ypluvve0wewsel386000JGETBACK
010625°ON1P00QUB3LS38620FRETMPJFREEIT
7167
7168010624°
010625°0V00VOE
0p00AB©10440°*
©10620°*36640PUTNEWJPUTTEMP
010626°UN1LVYQAVDSBS
010627°000000QGUTTES*
7171©10630°000RVY(G10624°
7173019631°VOl0VOQLV3L1S
7174
7175©010632°
©10635°000CVQ
0p0eve©1Q764°
@10627*
VoloveWil
IN
TO
PUINTER
(B,C)
DSCTMP
71607166
OFFSET
POINTER
71617170
FIELD
LOW
7158
7169
POINTER
H>
TO
DESC,
MOVE
IN
L
PUINTER
UP,
IN
TEMP
LIST
T17e
7176010634°
7177©10635°
RIGHTS:
CaLL
JCHECK
38700POP0010ve©ev3eS58720PUSHJSAVEBACK
717801vu636*D0love0QLAL3E38740LDAXJ1GETPRESENT
©610637°
0©10640°20ilvve
V21000Q¢pecw
0QLD30S38700
38700suB
JMPJSUBTRACT
JCONTINUE
7161©10641°vp0WRe©19556°7182©@lue42’000RVER1p63e’718338800716436820MID718538840ONWARD,
38860MIDFOR#2
716858900ASMULH
7189389207166
7190
7191
7192
7193
36880
©106435°0010V00VVB35S
©10644°V1000QLOLTE
010645°
010646°
001000
VR0OUL
0VO315S
0LOT6T*
38940
38960
38960
1083
(5,#)
JGET
ARG
7179
7180
71867
.
S8680
RETURNS
IF
(5,#,#)
#
1S
AS
STR
GT
IF
%2
CALL
STR
GOES
CHARS
THEN
WITH
PAST
FROM
#
RETURN
POINTER
FOR
UF
STR
CODE
PUSITION
NULL
#
STRING,
CHARSFROMJPUTTHETEXT
THEFIRSYT
END OF
LEFT
LEN
2ND PARM
WITH LEFT
POSITION
STRING,
RETURN
POSSIBLE,
XCHG
MOV
WITH
LEN(S)
RETURNS
CHARS,
DESC,
Ay
PREAMZ
JGEY
JGET
OFFSET
POINTER
OFF
IN
CHARACTER
STACK
AND
(H,L
MAKE
.MCS
F3
808U
HAC
7194
GATES/ALLEN/DAYIDUFF
(mSEP=64
03111
@10647°000000106417
©10650¢
U10651¢001000
VRlMd0003VS
©0OV36
7195
7196
7197
7198
01065e*
2pvave
MACKO
STRING
47(113)
83312
10=SEF=75
PAGE
26=14
FUNCTIONS
39000JSURE
39024
39040JPUT OFFSET
JTF TWO ARG
DOES
NOT
&
@,
ON TO THE STACK
GUY, TRUNCATE,
©0eas?!
7199©10655¢0010000LVSTE
72000106540000080€AESI
7201@16655°Qn160000312
Tav2016656°000GUOB10665°
7263010657°WOQUMD10646°
7204
39060
39080
JLE)
39100
7265©019660°01600@UDS1T
7206010661°DpOUNG0OEE5H
7207©l0s62¢0p1COGGEA315
7208©10663¢000COE©11020°
JIF
SAYS
ONE
39120SYNCHK44JCOMMA?
39140CALLGETHYTJGET
USE
ARGUMENT
MUST
010664t@OOEWD©1U6S56”7210010665001060000517SYNCHKm)vJHUST7211010666000000@UODS172120106670010600036139180PPPSWJGETOFFSET
7213©106760°0D1090€UDSH339200XTHLJSAVETEXT
39220Lx1IWHERE
TO
7214©10671°0p1000VOOUOL
7215
7216010672¢
010675¢00GVG0
GoVU@E8105667
©10663°
MID2i
B)LEFT2
BE
CHARS
THIS
IS
DELINEATE
ARGUMENT
7209
39160
ALL
IN
FOLLOWED
BACK
BY
IN
)
GET
DESC,
10,
7217©10674¢0ulepd40030539240PUSHJGOES
ON
7218©10675°8010000GOUTS392600CR1SUB
ONE
7219010676°001000BU027639260chpTPOINTER
7220
7221
7222
7223
72240106771°
107007
€10701°
010702°
010703¢D100 .
0AOUOL
001000
0010u0
00109uOLBGO6
0L0VAY
00326
0@0117
©001T639300L%JASSUME
39320
39340
59360RNC
MOV
MoVJYES, JUST USE NULL STR
JSAVE OFFSET OF CHARACTER
JGET PRESENT LEN OF STR
7225©10794°0010000upeRL39380suBISUBTRACT
000ETS010705¢60100039406chpJIS
7227@10706*001000VU10739420MoyJGET
7226010707°0010000ES3039440RCJIF
7229
7226
010710°001000¥YE10339460MoyJUSE
7236910711°¢001690©E031139480RET>JRETURN
7231
39500
IFN
IT
STACK
FROM
OFFSET
PAST
NULL
END
OF
LENGTH
INDEX
STR?
STR
(2ND
39520}723339540THE
TRUNCATION
CALCED
NOT
LENGTH
USE
T0
IN
PARTIAL
TRUNCATED
8
STR
LENGTH
LEFT2
FOLLOWING
723739620VALUE
600000
000000011023°
G10672"
0107167000000©10721°
010717¢
©010720¢
©10721¢G00UA®
001600
00C0Vn
15
A
1/0
PORTS
STATEMENT,
NOT
A
CALLCONINTJGET
INTEGER
sTAINPHRD+1,JGEN INP INSTR
FUNCTION,
CHANNEL
0L0U6E39680
#
010713°
€UO3SS
WUBLDD39700
INPWRD:D
IN
JTHE
INP
INSTR
©
©
o
o
7243
7244
7245
Teue
0107157 Goledo
IT
o
010713¢
©10714°
7a4z
FNINPG
#,
ALTAIR
©
7240
7241
39640
39666
CHANNEL
THE
o
INP(CHANNEL#) RETURNS AN INTEGER WHICH 1S THE STATUS
OF THE CHANNEL, OUT CHANNEL#,VALUE PUTS OUT THE INTEGER
W6ES1S
TO
THE
USER
39580
39600
ON
ACCESS
ALLUW
39560001000
FULL
FUNCTIONS
72347235
7236010712¢
POINTER
ARG)
LENGTH,<
72327238
7239
ARG,
A
POINTER,
RETURN
CORRECT
3RD
(E)
TP2mclh Epgrean
BASIC
NCS
BpsY
MAC
GATES/ALLEN/DAVIOUFF
6=5EP=64
03111
7247010722°V0100000BSLS
7248010725°0O0GAO0UT400°
7249©10724°vAB0ED010716°
MACKO
STRING
47(113)
03112
10=3EF=75
PAGE
2615
FUNCTIONS
39720
e
BASIC
F3
JmpSNGFLTFSNGFLT
RESULT
FNOUT:CALLSETIOJGETOUTWRD:OUT100RETJANDTHATSALL
WAITSUNTILTHE
7250
©10725%
001000
000315
010726°BGUGODV110AS*
©10727°400000010723°
©10730°Un1006PYRSRS
©10731°000000VEVLDV
0107320019000PUS1L
THE
WALT
RETURNED
AND THEN
TO
610735¢001000000315
V10734¢
©10735¢000GD
000000¥11003°
©010726°
©10736°
V10T31*401000
601000©LAS65
©0VU36
©10746°0000VD00ORQE
010742*
010743°001000
601000VB3]
©U@S1e
010741° 001000
0VOUSS
000GU0010745
©10746°0000000Qulovl00RS1T©10747°0G0ODDBUAUSH©10750°
©10751¢001000
00E00908515
P116ae’¥10752°0OUGV0210755¢001000QUO3DL40100
0107540010000003334120
010755000000VOOLREP10756¢
010757¢G010U0
0010000UBeSS
006240010760°
©10761°001000
BEOGUDV00312
©10754°G10762°000000010751°
001000
1T
BY CHANNEL# IS NON ZERD WHEN
ANDED WITH MASK, IF MASK2 IS
STATUS
XORED WITH MASK2
NOT PRESENT IT IS
ASSUMED
ZERO,
CALLSETIOJSET
PUSH
M1PSW
€0ISAVE THE MASK
JDEFAULT MASK2
oCcKH
CHRGET
Jz
P19744°
©10763°
BE
FNWAIT:
CHANNEL#,HASK,MASK2
READY
UP
FOR
WAIT
TO
ZERO
NOTTHRJSEE IF THE STATEMENT
FIF NO THIRD ARGUMENTENDED
SKIP THIS
IMAKE","
010753°
010734°
40060SYNCHK44PrLrT)CALLGETBYTSURETHERE1S
NUTTHR:POP]JREGETSTAINP:IN)JTHE40140
40160XRA
ANAE
8JXOR
JANDWITH
WITH40189JzSTAINPJLOOPUNTIL40200INOTE:THISLOOF
40220JUNLESSTHEWAIT
49240JZERO,
A
THEWAND"MASK
INPUTINSTK
010744°
PURS1Y
49260
ap280
MASK2
MASK
RESULT
HOWEVER
A
1S
NON-ZERO
CANNOT
IS
BE
BEING
KESTART
CONTROL=CED
DONE
AT
0
RET>
<
STRING,
IFN
49300FUSED
¥10764°0010000035340320PREAM:
0107657001000BL031140340©10766%0000000OBELS]
BY
RIGHTS
AND
LEFTS
FOR
XCHG
SYNCHK
BY
MIDS
PARAMETER
JPUT
")
FOR
PARAMETER
CHECKING
CHECKING
THE
JPARAM
TEXT
LIST
AND
AND
SETUP
PUINTER
SHOULD
40360JUSED©10767¢001000@LO30149380PREAM2TPOP[JGETRETURNADDR
010770201006V0032140409POP0JGETLENGTHOF
V10771001606BUO30S40420PUSHBFSAVE
IN
[H,L)
END
SETUP
RETURN
OFF
ARG
ADUR
STACK
OFF
BACK
STACK
ON
ON
IS
CHANNEL
OK,BASIC
MCS
F3
8080
MAC
GATES/ALLEN/DAVIDOFF
6=S5EPmbd
05311
STRING
7500w1B772°VBlvMLQUO1RS4p440
730)©10773°001000PUOVR44p460
7502©10774°volQVEQLLLAES4p4sQ
7304©10775°V01vVeVLRASVDae520
71503
T30S
©14776"
47(113)
03112
10=SEP=75
PAGE
26=16
FUNCTIONS
y
FSAVE
40500
010776°UPlLULWVBVOE3L
©10177°000wepQUAVRS
7308©11000°V010VeVeASE3
7309©11001°V00VPe002102°
1510®1100e*Q00ewwe010761°
EGUAL
40549E,ERRFC
40560ERROR>
MUSTNOT
751140560LENGTH=2,<40600JzFCERR71T
75134v6e0RET>75144649LENGTH,
<4v660CALLGETBYTJGET
7315©11003°dolene@ue31d
7516V11004°QpVURE©11L20°
7517©11005°0povbe©11001°
7518011906°0R1QVB0LOLGE
7319011007°Ppoeve910755°
732021101¢°0p20ND©110604°
7321©11011°0Bleve0blwvee
7322011p1e*Ppveve73230V119135°0poeop0l1iver’
73524©011914°2ploweVVBSYT
7325©11015°0p@eve©@VALSY
7326©11016°Q1000QLOLVUG
1521
©119017*0niledeoub3serT
911020°2pleve0VRS1S
75351011021°09000pQLS336*
7532@1102¢2°0dpvoew0livie*
@11024°
001000
901000
STAINP#]FSETUPOUTWRD+1FSETUP4p7e0SYNCHK44IMAKESURETHEREIS
40740XU100, 6>J"MVIB,"AROUNDTHE
407601FN
40780CHRGETIFELENGTH=2,
<
GETBYT:CALLFRMEVL
QVV34S40840CONINT:PUSHH
0COS15S40860CALLFRCINT
XCHG411025°Ap0pUeQU644Lwbgvpve©Vlivel’75370110276plpds©UB3534p8ee
1336011030*Vnlele©oB34)409ve
POP
40920IFNLENGTH=2,<754¢40940GETBYT:CALLFRMNUM
(A)
"WAITY
"OuT"
FREAD
49960CONINT:
734)
FORMULA
CALLPOSINT>JCONVERT
73542©11031°volevwwedl7240960MOVAO1SHOULD
7543501103¢*0plePe0Quoes?41000URAA¥SET
7544©110335"0010000LO3ve4102¢JINZFCERRJHASN®T
7345©11034°Q000000107/76"734601106357Vevoon011625°7347©11036°VE1eBY©BLVOLSS755¢011037°volove0Ove32741100CHRGET
73551011¢40°20100000O1TS41120MOV
71352P11041°0olvee0Qeostl41140RET>
7548
41040
4
41000
7349
41069
808¢
IN
GATES/ALLEN/DAVIDOUFF
6=S5EP=64
W33l
MAACRO
STRING
A
CUMMA
CHRGET
H>
7339
MAC
NUMBER
STRINGJLENGTH,
<
GTBYTC:408290©11pe26*
MLS
@
CHANNEL
STA7335
F3
BE
INTEGER
STA7336
BASIC
ZERO
407004800
7529
011023°¢
TO
@10731°
7330
7333
LENGTH
IF7312
7334
INIT
JSEE
4p536
75061507
7328
.
A
MACKD
47(113)
23312
PAGE
THEFAC,
ASINGLE
TO
BYTE
INTEGER
255
ERROR
FUNCTLIONSCANGET
FWITH(H,L)BUTNOTSERIOUS
CODESON
BAD
CONDITION
JRETURN
10=-SEF=7S
INTO
FAC
LT,
JACTUALLY
JSET
AE
THE
BE
cC*S
THE
RESULT
IN
HERE
TERMINATOR
(A]
AND
(E
5
.
26=17
FUNCTIONS
71353
411801F N
135541200i1356412027THE
755741204iA
1554
71558
41206
735941208
71560
41210
7561
7562
FUNCTION
BY
TAKES
A
TURN
CALLLENY100
JzZEROJRETURN
MOVEJGET
CALL
TERMINATOR
BEYOND
70 FLOATING
0p1090
000315
011043°0p0eAD010505°
7564V11044°Qp0pPVe011034°
7565©@11p45*opileveovesie
71366©11046°GR0RVEVROVRL*
7567©11047°GAVODY©11045°
INPUT
THE
41220
41240
41260
211050°Po1e0e0UO13741280JTHIS
0ploveWLRL4ES41309JT0
7572©11052*@eleve0oe3se7413207373©11053°01000Q@V140413540
41279
L
A
SETUP,
©11@51°
7570
BE
SUPPLIED
VAL
LENGTH
IS
STR
A
KLUDGE
THE
FACT
THE
STRINGS"i"AND"2"
JARESTOUREDNEXTTOEACH
’JANDFINJTHEFIRST10EApolevwBUR1S141360dniove0VOV31413607376©11056°0p1eewVL110641400JTHE
75717©11pS57°Vo100l0QLBl6e41420JSTRING
7378011060°0P10000QVO343414401379©11061°U01G00VVOS05S414607560011062°®A11063°00lpP0Wplpve0LO176414807562
75863011064°
©11065°0pAROY
0nVPVE006103
©110646°7584©11066°Vpluee0VVO3R)©11l067°*
011076°VE10BE
0nivboWVLOS4)
QUBLI6Y
L
118
IS
CALLED
TWELVE
IS
YU
BEYOND
BEING
STORE
THE
CALLED
ON
CHARACTEROF
FIRSTCHARACTEROF
415292JGETTHE41540JSTRING41560
41580JGET THE
JRESTORE41609
5
FTURN
IT
INTO
A
WUMBER
MODIFIED
INTU
CHARACTER
JIFSTRING41620JWEJTHIS IS WHYARE([MEMSIZ)
41660JSTRINGBECAUSE
41680JUSER
©011071°
0pluee
000311}
417v0
7354
1395
41740
IS
HIGHEST
MODIFYING
TOOK
NEXT
THE
STRING
FAC
OF
THE
NEXT
[B)
41640
7393
THE
ARGUMENT
IN
POINTEKR TO THE
THE CHARACTER
DATA
TO
RETURNED
IN
VAL
FIRSYT7391
7592
@
UNE
75906
1589
BE
JGET
M
OTHER
POINTING
WILL
JTHE
41500
IF
JTWO©11055°
7388
OF
NuLL
Hy0110547
7385
RESULT=REAL
IF
ALL
HANDLE
1574
0QLASL1S
SET
ZERO
LENGTH=2,
<
7375
7566
7587
INTO
ETC,,
MUST
STRING,
(FIN),
7371
7369
73561
IT
DIGITS,
AL:
CHARACTER
A
AND
i
THE
THAT
ASCII
KEFLACING
A
PROBLEM
THE
BY
MERELY
[HE
STRING
EXCEPT
IS
FOR
INTERPRETING
i
41212
011042°
7363
73568
STRING,
<
VAL
NUMBER
VAL
OFF
MODIFIED
IN
STRING
[MEMSIZ)
CHARACTER
SPACE
AND
CAN’T BE USED TO STORE
wHAT
THAT
IF
HIGH
THE
STRINGMUS
F3
6080
MAC
GATES/ALLEN/DAVIDUFF
beSEP=64
03111
7356
MACKO47(113)
FANCYLIST,DELETE,EDIT,LLIST
41760
73312
SUBTTL
10=SEP=75
FANCY
PAGE
27
LIST,DELETE,EDIT,LLIST
739141780759541800IFN739941820LLIST:AtJGET
740041840LISTHPRTFLG>
8JSAVE IN
JGET RID
SCNLINJSCAN
7401011072°valove0030l41860
7402011073°00i00006031541860
7403011074°00000002533°74040110757000000¥11064"7405
IFE
NON
ZERO
FSAVE
011076001080VO30S4190074¢6V110710010BOQD34141920POPJGETPOINTER
1110070100000032141940POPJGETMAX
7408
POINTER
01110170100000056741960PUSHHJPUSH7409011102001060@0017041980MoyJSEEIF011103¢0010000026l42000ORA7411011104¢@210000000142020POPJGETLINK741201110509100000031242040JzJLAST7413
7414011106
011107°PR00A0
00000E0b2145°
M116T4*42060LISTEN,
<7416
74170111107
@11111°601000
000UA0000315
003466°42080CALLJCHECKFOR
7418@11112°0ONO00G11106°741901111500100020050542100PUSHISAVELINK
74200111147B01008GCB36T42120PUSHMFPUSH7621©11115¢0olo0s00@30342140XTHLJGETLINE#
7422G11116°001000VG03542160XCHGJGETMAXLINE
7423011117°901000@u@s4T42180COMPAR7425011121001000U03342260Jcp1l12e7
011123°60000D
00000QU2144°
@11111°
7424
T42e
7427
7428
wi1120° 001000
000301
42200
POP
1ST
LINE
#OFF
LINE
STACK
END
OF
OFF
LINE,
CHAIN
STACK
FOR
CONTROL=C
BACK
LINE
ON
#
LAST
INTO
(ML)
IN
LINE
[H,L]
IN
RANGE?
FTEXT POINTER T0 (8,C)
STPROY
J1F
PAST,
THEN
LISTING,
011124°001000034342280XTHLJSAVE
MAX
V11125¢001000AUD3454e300PUSHJSAVE
LINK
©11126°
©11127°
©11130°
011131001000
001000
001060
000000060505
000553
000515
0U4525"42320
42340
42360PUSH
XCHG
CaLLJSAVE TEXT POINTER BACK
JGET LINE # IN
(H,L)
100 CRLF
TO START OUT
7434v11122°Bo0PW011135¢
6111347001000
00000060315
0U3Sblx
7438©11135¢0000N0©11131°
7439¢11136%00100000OLT6
76406111370000VO00@U4Y
7441011140°0010007442©11141°001000
7435
NU
LINERT
1%Apn
00E341POPH
WE
FPRINTASPACEAFTER
OCOS3/OUTCHR0GE31SCALLBUFLINFUNPACK
00006001116377445011144°000000011134°L1HyBUF =JPOINT
01000
00BL4L
011146°0200WG0U1430°
00OVO0911143°
BASIC
F3
MLS
8080
HAC
GATES/ALLEN/DAVIDUFF
6mSEP=64
05111
7449011150°8010000€0UCE
7450011151°B0G0AG0BOLEL
7451011152°601000DE9315
7452
7453©11155¢
011154°000000
0000RU267642’
011146°
7454©11155¢001000V0315
7455011156¢000000ALT146°
7456011157°0@0N00611153°
7457611160¢0010000UR30S
74580111617DAOVAG0116717
7455011162¢60GOVD0111567
74600111650016000UVLRL
061430°
83112
THE
STACK
LEADING
START
ZEROOMLY
LIST,DELETE,EDIT,LLIST42520w18,01STOP42seeCALLSTRLTSJLITERALIZE
42560CALLSTRPRTJFRINTOUT
anpLisT4JPRINTANOTHER
LXI8,8UF=1
THE
INTO
THE47(113)
BUFLIND
PAGE
AT
LINE
FANCY
42600
10=SEF=75
THE
MACKO
42560
STACK
LINE
OF
THE
UNPACKED
27=1
ON
THE
THE
LINE
STRING
CHARACTERS
LINE
7461011164°000VOR011165°000000@11161°7463011160°801000DUOL2EXD~01000,%026J"MVI
7464911167°010600LOSALPOPHJRESTORE
7465
7466
7467011170
U11171°
w11172¢001000
001000
001060008176
©0DUOS
@UAR6TMoV
INK
ORAAAJGET A CHARACTEK FROM LINE,
JADVANGE STUFF COUNT
F15 IT A RESERVED WORD
7468011175°001000V60L4SINXHJINCREMENT
7469©11174¢DAL0GGVOGDESTAX[}JSTURE
7470
7471011175¢
011176¢001000
@al00000031¢
000362Rz
I7472
7473011171
011200°000008
Gouobe0111707
01116477474©11201°001000V03T7475
7476
7477011202¢00B0W00L02200112037€pl0vp0UuS147478611204700000D0LOLD7479011205¢@0b0600111717480©11206°0010007461
7482011207¢
0112107483011211¢7484
74657467487
[}
D,"
AROUND
POINTER
A
POINTER
ZERO
If
ELSETKJIF
ITS
MELSE"
czOCXBRT##@L032642860sul127JGET
060eDR
0010000LG1TI
G0R34542860FUSH001080€000R142900LxI0/ RESLST011212
011215¢M00GVD
0000000UL1T2*
011204°Glle14?00100006032542920PUSHD©011215¢00109000036542940PUSHPsWJSAVE
7486011216¢A0l6000000342960LDAXDJGET
CHARACTER
746901121700100000002342980Inx0JBUNP
RESLST
RESCR1:
RID
JSAVE
JGET
7490©11226°001000©000Z6]43000ORAAJTEST
7491
7492d11221*
G11222*Guleoe
000BUN00G36E
011216°43020PRESCR1INOT
7493u11225*09000G11e12*7494011224700100000036143060POPPSH
7495
OF
SIGN
CURRRENT
RESLST
THE
RESERVED
END
OF
00GLTS43060DCRAJOECREMENTCHAR
00034143060PUPHiPOPSTARTPOINTER
001000
000OUD¥603Ge
biieid’43100INZRESRCHINOTAT7499
7560011231¢600000b11e2e"7561©11232¢
0VE1T6
43160PRITS:
MOV
A
COLON
ELIMINATE
AND
WORD
ADD
ONE
NUNBER
RESLST
KESERVED
001000
001060
THE
BITS
AT
001600
KESERVED
IT
PRINT
TO
FROM
©11226°
RIGHT
PRINT
POINTER
©11225¢
FOUND
TEXT
POSIT
w11227¢
0112307
WHEN
TEXT
POINTER,
7497
7498HERE
BYTE
OF
END
BIT
749645120
INTO
DON®T
JIN FRONT OF
1T
TBACKUP STUFF COUNT
NEXT
START
THE
42820
42840
RESKCH:
THE
TO
JZERO, END OF LINE,
JREGULAR CHAR, JUST
Pl
#
BUF
T462
42800
SPACE
v
001060
G11145¢
ON
WITHOUT
011143P11147°
(H,L]
INT011142°7448
WANT
OF
TOP
AS744376447
BOTTOM
ON
JPRINT7446
Tdle
ON
UONE
1429©1113ef
ISCNTC
STOP,
7430
7431
7432
74357436
7437
ADDR
LINK
JPAST
[}
TO
10
LINE
7016
ISCNTC>
RETURN
RANGE
7407
7415
VALUE
1/0 FLAG
OF NEWSTT
LINE
(Bentd Eumuns,
BASIC
END
OF
WORD
YET
HERE
KESLST
YET,
WORD
JGET
A
CHARACTER
FRUM
RESERVED
WORD
CHARACTERSMCS
BASIC
F3
808v
MAC
1502
w11235°
GATES/ALLEN/DAVIDUFF
6=SEP=64
Q1000
03311
VLee6T
MACROU47(113)
FANCYLIST,DELETE,EDLT,LLIST
45160ORA
A
B8
03:12
10@=SEP=7S
1563D11234°201090wLBPvEe45180STAX
7504v11235°*
v11236*UR1eveeveste43200JM
0eenow2111617*
71565
15¢6
v11237°*
VPOVeY
PAGE
272
CONDITION
QR1eve“w11241°Vo1eveAuRv4s45240INXw1124’JBUMPRESLSY
PeluneBvL3es435260JMP7510v11245°2000011232*JPRINTTHE
7511D11244°Qpveoe211236°RANGE
QvoKns
INX
43220
7512432607513433007514iTHE
43320}COMMAND,
71515435340PIs
751645360i43380DELETE :
7517
v11245*
7516
2n1620
9AVes1S
FOLLOWING
CODE
BEFORE
IS
THE
FORTHEDELETE
LINESAREDELETED,
T YPED,
CALLSCNLIN71SCAN
vllede’Vuene0w2333*vlle4r*A00pUe©V11e43*1520“11250°JnlovewvvpselPOP%)091008JPOF
011251°*
RANGE
©LR305PUSHBFSAVEPUINTER
va10veVLB3ILSCALLFNOLINVeR371°FFINDTHE
U11254°bpopnen11246°©v11255°
n11250*VpluvwGduesevl43460PUPBVP1008VLVB34SJGET43480PUSHHw11257°*JSAVE0R10V0PUAK4]l45500LXIHyREDDYJPRINTvi126u*20000VvB1725*wi1261°Vnvuvev11e53*w1126e*Yulvee0LLs1S435¢¢CALLSTROUT011265°0poNeNBTT43*01126470noPYewvl1260*H,FINL
Buinee
2p0p0n
PLAV4L)
00000p©v11265°
VR10vYVR34S
v11271°PR1eVeBVBSS53
v11272°*QploeewveoeusSe
w11275°
opbevy
011266°
Aulevy0VvoL3e
201000000V
011274°
XCHG3 (D,E)
LHLD
435640
MLOOP:
STAX
45680INX
oedues45700InNX
211301°901000VO34T43720COMPAR
ovesee43740JNC
JSHOVING
?1130e"*Unlvew011305°Do©11e75*“11304°Wevvon©112735°01130a5°PRloveQL164045700H,
8
iDONE
0VLA15143780L,C
211307°9n1veeQLovds45800M
vi1310°@p100eQulu4e45820VARTAD
011311°2p000eeo1621’*
8pBw
GATES/ALLEN/DAVIDOFF
6=SEP=64
93311
7555V11312’dphove011305
71556V11315°@plovnQuusil
MACKRO47(113)
FANLYLIST,CELETE,EOIT,LLIST
N35:12
RET>
43840
43860
PAGE
18T
LINE
TU
IN
THE
(B,C)
NEXT
LINE
wHENDOUNETHENEXTLINE
PQINTERTO
THE
THE
LINE
ONE
TO
VARTAB
LDAX
435660PLRLRSVplove
MAC
TO
HAVE
THIS
JCOMPACTIFYING
VARTAB
F1IRST
FINI
TO
NOW
JBEYOND
43620
Brive
MCS
TO
45580
BACK
OF
PREMATURELY
§(H,L)=POINTER
JGO
STACK
START
LINE
POINTER
"OK"
XTHLw11277°
Ap1eve
THE
LxI1b11300°
©v11306°
POINTER
43540
0eleel)’
VpApnevi1275*v11276°*
TO
LAST
455600
evecTe*
“11e617°vi1ete’
OFF
LINE
Ve
43600
71557
LINE
MAX
“11e5e*
w11265°
BASIL
*OK*
wilass*
211266°
F3
POINTER
REST
i
7519
7521
CODES
©V11230°
ASELTM75087509
7507
.
5
JSET
10=SEF=75
INEW
PAGE
27«3
DOWN
TO
ELIMINATE
A
LINE
COMPACTIFYING?
VARTAB
:
2BASLC
WLS
F3
BGAU
HaC
GATES/ALLEN/DAVIDOFF
6mSEP=64
05111
MACKU
DISK
47(113)
083112
10=SEP=75
PAGE
28
LOVE
43860SUBTTL
43900IFN
DISK
CODE
<
DSKFUN,
43920
iTHE
THE
439801ON
44pe0
4402¢j
i0SKLs (SECTOR) IS A STRING FUNCTION THAT
RETURNS THE 133 BYTE STRING STORED ON SECTOR,
43940
43960
STATEMENT DSKUS STRING,SECTUR WKITES
STRING (UP TO 132 DECIMAL CHARS
THE
449400
44060[} DSKOS:
CALLFRMEVLJEVALUATE
PUSHKISAVE
TEXT
44120CALLFRESTRJFREE
UP
44140
44160
44180XTHLGETBYT7 UH LYSTXTPTR SAVE POINTER AT
PSTRING DESCRIPTOR ON THE STACK
JEVALUATE 2ND ARG (SECTOR) IN (E]
SYNCHK
CALL
XTHLJSAVE
JIC)=LENGTH
PUSHHM44260POPHov
MVI
44340suB
44360Je
44380
44400
44429
44449
44460INR
MoV
n1
INR
nyl
SECLP:
44620
JLOAD
THE
HEAD
ouT
1IN
RARiTO DISK STATUS
JGET SECTOR STATUS
JTEST FUR START OF
ANT
cHpFSTART GF SECTOR, RIGHT
JCOMPARE TO FIND OUT
8
JNZJIF
M1JWRITE
ENABLE
JGET CHARACTER
FSEND IT OUT
JTEST FOR NULL
ZRLOPIN
ANA
Jz8
0
NOTYTDJPOLL
IMASK TEST
TWALTING
AMJGET
WRITOKZ
NOTYTDI
44880MOV44900out10
44920ek¢
7615
761645020
45040
7617
761645060
45080
761945100
762045120
762245160
45140
762345182
762445200
762745260
45220
45240
7628
7629
763045280
45300
45320
763145340
763245360
763445400
45380
763545420
7637
7038
7639
764045460
45460
45500
45520
47(113)
05312
10=SEP=75
JPUTZERO
INX
H
NOTYTO
ZRLOP:
TRUFIND
8
o
9
OUT
JUNLOAD
A
THE HEAD
JDONE
DSKIS:
A137
STRINI7A LOT OF CHARACTERS
FMAKE ROOM
DSCTHP+2
A4JSECTOR NOW IN (E]
JPLACE TO STORE THEN
0AD THE HEAD
CONINT
SECLP2:
iWHERE
ARE
7SEE
71F
KEEP
SECTOR
JGET SECTOR #
AJREADY
TO READ
cJLESS CHARS
765145740
7652
7653
45780
SECTOR(READ)
#
BYTE
THE STUFF
IN STR
DEST POINTER
KEADOK
45700
4720
45760
OF
WAITING
PIS IT THE ONE WE WANTED
RY TO FIND IT
JGET # OF CHARS TO READ
ET DISK STATUS
JREAD
ISAVE
JBUMP
45680
INFO
BEGINNING
63
3
SECLP2
€137
8
READOK:
IF
NOT,
IX UP
ARE COMING
THEY?
JGET SECTOR
10
oA
H45660
COUNT
28=1
KEADOK45640
WRITE
CHARACTER
45580
45600
456207648
FIRST
CHARACTER
455607646
TO
WRITTEN
JOECREMENT76427647
ALWAYS
CODE
456440
45540
PAGE
ONE’S
7643
7644
7645
7649
7650
DISK
A8
10
c44980
45000
ONE
NOT
Jz44960
SECTOR
JKEEP WAITING
"oy
out
DCR44940
7641
INUMBER OF ZEROS+1
FSETUP A MASK
44800
DISK
(8]
c
44740
44760
44780
MACKO
DESC,
POINTER
INTO
[7611
7636
T0O LONG
JGET STATUS
IWRITE 0K
0, MOKE LOOPING,
7613
7614
7633
NUMBER
JSTRINGFALL
7612
7625
7626
JSECTORIN
ANA
iz
44820
44840
44860
GET
[H, L] =POINTER
STKING
M1
44680
44700
aareo
7021
POINTER,
GET
out
44660
03111
’
JINC
44640
6=SEP=64
FACLO
POP
4430044320
44600
GATES/ALLEN/DAVIDUFF
TEXT
§1H,L)
COMMA
POINTER
PUSHH
44560
44580
8UBU
BY
THE
44240
44540
Hac
FORMULA
JFOLLOMED
44220
44480
44500
44520
MCS
44
44200
44260
F3
SPECIFIED,
44100
44080
BASIC
SECTOK
PATCH:
PAGE
A8
out
JHP9
FINBCK
BLOCK20>
JUNLOAD
JUSE
HEAD
CHRS TO FINISH
UPBASIC
F3
MCS
808U
HAC
GATES/ALLEN/DAVIDUFF
6=SEP=64
05111
HACKO
47(113)
03312
10=5EF=75
PAGE
29
CLOAD,
CSAVE , CONSOLE
45800SUBTTL
4ss207
CLOAD,CSAVE,CONSOLE
45840THE
45860
45860
45900THAT
THE USER TERMINAL IS ON, BY GIVING THE COMMAND CONSOLE X
WHEKE X IS SOME INTEGER THE
TERNINAL DEVICE WILL BE POLLED FROM
CHANNELS X AND X+1, RESTARTING AT LOCATION ZEKO FURCES THE TERMINAL
45920
TO
CONSOLE
BE
ON
COMMAND
CHANNEL
ALLOWS
ZEKO
THE
USER
TO
CHANGE
THE
1/0
CHANNEL
AGAIN,
45940
<
CONSSH,
IFN
INTERNAL
CONSDO: XKA
46020
46040
46060
46080CONSOLI
46108
46120CONS23
IFN
46140
CONSDO
AJFORCE
CALLCONS2JON
JnpREADYTYPE
CALL
RNZGETBYTGFFETCH
JCHECK
<
REALIU,
46160
s5TACNLCAL
CNLCA3>
sTA
A
CHANNEL
RESTART
"OK®
<
LENGTH,46220
46240STA
INRCNLCAG>
A7 1AJDATA
46260STACNLCBYTCHANGE
46260514T
46300
CONSOLE
ACCEPT
INPUT
INPUT
ALL
CHANNEL
THE
DATA
INPUT
CHANNEL
REFERENCES
RET>
46320IFN
46340f
46360
46380
ZERO
ZERO
JCHANGE ALL THE FLAG INPUT CHANNEL REFERENCES
STACNLCAZ46200
461060
AT
AND
AN INTEGER INTO (A]
FOR A TERMINATOR
7
j
46400
CASSH,
<
CASIN READS A CHARACTER FROM THE CASSETTE
INTO (A) WITHOUT MODIFYING ANYTHING BUT [A)
AND
THE
CONDITION
CODES
46420)
4644@
46460(] CASING
IN
ANT6
1DONE
46480JNZCASIN
46500N7
46520
JROUTINE TO READ A
JFROM THE CASSETTE
JREAD
THE
CHARACTER
INTO (A
DATA
RET
46540
46560§CASOUT
46580§WITHOUT
OUTPUTS
THE
MODIFYING
CHARACTER
IN
[A)
TO
THE
CASSETTE
ANYTHING
46600
46620TWOCSO:CALLCASOUTJUOUBLE
46640
46660CASOUT:
CASLK:PUSH
INPSW
6JROUTINE 1O WRITE A
JONTO THE CASSETTE
ANTQUONE46700NzCASLKJWALT
46720POPPShJGET
46740
46760ouT
RET7JOUTPUT
46680
OUT
TILL
THE
OF
[A)
CHARACTER
CASSETTE
CHARACTER
THE
IS
IN
(A)
READY
BACK
CHARACTER
46780
BASIC
MCS
60BU
MAC
F3
GATES/ALLEN/DAVIOUFF
b=SEPm64
03111
46800THE
46820
46840BASICS CORE, THE HEADER IS THREE 21175 FOLLOWED BY A ONE
CHARACTER FILE NAME, THE END IS THREE ZEROS IN A ROW,
MACKO
CSAVE
47(113)
93112
CUMMAND
WKITES
10=SEP=75
PAGE
A
PRUGRAM ONTO
CASSETTE
29=1
710746860770846880PUSHK46900
46920
46940nI
CALL
CALLAp211
CASOUT
THOCSOJPUT
ITWOOUT THE START
MORE TIMES.
771246960HoyANJGETFILENAME
771346980CALLCASOUT7STORE
AFTER
771047000LHLDTXTTADISTART
OF
711547020XCHG771647040LHLDVARTABJEND OF
771841080Inx0711947100CALLCASOUT712247160cALL112447200CHRGET
7120
7121
7723
7725
47060
CSAVE:
LOPCSO:
47120
41109
LDAX
POP
4reee
4724047266j
713047320j BASIC FINI
7731
7138
47340
47360
7133
7734
713547380
47400
47420
713747460
7136
7738
7139
7140
7741
7762
7143
7744
7745
7746
7147
7748
47440
THE
§
3FROM
WILL
7AT
CLOAD
CLOAD:
LOPCLK:
LOPCL2:
STA
CALL
MVI
CALL
CcPI
INZ
DCR
INZ
LXI
CALL
47580
CHP
A
JSEND
211°¢S
PROGRAM
PROGRAM
BYTE
IT
BYTES
FROM
OUT
TO
THE
THE
PROGRAM
CASSETTE
LUPCSOITHE END?
7IF NOT,QUTPUTMORE
THOCSOFTHU WOKE @STO MARK
n
COMMAND CLEARS
CASSETTE, SINCE
BE WRONG IF THE
@ WON'T
47480
47500
47520
47540
47560
IS JUMPED
LEAVE
CORE
THETEXT
160PASTTHEFILE NAME
ANDTHEN READS
THE LINKS OF THE FILE
FILE WAS SAVED WITH A
IN
A
GAKBAGE
PUINTER
END
A PROGRAM
ON CASSETTE
DIFFERENT VERSION OF
TO, A SCRATCH IS DONE AT
THINGS
THE
JRESTORE
STATE,
THE START SO RESTARTS
FACLO
SCRTCH
8,3ISAVE THE FILENAME
TRESET EVERYTHING
INUMBER OF START CHARACTERS
211ISTART CHARACTER?
CASIN
LUPCLK
3
LoPCL2
Ry FACLO
CASIN
"
DOCSMR:
JTHE
RIGHT
FILE?
SOME
CALLCASIN47700MOVoAJSTORE
ar720
41740CALL
MOVREASON
ApMJMAKE SURE
JREGET THE
7752
7753
775447760
47780
47808ORA
INX
INZA
H
DUCKSTA
7755
115647820
47842UCR
INZB
DOCSMRJDECREMENT NUMBER
JSEEN FOUR?
ISETUP
END
775647880[H/REDDYFTYPE
"OK"
47900
LOPCLK
TXTTAB
8,4
CHARACTER
7150
7751
7759
Nz
LKLD
MVI
A
INO, RESET COUNT AND LOOK
FDECREMENT THE COUNT
ISEEN THREE YET?
FPOINT AT THE FILENAME
JREAD THIS FILENAME
7749
47860
DOCKS:
JGET
71F NOT,START COMPLETELY OVER
JPLACE TO STORE THE PROGRAM
INUMBER OF ZEROS TO GET
JBEFORE STOPPING
JGET A CHARACTER
7757
47600
47620
47640
47660
47680
JGET
RET
7726
47260
47360
O
COMPAK
INZ
47180
7121
7126
7129
DUMPING
CLOAD,
CSAVE , CONSOLE
7109
7710
7711
7717
BY
SHLD
CALL
VARTAB
STROUT
IT
THERE IS ROOM
CHARACTER
2ERO?
JRESET
#
OF
ZEROS SEEN
OF
OF
ZEROS
PROGRAM
PREMATURELY
MORE
ToRwclt Eusriar,
45960
45980
46000BASIC
MLS
F3
B¢80
GATES/ALLEN/DAVIDOFF
.
6=SEP=64
03311
HACRO
47(113)
03312
10=SEP=75
PAGE
29=2
CLOAD,CSAVE,CONSOLE
776¢47929
7176147940
JMP
FINI>
JFIX
UP
THE
LINKS
AND
GO
BACK
TO
MAIN
PAGE
~ I
e
eS
§:
LE:
N
5- 4
..
i
o
2
LJ
®
BASIL
MLS
F3
8pBY
GATES/ALLEN/DAVIOUFF
MAC
6=SEP=64
V3311
7162
MACKO
PEEK
47960
7763
7764
7765©113514°0nluve0QLB315
7766011315Vpooed©lle2d5w
7767©11316°7768
7769©011317'Vp0evn
vplovved0113511°
wuol7e
1770
1171
1772©11320*vnlewy
7717301132177174
BLO30S
V000VeWBUT4g0*
©11322°Q0V0ve©11315°
77176
7777©11323°
©011324°001000
Qp00ve0DUA3LS
pOS5336°
1778©11325°Vo0evw©11321°
7779©@11326°
1775
P01¢W0
47(113)
ANL
05312
10=SEF=75
PAGE
30
PUKE
SUBTTL
PEEK
AND
PUKE
47980LENGTH,
<
48000LENGTH=2,<
48020CALL
48040
4806045080
46100
FRCINT
JGET
AN
INTEGER
MOV
Ayh>
LENGTH=g,
<JGET
THE
VALUE
CALL
LDAXPOSINT
D>JGET THE VALUE OF
IREAD THE YALUE
48120JMPSNGFLYJAND
48149LENGTH=2,
<48160CALLFRMEVLFLOAT1T
THETEXT
0BLVOS4S46180PUSHHJSAVE7760011327volveeQUO31548200CALLFRCINTJGETINTEGER
7781©11330°7782©11331°V000N
PpbobeP11315%
©113524°7783
7184“1133¢*001000QUOS4S482w
48240XTHL>
LENGTH=2,<JGETBACK
©11333°001000000317011334°QpURUe011336°
7785
7186
7787
77868
CALLINTIORJREADLOCATION
FUSH0>}SAVETHE
SYNCHK44JCHECKGETBYTPpo0R0©11uev’48320CalLlppbove©11330°0cw32l48340POPJGET
7793@11341°001000@OQLe2e48360STAXJSTORE
77194©11342°d010000W0RS1148380RET>FSCANNED
008315
48400iiNOTE:IN
7197484407POKEWILL
1798648460iFUDGING
46529END
7796
48420
71799
T80¢
V11336"*
7601
NO
ERROUKS
PROGRAM
10K
CORE
DETECTED
BREAK
USED
15
©11343
INTO
(D,E)
POINTER
UF
10
FAC
IN
(H,L)
POINTER
A
PUKE
COMMA
BeBLS4
0Uplove
17195
FACLO
LOCATJON
FOR
©113371°
0plpue
RETURN
TEXT
48260©11335°
v11340°
THE
483007791
7792
TO
(HW,L
VALUE
482807769
7790
IN
48480
48500
i
Ll=z.P
THE
8K
ONLY
PEEK
TAKE
ALLUWED,
THE
UNLY
AN
ACCEPTS
AQDRESS
VALUE
1S
UP
THE
IT
ADUDRESS
BACK
AwAY
EVERYTHING
POSITIVENUMBERS
TO,
32767
UNSIGNEOD,
NO
UP
TO
32767MLS
BpPBY
MAC
GATES/ALLEN/DAVIODUFF
6=SEP=b4
Anpeeat
ABS0AB1AT*
AFFFwpo1ng
ALLLSYeessar
295571"*
053111
EXT
203114SINDCOMP©vo0702*EXT
SINDCXBRT©211204°EXT
SINbolyvveo700*EXT
203303°SINOEFnoT411*CNLCBe@03136°*SPDDELa11271"CNICCN
0B1654°CNTWFL
ARYSTRwe177°CUMPR1
op1623°*
ASC
we3124°* SPD
Q03465°
201541°
ov2705*
CONLA006405°* EXT
004553°
DELETE011245°
DFACLO001633
DIMCON0e6473"
DIM
206500"
DIMFLG
po1542*
CONINTCUNSIHo6R4yOMULT010515°CONSSH200000ONTCPY0e4e17*
op0137°*CUNTwW200017DOCOND006375
004354°
wo4eee6’
vpae27"’
ATNFIX2pn)137°
Q11023°*
007521
w10140°
CUNT
CUNTRM
Q03542°
200001
CUPNUN
DIRI1S
203524"*
Qooe76"
DOASIG
DUCMP
no4237°*
005056°
DODSP
PpS756*
ATNTK200300-08000131°DOMINpe6146"°
BVOBVBYU8Qua131*DUNMULoe7326*
BLTLOPnPen13’000815DURES001544°
Quers3’DSCTMPo1570*
004534
202533°DSKFUN
osus0000020
Quee74°
006345°DVRERR0e2075"
woeoneOVARS210214°
BLTU2p2rus’5
BLTUCwpeulo’”
BOTCON
BRKTXT)
0e4523°*
A
5
-
:
ap3703*
o443’
CLMwID
BASIL
F3
DOSIZT
ae1607°*
002316°*
DVAR
OVAR2
808U
MAC
010214°
010213*
onee72*
P06457"E
EATEM000003
006535°
Qo472
oencnsEDIT
ELSE(ITCEEM
@p4974*
ENDREL20S415°*
ELSETK
END
ENDCONDATPTR2p1627°ENDTK000200
DATSNE002064EQULTK(L LELY)
veLDSKovve7e’ERRBS
ERRCNQe0011l
20021
ERRDIK0a7532°
ERRDVOQ00013
205163°
Qpoule
MLS
o421
00S825"*
P0RS166*
PB1577°*
DATLOP
3
INT
COLIS
ODEFFIN
v101357°ASPAR
ASPAC
ATN
31
A03461°*905642
ARYVAR
PAGE
2p3127°*ARG
ARYVAR
10=5EFP=75
CNLCA4
CNLCBL
0p1645°*
23312
CNLCA3APPLUP
ARYTAB
TABLE
CNLCAE10570
ARGLU
47(113)
SYMBOLCNLCALALLSTR
ANDUKD
MACKO
Qove2e
203474"
Pp3501°*
ERRDOD
GATES/ALLEN/DAVIDOUFF
b=SEP=b4
05311
MACKO47(113)
SYMBOLTABLE
veeele
ERRFC
ERRFIN000005
ep21271°*
EKRID000014
ERRLSQeve17
ERRNFwR0ovoL
ERROD000004
9531210=SEP=75
PAGE
3
31=1
ERROMeppea7SPDFPUWRQenuneEXTINCHR203126"
ERRKG
ERRSNPe0ee3
Qp@ew2SFD
SPDFRCINT
FRCSNG011330°*
207506°EXT
EXTINIY
INLIN0p2163"
ve2176*
ERRSU
ERRSTopeele
vpevenSPD
SFDFRCSTK
FRCTBL200000
Q00664 "EXTINLINC
INLINN003003*
ae2r72*
ERRTH
ERRUF0p0u1S
duveeeSIN
SPDFREFAL
FRESTK010434°
010431INPCON
INPCON0e4157*
004765
ERRUK
ERRUV
ERRTAB
ERRUS
vp2192°
vpopne
vee730°
voupin
INT
SIN
SFD
FPWRU
FrCOBL
FRE
FRETMe
Qu5562*
veS751°*
EXT
EXT
INDLOP
INEG
Q07337°*INLPNM
210437°INPRT
206754"*
Q00000
veres2*
292141
EVALnp6p61*FRETMP210440INPUT004711
EXIGNTwpS14e*FRMCHKQ05337°*INRART000000
FSuUB000706"
EXCHOT
vna10e*
EXPeav127°
EXTFNCLLLTTEY
FACUBL
FACLO
FACSNGonS775°
001637°
006034*
EXPSTK
FAC
FADD
FADLS
FALSIF
FRETOP
FRMEVL
ve5553°
FUNCTS
ve1642°
FUNDSF
GARBAZ
GARBAG
GETAGN
©ROT704"
GETBCL
0p5260°
GETBYT
204363°
GETDEF
2015753°
INPWRD
005336°
INT
INTDSP
Q00en1INTIDR
a10042°
210026°
oearay”INTXT
INXHRT
ISARY
000103°*
INTIOX
0e7752*
ISCNTC
011020°
ISFUN
poT245"
1560Su
010720°
00000
000716
B0362%"
Q3622
op1720°
P02664"
0p6745"*
2p3460"*
006204°
004306
FBUFFR9n1655°GETFNM207550°ISIGNCLLTET)
FCERR010776°GETSPAeer772*ISLET3612’
opeT12’GETYPE006307IsuBoewr20"
oes5eT4"
GETSTK
011064
GIVDBL
10546
GIVINT
v02024*
ISSEC
oersre’
ISVAR
on7492*KLOOP
206534°
206164
PV2544*
opeeTe’
veeare’GUNE
GUNER003370"
003376L
LABBCK200005
006162°
Pe7331"
opeT42”Guopch
6USUBv03044°
003770LEFTS
LEFT2010552*
210560
B6R4as16”’
GUNE3
003375°
0p5605°GOSUTK00014
Qo000GRBPAS010254
BusS544°
vol1602°
6OT0
GOTOTK
0eoBBe
GREATK
opnT10*
ou1744”
veesr’
GTBYTL
H
oT44s”
e10712°
v10725°*
Vw43
1F
007565°*
0paT24"
200enl
np4325°
ou3e67*
vp3154°
[LELE M
011017°
VaVoY
oueS74*
anaree*
e
010733°
00201
avees?
200716*
-0
w1004s5°*
on4010°
vee1p
00vele
)
010776
ImuLT
Quvize*
LASNUM
P
0003026
LEFT3010556*
LENGTH200002
LEN
LENY
LEPSKFP
e
F3
[Pewcig §~/4Lgn 7
BASIC
710501
010505°*
ne2117°8pBU
MAC
GATES/ALLEN/DAVIDUFF
h=SEP=64
03311
47(113)
SYMBUL1ABLE
©3i12
10=5EP=75
PAGE
31-2
MUVRM910@154°EXTOMERR@02057*
LINCHK004475°MULDIM200001SPOONELIN202365
LINGTZVp3643°NEGQ0000EXTONGOTO204271*
LET
Ve4131°
LINGET
HOVSTR
Vp3642’
219417°*
MUSTCR
av2e17°*
ONEFUN
Qeoeee
ONEOUN
va3265°*
LINLENvee11eNEWCHR004407OPRTYP@01544°
LINPTY0p3103°NEXTCwes5e30°*OUTBEL003061*
LINLIN
LINPRT
opeire4a’
011134°
NEASTT
NEXT
vo3sne’
ousSees”’
OPTAB
ORFIN
200163*
P06463*
LINPTZVu3s74°NFERRa02100°QUTCONQo3065*
LIST
L1ST4011072°
011077°NMREL
NODATI202003
a02716*PARCHK
PEEK206136"
211314"
PpeonlNODELQuaeer’PLOOPa11170°
vuesrarNUSEC206547°op1758°NOTDIM
LINPTS
LINPT4
vo4aT4’
0p4557°
NMARY 1
NMARYe
epa1es”’
LOOPON
LOPDTR
LOPFDA
2e71051°
007050
NOPRIN
wpS3z20°
ouTDO
OUTKWRD
vu3113°
NUTABK
ep4asnr”’
Bua773*
oBTO1S*
200030
010730
5
20050
011323°
Q04637
001774°
vor152*
NOTER
NOTFDUL
NUTFNSave41e*
warie4°
ovee71"*
060000
207406"
a10024"
010764°
5
LUPFNDV6623’NOTFRFneeeT2’LOPPTA0p7135°NOTITY006660°*LOPREL0p5363°NOTLST210477°]
LPOPER6e5341°Sette woNUTOLhoret003176°bevileNOTETLnin
weoee?NOTTHKv10753°*NOTTKQ00246
LPTLEN
re
LPTSKop0eRe
MvpRBBe
MAIN02165
MAKINT007404°
M10$%v166e43°
LSTOUPK
MEMSIZ
S
Pp154s5°
Mibe
vevest
011275°
MORLINQp3646"*
NUTSTV
NUTTKL203367°
NUWGE T205053°
NTHIS002736°
Q00046 "
vu3ses’
NUMINSaesere*
NUMCHMU
NUMGF N
NUMLEVQveees
000000EXTNUMREL205476"
005253°EXTNUMTMP200005
MOVFR0p5746°EXTNUTPOS00070
MOVINS010407HOVLP010420°NXTRES2026025°
MOVMF00T476°EXTUUUNEQ0vgedw
MOVKFQu6p44*EXTUKGOTVQ04346
OKNORM006251°
F3
M Al
NXTCON
vuie11”
0v1613*
6=SEP=b4
05311
©v20000SNGLO
YT
0p2145*SNGUSP
SNGFL1
noReRe
200000
006R36"*
ue0100*
ep7524°
L
eer70S*
op4e6y’
vpovee
Qv2s2e’
200000
MACRO47(113)
SYMBOLTABLE
25312
10=SEP=75
PAGE
3
31=3
206026*TABER204577°*
Quara4’
00T400"TABTK
TANQpdc4e
000135
o00e4eTEMP201603"
000121°TEMP2201605*
5200121°TEMP3021575
3Q0e2n)TEMPEQo7124°
210754°TEMPPT201547
200000*TEMPST201551"
P0d2470as5725°THENTKTMERR000e4s
v02470°TUFF003605
REALIO[T LT3REODYep1725°REDINP004136°REMw4074’REMEKP04103°REMTK0e0eleREPINIV2162’RESCR1v11216°RESFIN
RESLST0e3453°
Qav17e’>Qu1615*
000564 °200035
200241
RESRCH211214°3vo3are’001631"
RETAOP
RETURN005354°
Vp4gaa’
210631
2p0123°
vo0123°]
REASON
REPOUT
RESER
RESTOR
Pp2045°*
bpap32”’
D
206505"
nees12°*
003276°
OLOLINREAL
READY
g
5
>
OLOTXTRAMBOT
-
5
>
[
Goeeer”’
d03446"
5
ee4pn7*
ope421*
woeest
005703°
203604
T
ees5111"
Ppabas’
0eT174*
op3126*
003113°
5
5
B06320°
;
000000
207601°
00S5357°
00s5e17*
C
>
00000}
004507
00000}
201625°*
on3pTe*
007665"
opeuee’
vo4e16’
007646°
va5750"
200135*
Qu4e67"
Qu214a’
007564°
002716*
QuTe32*
Qu7627*
RC
J
0pR333°
TANFIX
Qu3s500°
X TET
0v2437"
0000206
Que021*
R
NG
5
200047°
LT3210063"
11003°0e7624°Qv1617"
©p6373°00T640"
0eu103*
dreese’
v00RsSs*
@e7637°*
QV7643"*
DBT642*
200133°ee2rar’
24365’007743"
0en133°*
¢10130°
o971322°
Qere67"*
Q04037°*
Q00244
5
000111
p11042*
ooT742*
5
F
voenre*
0e5743°
000000
;
007755°
AvT7746"
200000
001543°
Qe1621*
Q0003
w02667"
Q001925°*
@esT17°*
001601
eer724"
010102°
TABENU
000000
a10077°
002653*
A
26
ep6R00°*
BR4264"
ve6160"
205536"
204347"
j
3
d04537°*
200040
000051
vo4a1p*
GATES/ALLEN/DAVIOUFF
211167°*
2var4e’
NULCNT
NULLMOVFM
808U
200e3)
000006
P0S5214°
MOVE
MCS
204414°
211232°* Thed
Fit
S
MORPR
BASIC
210767
004411
005360°
NIHIS1
opeeee’
0n4s566°
¢
Q04735°*
pig
NUWLIN
010665°
MINUTK
MLOUP
MLOCPR
MORCOM
2
MACROwpaesl
-
MUS
LESSTK
[0@wlh Esrian
BASIC
F3
EXT
:BASIC
F3
ZERITA
ZERO
MCS
8p8¢
MAC
GATES/AL LEN/DAVIDUOFF
6=SEP=6 4
v3i1
MACRO47(113)
SYMBOLTABLE
03312
10=SEP=75
PAGE
31=4
opr207*
211046°
ZEROER0p6T723"
$CODE00ApR0°*
EXT
INT
oh
2‘RB
.9]
- 3
-
:
&
st
2
.
.
791
1978
e3en
2528
2979
3ges
3623
4980
4555
4911
5379
5490
5942
6269
6659
70714
Tee7
1768
904
986
993
1005
1027
1049
1eve#
1e17¢#
1234
12488
1265¢#
1262#
1299#
1316¢#
1333#
1350#
13648
1381%
1398%
1411
1429#
1447#
1464%
1481#
1498#
1512#
1530#
1548%
1562#
1722#%
400e#
42744
ALLLST
2115#
ALLSTRT137#
ANDORD4752#APPLOP
4ge1#
ARG
16898
ARGLO1688#
ARYSTR6820
ARYTABeeead
ARYVAR6795
b772%
ToB1e
397¢2#
3973%
931#
931#
S5een
888
1985
2437
2955
3557
4318
4714
4807
5356
Se76
6054
6196
i
HEHE OBE OBE HG on omm om own oamoam oan oan oon
Tv2s
7433
71301
7449
BLTLOP
we
8LTUL
BLTUC
BOTCON
BRKTXT
ine we
-
2026
3p47
BSERR
BUF
BUFLEN
BUFLIN
BUFMIN
c
.
.
CHRCON
CHRGTR
CLEAR
CLEARC
CLMWID
CNLCAYL
CNLCa2
CNLCA3
CNLCAd
CNLCEY
CNLCB?
CNTCCN
1889
CNTwFL
COLIS
COMFRY
CONIA
CONINT
7107
CONS1H
CONSSw
CONT
CONTRW
1o#
1117
2262
144
2595
ebde
3040
924
139
1207
155
CROONE2314
CRFIN3869
CRUNCH1976
CSLOUP5370%
CURLIN136
CZLOOuP20T9%
)
2bid4
3918
828
2vB1
2394
2898
3294
3729
4553
4g4e
5480
9655
bp20
6501
6995
7485
DADL
47159
OATA1064
DATATK
.
16068
DANDOR
9B8#
DATBE4135
DATFND4302#
.
ToRwilp EuaLean:
.
6647
6648DATLIN1624%
DATLOPa4
DATPTK
167¢¥#
DATSNE186064
DBLUSP1145%
Dcomp168#
DCXBRY
DDIV
161#
160%
VEF1114
DEFFIN6337
DEL1994
DELETE1125
DFACLOD
170
DIM10686
DIMCOND491¢
DIMFLG1590#
DIRIS3pes
47084891
S6775965
OMULT
ONTCPY
DOASIG
D0CMP
DOCUND
DODSP
6190#
DORES2318
DOSIZT
marin
DSCimp
DSKFUN
osus
"i
:]
HH
-
6579
995
OVOERR
OVAKR
DVARE
DVARS
1857
3cee
5378
6408
7e8e
5569
3125
4566%
2936
6330
ERRDVR
.
.
ERRF(
ERRFIN
ERRID
ERRLS
ERRNF
ERRUL
ERROM
ERROK
16838
30715
3343
33654315596959886375
10291049105050625064
47984870494549875103
643066066692
516654476585
ERRUV
ERRRG
ERRSN
ERRSO
ERRSTY
ERRTAB
ERRTM
ERRUF
ERRUS
EVAL
EXCHGT
EXIGNT
EXP
EXPSTK
EXTFNC
FAC
FACUBL
FACLC
FACSNG
FADD
FADUS
FALSIF
FBUFFR
FCERR3155
FCOMP44g1
T1506%
FDIV
FIN
Skob
FINDCK
FINGO
FINIL
FNDF OR
FNOLIN
FNDUER
FNDVAR
7534
738¢
7345
TPewmcdh BuALan
-
DONMUL
.
DOMIN
iFNINF
72398
FNOUT7251#
FNTK5049
FNWALT1263#
FORCAEIE)
FORTK1743
FOUND
Four
Ss0e
FPWR
FPWRG4739¢
FRCOBL,1134
FRCINT7484754
FRCSNG11384733
FRCSTR
3552
6209%
6470
Telran
Tueo®
5359716716168666866813783451025056
15414u644071
6707
4511#
3146
1157¢#
GARBAZ6700#%
GARBAG
Toemiip EML»,_Q T
5214
e
999
FUNDSP
6688#
GETAGN
GETBCUL
GETBYT
GETUEF
6630
3585
6345
GETSPA6545
7141
27594515
GETYPE37925108
GIVOBLLELEES
GETSTK
73308
1208
b1357#
GETFNM
GIVINT
GONE2680
GONE23601
GONES3105
GOOLCH
2519#
GOSuB3z280#
GOSUTK3292
GOTO3303
GOTOTK
3595
GRBPAS6869¢#
GREATK4540
GTBYTC7328%
H
790885
1626
cude1894
20617
21622190
-
s;
6154
6366
6423
6675
6829
6886
6977
7156
7482
HAVTYP5594
1ADU
ICOmMP
101V1165
1173
I00NE2633
IF3616%
11
IFORDN
3419
06
1169
ebebw
5901
134
ee7r9
2uase
es1e
6165
42v9
INPCON
4u9e¥
INPRT19¢6
INPUT4u3e#
INPWRD
T245%
INRART
INT
INTDSP
4859
INTID23211
INTIOX58865
INTXT17048
INXHRT2388
ISARYS5875#
esel
253e6ISCNTC1417
ISFUN5120#
I1SGOSU3597¢#
ISIGN
ISLeT5005
ISSEC5559#
1167
1suB
ISVAKS0B8#
KLOuUPe415
L
17543071
Seed5486
62696849
7152
LABBCK5210
LASNUM5128
71235#
LEFTS
LEFTe
7181
LENT063%
LEN]Tu8e
.
FEEEEEUEREREEE
Bi
dw
Mn
ve
meME
517543304
de
me
ame
se
al
am
ate
ae
-
LENGTH
ToRwil
A EVALLAT:
.
7215
LEFTS
- &
LEPSKP
LESSTK
LET
LINCHK
LINGET
LINGTZ
3912
LINLEN
LINLIN
LINPKY
LINPTY
LINPTZ2
LINPTS
LINPT4
LIST
G
LIST4
LISTEN
:
2854
LOG
Loo¥
LOOFDN
LOOPER
LOOPON
LOPDTR2
LOPFDA
LOPFND
LOPPTA
LOPREL
LPOPER
LPTLEN
LPTSHK
LSTUFK
M
MAIN
MAKINT
MEMS12Z
MIvs
MIDe
MINUTK
MLOOP
MLOOPR
MORCOM
MORLIN
MORPK
MOVE
MOVFH
MOVFk
MOVINS
MOVLP
MOVHF
MOVKF
MOVKM
MOVSTR
MULDIM
1USTCR
EG
NEWCHR
NEWSTT
3550NEXT4361
¥
NEXTC446
NFERK4387
NMARY )5953#
NMARY 25952#
NMREL
4546
NODATT
ed11e
NODEL
NOPKIN
ee19
S571¢#
NOSEC
NOTABR3921
NOTOIM662
NOTERS431#
NOTFDD6015%
NOTFNS
Se73¢#
NOTFRF5208#
NOTITY5652
NOTLST
NOTOL
3981#%
TuST#
27157%
2
NOTETI
4p63H
NOTSTV
NOTTHR
F
7279%
NOTTKS¢34
NOTTRC2geew
NOWGET419e6#
2u3se
eadp
3p98
NULCNT
NULL30858
NUMCMD2938
NUMGFNS130
NUMINS
owt
NUMKREL
NUMLEYV
NUMTHMP
ser
- IE
1849
119%
3915
NXTCON4aae
NXTRES
2370
ODONE
2
2617
0KGUTO3ob2#
OKNORMS5182#%
OLOLIN
OLOTXTY303y
e254
OMERK
-
ONEFUN
5
dellw
Arh
4795
NUTPOS
ONELIN
e
43274
NTH1S
To@milA EuALLAT:
NOWLIN
NTHIS)
]
3017
3037
1857%32386
Seds5128
eledw
ONEUNe8e9#¥
ONGUTO3584#
OPRTYP4825
OPTAB
ORFIN4607
S5abe#
OUTBEL2532#
i
OUTCON
ouTLO
OUTWRD
PARCHK
6350
PEEK
PLOUP
PLUSTK
1veY
4576
S009
POKE
POPGOF
POPHRTY
esre
3882
6149
PTRGET
2587
3937
6160
2588
3948
6661
2621
4170
6662
283)
4201
6685
3019
4394
6688
3045
4931
6695
3180
5357
6860
6323
PTRGTR
PUFOUT
PURE
PUSHF
PUSHMA
PUTDE]L
PUTNEW
PUTVAL
Q
990#
989#
998#999#
1919
1027%
1046%1020
1028#
1047#
1056#%
1267
1346w
1451
1187#
1269¢#
]
1372
1472
991#
1001#%
1021#
1029%
1048#%
1194#
1294
1393
1474
1568
QINLIN
QINT
RAMBOT
READ
READY
REALIO
REASON
REDLY
REDINP
REM
.
6703Sq@us
992#
135
3970%
TuBe#
23517+
2989
980#
Tagon
1080
4524%
1084
950
917
91748
1476
east
3265
2n98#
1130
10054
144
4896w
125¢
8917
1608
926
139
3715
*
im
aa
6754
6179
135
-
313
he
18748
212¢
2884
294031863227
623766646714
4557
5538
ag9sw
4959
1155#
62694#7773
17393295
1020#
915
915#
1p48e
STAINP
START
1280%
84
STEPTKlp2es
STKUBL4831
STKINI1884
STKSNG48dae
STKT1OP
147
35086
1058¢
1086
STPEND
EY
5016%
.
STPRDY
STRS
STR1
STRADY
STRADZ
STRCMP
STRLFY
STRONZ
STRODOUN
STREND
STRFIN
STRGET
2206
STRING
3461
4585
STRINI
STRLIT
STRLT?
STRLTS
STRLTI
STRNG
STROUL
STROUT
7531
STRPRe
STRPRT
STRS1Z
STUFFH2425
SUBFLG6440
SVAK
SVARS
TABEND
TABEK
TABTK
TAN
TANFIX
TEMP
4032
TEMPZ
TEMF3
TEMPSE
TEMPPY
TEMPST
THENTR
TMERK
TOFF
TON
TOPCON
TOTK
TRCFLG
TRMNUK
TRMOK
TRYAGN
TRYGIZ
6812
4376
ToRwl A fv.w,a Z
~
159
154¢
1TRYIN
TRYOUTY
TSTACK
TSTOF
TTICHN
TTOCHN
TTYCHK
TTYLIST
TTIYFOS
39646280
4834
56304933
6735
TVAR
TXTTAB
uMuLT
USERR
USINTK
USRLOC
;:i:u
§
4681
3516
5237
7540
5596
7554
5931
6169
4929
ToRwclh Eugrear
o=
6594
VPUSHD
VSIGN
ZERITA
ZERU
ZERUER
299
$COVE
$START
«C1
P
.
BS
.
.
19962
2059¢#
2113
2187%
222354
22s56#
2260
es1en
23534
2asSes2416
2473
2504825v8
2uyls
2594
26554
errse2186
eazusd2826
2890#
294cs
2959
Sp244
S05¢e#
3u54
5097#%
318483187
323e#5254
526479
3334
3411%3422
3a88¢3490
353543542
3605%3645
369083703
3750
3763
37197#3803
384543849
391en3919
39604
3970
ansis4033
4p7944pbe
414l
4148
420084210
4249%4255
43208
43352
3Bkduoe
4434%4438
4521¢#
4523
a560#4570
466934673
471un4717
4741#4755
4791#4799
4841%4847
48854
4931%
.
3266
333¢a%
LT
4934
4960%4973
SpeckSue4
.S049%
S110%
S5182#
S546#
S5440#
5519%#
5565#%
56264
S673#
S687#
5936
S990#
60714
6108#%
6171#
b2ee#
6282#
6552#%
bulcs
6490#
6550%
6587%
bb3c#
6694%
6725#
.
6759#
Toewitp EvALcan:
6814%
6921#%
695¢2#
7011
Tobe#
7112%
7169%
7217#
1279
73378
74198
T4517#
71500#
7536%
77838%
.
2
=
cc
CHRGET
CHA
cmc
cHp
CNC
CNZ
COMPAR
Ccrl
.
jl1052
1415
1193
1473
987
1013
1050
1194
1474
2u67
6986
2151
4e26
6875
2637
2396
6541
685
2070
2440
3405
se2e
5139
6483
7506
2501
5556
7504
815
3045
4334
5482
7093
2525
7547
1903
2683
4ess
6075
7471
2014
2511
3695
4597
5388
6691
2317
4680
2367
1919
su64
4120
6236
6894
1848
2925
4see
5209
6121
827
2035
2299
2802
3188
3519
4080
as71
4bal
se24
5478
5675
s024
6145
6408
6782
6889
7021
715¢
7574
1674
2918
3666
5431
6537
1261
1757
3401
5486
7467
ORI
our
OUTCHR2e74
PCHL5225
POP.1194
2164
3045
ToRmlh EuaLiaT,
6048
68314083
4889
5355
5888
6392
6803
7144
7424
PUSH
2101
2797
PP T
ToRwlA Esaiaz
sEEE
SYNCHK
XCHG
|123 DIssWRITES,DATE10Q=SEP=TS09:22:31MONITORALBUGUERWUESCHOOLSse7s**ENDR®
SEQ,DATE19=SEP=7529528131MONITORALBUGUERGUESCHUOLS5078%
*REND*
(6000, 6000)SEQ,DATE10=8EP=T7529322131HONITORALBUGUERGUESCHOOLS5078ARENO*
»
MiTs(6000, 6u00)Sk,DATE10-SEP=T5Q9122131MONITORALBUGUERQUESCHOOLS5078*RENDww
USERMETSL622v, 600Y]SeQ,DATE10=SEP«1S Q9322131MONITORALBUQUEKQUESCHOOLS5678*RENDww
xxEND®®USERmiTs(600a,6000)Se@,QATE10=SEP~7S09:22131MONITORALBU4QUERQUESCHLOLSser8*HEND#w
*AEND#RUSERHITS(6000, 6000)seq,DATE10=5EP=TS@9i22:51MONITORALBUBUERGUESCHOOLS5278*AEND®
R
#xENO*®USERLISE)(6000, 6001SEG,42OATE10=-SEP=TS09:22131MUNITOKALBUQUERGUESCHOOLS5078*#RENDww
*RENORRUSERMLTSle@o@, 60001stq,42UATE10-SEP=75 29322131MONITORALBUQUERQUESCHOOL
S se78wRENO®w
**ENOwwUSERMITS{6080, 6000)SEQ,DATE1QaSEP=T7S 09322351MONITORALBUQUERQUESCHOOLSSu78*eENDww
wwEdOwsUSERKLTS[6vaa, 6u0e)Seu,OATE10~SEP=TSv9322:31MONITORALBUQUERGUESCHOOLSsa78*RENDww
AaEMDarUSERMiTs(eave, 60001DATE1U=SEP»TS09322131MONLTORALBUQUERQUE SCHUOLS5878*RENDRw
*RENDAAUSERMITS(60ve, 6b0V]SEw,DATE10«8SEP=75v932213¢MONITORALBUQUERQLESCHOOLSSa7s*RENDww
#*ENDARUSERMLTS16000, 6000]SeQ,DATE10=SEP=TS 89322131MONITORALBUGUERQUESCHOOLS Se78*wENDww
*aENDa*USERMLTS(6000, 6UNY]SEQ,DATE10=SEP~T509122331MONITORALBUGUERGUE SCHOOLS se78*RENDww
RUNTIME
48
SECONDS,
310
*aEND**USERLTS16090,6008]
*®END#**USERMITS(61100, 6000)
A%END**USERMifs**ENUA®USERAxENDAx
PYLPYEIT:
KCSy1637
JosF$
Jos
SEQ,
42
42
42
READS,
386
PAGES
IR
o
av
DISK
SEQ,
444
FEFFFFFFFFFFFFF444FFEFFFFEFFEFFFF444444
FFFEFFFFFFFFFFF
FFF444444
444444
FFF444444
FFF444
444
FFF444444
FFF444444
444
FFF444
FFFFFFFFFFFF444440604434440
FFFFFFFFFFFF444444064449444944
FFFFFFFFFFFF4444464a44494444
444
444
444
444
444
444y
44q
444
444
R
R
R
Teewith EiaLia sl
SPOOLER
R R R ERCE
EE SRR EREY::
od-
..
.
.
.
.
bar, vEuSI
LPTSPL
VERSION
*START*
REQUESYT
FILE?
QUEUE
.
FILE
USER
EIT, UAE,OY LT
6(344)
MITS
CREATED:
RUNNING
(602E,6000])
27=AUG=75
DSKBOIF4 (0600@,6000)
SWITCHES:
WILL
BE
/FILESASCII
UELETED
AFTER
ON
LPTO
JUB
F4
SEQ,
205
DATE
27=AUG=7507:23:23MONITOR
PRINTED:27+AUG=75a7323:1302
ALBUGUERGQUE
SCHOOLS
SO7A
*STARTw»
-
Q63113:25
CKREATED:
27=AUGe7S
/CUPIES:)1
PRINTING
06310100
/SPACING:)
/LIMIT3468
/FORMSINORMAL
.
[]
\4
.
-
/MEDIUM/
/0N
MACHINE/
/CASSETTE/PUSHFM
PUSHN
PUSHK
7228
2267
4267
7058
5178
3001
1986
292e
e
3700
ToRwml
A EuALLAT:
4ell
5159
6327
6726
7524
2929
6873
2191
3241
S1@e
7e54
4445
2408
5595
.
°
.
.
STAX
SuB
Sul
SYNCHK
XCHG
.
..
.
..
°°0
.
CIT eee arin deter Siviefize sid.
MATHFPK
c
GATES/ALLEN/DAVIDOFF
BASIC
23=aAlb=bd
CUMMON
H
MACRO
263109
PAGE
.
1
SALLSHH En rae
si ons, Lid
Qeavalav4enLENGTH==}J
oeavel20500REALIO==1
W
av100
Ve300
SEARCHMCseus
SuBTTLCOMMON
20een)nuveeeCASSk=z=]
voALRe20700LPTSHW==0
Auduuive8veOSKFUN==@
BeRuavan9neCUNSSWz=Q
Avovalw1100CONTRW==1
01200IFE
i
FALLOW
CASSW==0
OSKFUN==Q
vez2e?@e3enCASSW=29
ve4e0LPTSWa=p
92500OSFFUN=22Q
22100
22600CONSSw==2
227002CONTRW==z0>
42909LENGTH=],<
200¢al23000EXTFNC=s]
avevel23100Qunuel23200STRING==1>
03400LENGTH=2,
<
03500EXTFNC==s]
036002
23700MULDIM=s}
80se@
Q5146
DEF INESYNCHK
(A) ,<KST
DEF INECHRGET, <RST
CUMMON
p4200DEF INE
DEF INE
"0
7ONMEANS7ONMEANSEXTENDED
MULTIPLE
7ONMEANSSTRINGS
Q4600DEFINEPUSHFM, <PUSHM
ACRLF,«<
CEITT)IFNbl
5§
STRING,<"L10@>>
a51v9DEFINEPUSH0
PUSHB>
1
MACRO
47(113)
.
.
06:09
272AUG=75
PAGE
1w}
FILE
DEFINEPOPR,<
DEFINEMOVRI(B,C,D,E),<
255¢0
POP
25600
B
0>
XWD
As5800
vs59ee
“U1090,"0001
EXP
EXPc
bovve26100XW0"01p00,%0021
26200EXPE
a6300
1)"LXIB»
}i"LXI0"
]
D>
1F1,<
IFELENGTH, <PRINTX
26700IFELENGTH®]
, €PRINTX
268001FELENGTH=2, <PRINTX
26900IFEREALIO, <PRINTX
a70001FNREALIO, <PRINTX
27100
ALLOWED
PUSHR,<
v520025300
20609
ARRAYS
PUSHM>
DEFINE
06509
FUNCTIONS
DIMENSIONED
ALLOWED
OUTCHR, <RST
PUSHM, <kST
v57v0
DEFAULTS
COMPAR, <RST
FSIGN,<RST
DEFINE
DEF INE
@54v@
(CSAVE,CLOAD)
A>
24500
GATES/ALLEN/UAVIDOFF
12K
.
24100
B4900
MCS
MEANS
STRING==1>
a4T0R
HASIC
2
MULDIM==]
v4000
25mAUL=64
SWITCH
8K,
CONTRw==02>
<
LENGTH,
EXTFNC==20
MULDIM==20
STRING==Q
a4800
.
MEANS
an
21700
B4400
1
READ/WRITE
PSIMULATOR
CONSSwW==20
24300
TO
4K,
FILE
REALIU,
<
21600
23900
MEANS
JON
21400
ae
@
UNIVERSAL
JCASSETTE
01509
02av0
FOR
JTHE
FILE
LPTSW=20
@1900
.
.
27=mAUG=7S5
U
sais
01300
.
47(113)
FILE
20200
BN
.
FOR
IFN
CASSW,<PRINTX
/SMALL/>
/MEDIUM/>
/816/»
/SIMULATE/>
/ON MACHINE/>
/CASSETTE/>
ar200IFNLPTSW,<PRINTX/LPT/>
a7300IFNDSKFUN, <PRINTXar4veIFNCONSSW, <PRINTX/0I8K/>
/CONSOLE/>>
arseePAGEMATHPK
Fa
FOR
BASIC
HAC
MCS
8080
232AUG=64
GATES/ALLEN/DAVIDOFF
06308
MACRO
FLOATING
47(113)
POINT
MATH
@639
27=AUGRTS
PACKAGE
7600100SUBTTL77w0120TITLEMATHPK
20160IFNDEF<
LENGTH,
FLOATING
POINT
FOR
PAGE
1
CONFIGURATION
HATH
PACKAGE
GASICHCS8080
MUSTWAVECOM
CONFIGURATION
GATES/ALLEN/DAVIUOFF
78
20189PRINTX
20200END>
002408
141
90260
000000
20300
90340
00360
INTERNAL,
INPRT,LINPRT,MOVFM,
MOVMF , HOVFR, MOVRF , HOVRM, NEG ) INRART , INXHRT
IFN
INTERNAL
00440IFN
00540
PUSHF , ABS , INT, GINT , SGN, SGR s RND, SIN, FCOMP , STGNC, OVERR
EXTENC,<
0040000420
06520
ZERO,FLOAT FLOATR, MOVE ,FADD, FADDS , FSUB, FMULT,FDIV,FIN,FOUT
INTERNAL
INTERNAL
00460
20480
1044
THE MATHPACKAGE}|
Pee0
20380
00500
11l
74141 ALERT
JTHROUGHOUT
FPWR, EXP,L0G,COS,
TAN, ATN, FONE>
HULDIMBSLENGTH=2>,
<
IFN
INTERNAL
IFN
INTERNAL
FADDT, FSUBT FMULTT,FOIVT>
00580IFE
LENGTH=1,<
FPWRT>
INTERNAL
00600IFE00620INTERNAL20640INTERNAL18UB, IMULT, IDIV, ICOMP, INEG,DADD,DSUB, OMULT,DDIV,0COMP,
INTFNC>
o070EXTERNALFAC,FACLO, FBUFFR, MINUTK, PLUSTK, ERROR, DVOERR, ERROV , FCERR, SIGN
00720EXTERNALSCODE
00740
20760IFE
LENGTH=2,<
EXTERNAL
DFACLO, ARG, ARGLO, VALTYP, THERR, TENP2, TENP3>
LITEr)COMMENT%IFEiTHE FLOATING
LENGTR=2,
€
20560
<
LENGTH=2,
EXTERNAL
08844
20862
00850
VMOVMF , YMOVFM, FRCINT ,FRCSNG, FRCOBL , VNEG, PUFOUT, DCXBRT, TADD
20900
LOCATIONS
USED
BY
THE
1J (TEMPORARY
90920OFACLO3BLOCK4>7 (FOUR
00940FACLO:BLOCK31ILOW
20960
FAC:BLOCK
21040IFELENGTH=2,<
01860BLOCK
7
21100ARGLO:
ARGE
FBUFFR®BLOCK
BLOCK
1>
“D13
21120IFELENGTH=2, <BLOCK
2
OF
SIGNIFICANT
ORDERS
FOR
MANTISSA
BYTE
DOUBLE
PRECISION
(L0)
1 (EXPONENT]
#1020
21080
LEAST
LOWEST
ORDER
1(MIODLE ORDER OF MANTISSA (M0))
7 (HIGH ORDER OF MANTISSA (HO)
00980
21900
MATH=PACKAGE
ACCUMULATOR
BLOCK
7 [TEMPORARY
7TLOCATION
COMPLEMENT
OF
SECONO
OF
SIGN
ARGUMENT
IN
MSB
FOR
DUUBLE
1 PRECISION)
JBUFFER FOR FOUT
“D<30-13>>
-
HATHPK
Fa
129
130
FOR
MAC
BASIC
MCS
8080
23wAUG=64
GATES/ALLEN/DAVIDOFF
06108
MACKO
FLOATING
47(113)
POINT
MATH
06309
27=AUGe7S
PACKAGE
01180THEFLOATING
01220THESIGN
POINT
PAGE
1w
CONFIGURATION
FORMAT
1SAS FOLLOWS:
OFTHE MANTISSA
131
132
133
134
135
136
137
138
139
140
141
142
143
IS
THE
FIRST
THE
MANTISSA
21260THE
BINARY
91280
01300NUMBER
01320
01349
91360
21380THE SIGN OF THE EXPONENT 18 THE FIRST BIT OF THE EXPONENT
THE EXPONENT 1S STORED IN EXCESS 200 1,E, WITH A BIAS OF 200
S0, THE EXPONENT 1S A SIGNED 8=B1T NUMBER WITH 200 ADDED TO IT
AN EXPONENT OF ZEKO MEANS THE NUMBER IS ZERO, THE OTHER BYTES ARE
01400TO
01240
THE
=
IS
BITS
POINT1S10
MANTISSA#2
MANTISSA
KEEP
24
BIT
THE
IS
LONG
THE LEFT
=
PUSITIVE,
SAME
OF
NUMBER
WITH
IN
THE
A
ONE
FAC
91420TO SHIFTKIGHT,EXPizEXPsy
21440TOLEFT,EXPisEXPmi
SHIFT
THE
MSB
EXPONENT
ASSUMED
WHILE
TO
BE
WHERE
THE
SIGN
BIT
IS
IGNORED
SHIFTING3
148
16501480
146
147#1500
#1520
21540
21560
146
149
80,
IN
MEMORY
THE
NUMBER
(BITS17=24
(BITS9=16
(THE
(THE
(REMEMBER
SIGN
OF
OF
IN
BIT
EXPONENT
THAT
BIT
1
LOOKS
THE
THE
AS
OF
7,BITS
ASIGNED
THE
2158015221620ARITHMETIC
21660FURONEARGUMENT FUNCTIONS:
THE ARGUMENT 1S IN THE
FORTWOARGUMENT
157
158
159
01680
91700
@172
@1740
#1760
ROUTINE
THISI
CALLING
28
OF
THE
NUMBER
MANTISSA
150
151
153
154
155
156
LIKE
MANTISSA)
MANTISSA)
IS
+
MANTISSA
200]
ALWAYS
A
ARE
IN
BITS
6=0.
ONE)
CONVENTIONS®
FAC,
THE
RESULTIS
1.,THE
LEFT
IN
THE
FAC
UPERATIONS?
THEFIRST
THE
THESECOND
RESULT
ARGUMENT
1S
IN
ARGUMENT IS IN
IS LEFT IN THE
B:C
0,
THE
FAC
"REGISTERS®
FAC
160
161
162
163
16421800
01820
01840165
16621860ALWAYS
BE
01920NOTE: THE "T" ENTRY POINTS
BECAUSE THE RETURN ADURESS
SHOULD
167
168
169ON
STACK
WILL
21960ON
ARE
170
171
17221980
#2000THIS IS DONE SO IF A NUMBER IS STORED IN MEMORY,
IT CAN BE PUSHED ON THE
STACK WITH TWU PUSHM®S,
THE LOWER BYTE OF EACH PART IS IN THE LOWER
MEMORY ADDRESS S0 WHEN THE NUMBER IS POPPED INTG THE REGISTERS, THE HIGHER
173
174
175
176
01860
91900
22020
22040
THE
THE
"S" ENTKY PUINTS TO THE TWO ARGUMENT OPERATIONS HAVE (HL)
FIRST AKGUMENT INSTEAD OF THE FIRST ARGUMENT BEING IN THE
MOVRM
IS
THE "
POPR IS
THE
ORDER
CALLED
STACK,
BYTE
02000THE WIGHER
22082
22100%
PAGE
TU
GET
THE
ARGUMENT
IN
THE
THE
WILL
ORDER
TWO
BE
IN
BYTE
LU’S
THE
WILL
THE
PUSHED
HIGHER
BE
ON
ORDER
POPPED
JUMPED
BE
FIRST
REGISTER
INTO
POINTING TO
REGISTERS,
REGISTERS,
ENTRY POINTS ASSUME THE FIRST ARGUMENT IS ON
USED TO GET THE ARGUMENT IN THE REGISTERS,
B,
D
THE
TO
AND
CONFUSED
AND
OF
THEN
THE
OR H,
STACK,
NEVER
WITH
THE
CALLED
THE
HO
REGISTER
AND
NUMBER,
SIGN,
PAIR,
I,E,°
MATHPK
Fa
FOR
BASIL
MCS
8080
GATES/ALLEN/UAVIDUFF
MAC23mAUG=64
P0B0N0’PR10VeVVAV4)
GouunL®Buennyduesie’
Q0Rpne’VuPvAn0PBVOY
#6108
177
MACRO
FLOATING
22120
Q00p03°
Bp1000
QLBA31S
PePPN4’VPRONE©B012435°
VPPVeE2000N6°BP1VAdVeAvel’
QLY30S
00v0nl*0oveRn©vRLeS*
BAVN19°2OBVVDQVVLR4*
26389
ADDITIUN
SUBTTLFLOATING
22140
Geuans*
B
47(313)
POINT
JENTRY
AND
27=AUG=7S
POUINT
TO
V21000QPA315
Q00eNnQBU124S”
20PQ15°Q00Avbe@eRLeT"*
Vove14*Pelvvegoeeal
Qave15*Bn1ovnBWB3AL
PR0Z1o’
Qnlvvn
2
ADDITION
FADD
WITH
AND
SUBTRACTION
POINTER
TO
22160FADOH:LxIH,FHALFJENTRY
22180FADDS:CALLMOVYRMJ1GET
JMPFADD100
22200
JSUBTRACTION
P00n11°*P0vR12*
PAGE
SUBTRACTION
JENTRY
P"exl
PUPR>
Fsus:CALL
INTU THE
REGISTERS
ADDITION
IF
POINTER
H"
JENTRY
IF
TU
ARG
AROUNDNEXT2
ARGUMENTISON
IS
IN
(HL)
BYTES
THE
STACK
QvR32)
020017°221020020203515
000020°BEOVEAVL1175°
Qoop21*Ppoeredvovle’
NEG
INEGATE
JADOITION
JALTERS
IFN
SECOND
ARGUMENT
FADD
INTO
JFALL
FACIsARG#FAL
A,8,C,0,E,H,L
LENGTHw2,
<
vYvy2e’VploveveeedlP00e23°2p1pvo0MRO30)000P24*BRIVQEd32)©0a9p2>*
Q02pee*
000027°0plens
Bploee
0p1000Q0d1T0
QvRce7?
00031000U0030°Bp100eQuoBTR020031°
000n3e*200002
QpQ0VReQVRVAOX
QwAv2e*Q02935'001000Q0R26TORA
A0an34*Ppil0ve00B31eJe
000035*
Q002036*0p00ed
Q00002P01225°
00VRO31*
Q02037*
1/2
FAC:3ARGeFAC
LENGTH=1,<
XwWD
1000,04)><
LENGTH=2,
(HL)
ADD
THE
IFE1FNINTO
ARGUMENT
EXTFNC,«
CALL
MOVRM>FSUBT:ARG
Wl
1000,041
imLxl
H"
AROUNDNEXT2
ISON
PUPR>JENTRY
FADD:MOV
ORA
RZJCHECK IF FIRST ARGUMENT
JGET EXPONENT
71T IS, RESULT IS NUMBER
LDAI1GET
WANT
A
@2720JWE
ac740
82760JAND ALIGN THE
ISUBTRACT THEM
TO
GET
THE
SMALLER
BYTES
THE
STACK
ISZERO
INFAC
EXPONENT
JSEEIF
1IT18,
NUMBER
BINARY POINTS
(DEPENDING ON
IF
ARGUMENTFADOT:
IN
THE
NUMBER
ANSWER
THE
IS
IS
IN
SOWECANSHIFTIT
OF THE TWO NUMBERS,
THEN
THEIR SIGNS) BYTEWISE,WECANJUSTADD
delved0LRe2002780SusBJCHECK
V20n4uv’Qploneeoe32e22800JNCFADUY11S
020P4l1*
PUop4c*®Qp0OME
@pveeeQUALST®
0BRR3S*
REGISTERS
ZERO
REGISTERS
RELATIVE
FAC
RIGHT
OR
SIZES
SMALLER?
°
.
.
.
MATHPK
Fa
FOR
BASIU
MCS
8280
GATES/ALLEN/UAVIDOFF
MAC23=AUG=b4207043°*0010P00QVORST02820
d00A44*
@000P45°201000
221080QOOLTA4
0Q0V35302840
02860
200047°0000000012050009502°
P00RS1*
000p5¢*200000
PR10Ve
Qpieee000053QpR0VeQuices’V0BS54QpRRVRQPRLAT*220055°Q01000Q23010orpSo*QpleveQPB321
200046 221000
26308
0©V2315
@LAVAL*
QUR353
Q0315
Q0ees7*
FLOATING
MACKO
47(113)
POINT
26309
AQUITION
27=AUG=7S
AND
PAGE
g2=1
SUBTRACTION
CHAFYES,
NEGATE
SHIFT
CELLY)CALLINR
XCHGJSWITCH82909
02920XCHG
CALLJGET
JPUT(DE) BACK
REGISTERS
POPKJGETTHEOLD
JAREWEWITHIN
INO,ALLDONE
22949
22960FADD1:
02980IFN
FAC
AND
SAVE
(DE)
WHERE IT BELONGS
IN THE FAC
FAC
IN
THE
REGISTERS
LENGTH,
<
V0ReaST*
020060*Beleve
000000@BO3Te
0wAG3)23000CPI00AR6L*0010000wA32003020RNC>020262°
000R63*
00vR64*001000
0p1002
DQOLRD0QLV365
©BL@31S
PR1272°23040
03060PUSH
CALLPSW
UNPACKJSAVE SHIFT
JTUNPACK THE
000R6S*
000066*000LPR
AP10V0©VPALSS*
ALO1ATMOVMy AJSAVE
000067*
B00aT0’V01000
Vp10000DOA36)
QLO31SPOP
CALLPSW
SHIFTKJGET SHIFT COUNT
JSHIFY REGISTERS
0¥eBaT71*Qp00ALQVO334°009072*20V0NODQROR64"*
71F
COUNT
REGISTERS,
JPUT FAC ON STACK
THE
31
NUMBERS
JUIFFERENT,
JMANTISSAS
JTHE
JFAC7]
FAC,
THEN
ARE
SO
IF
HOWEVER,
HAVE
WE
THE
HAVE
SAME SIGN,
TO
POSITIVE,
WE
IF
SUBTRACT
JUDGING
SUBTKACT,
THE
THE
EXPONENTS
J1COULD BE BIGGER, SO AFTER
IwAS NEGATIVE,
IF IT wAS,
SUBTRACTIUN
THEN WE
THE
OF
THE
BITS?
FLAG
BACK
RIGHT
ADD THEM,
THEM,
BYSIGN
ARE
24
COUNT
NUMBERS
WE
HAVE
TO
THE
IF
RIGHT
THE SIGNS ARE
DO
THIS
EXPONENTS,THE
THERESULTSHOULD
SAME,THE
BECAUSE
LARGER
NUMBER
AMOUNT
BE
IN
NUMBER
THE
THE
WE SUBTRACT THEM, WE HAVE TO CHECK IF
WE NEGATE THE NUMBER IN THE REGISTERS
SIGN
THE
IS
OF
IN
THE
REGISTERS
THE RESULT
AND
JCOMPLEMENT THE SIGN OF THE FAC,
(HERE THE FAC IS UNPACKED)
PIF WE HAVE TU ADD THE NUMBERS, THE SIGN OF THE RESULT IS THE SIGN OF THE
JFAC,
80, IN EITHER CASE, wHEN WE ARE ALL DONE, THE SIGN OF THE RESULT
JWILL
BE
THE
SIGN
THE
FAC,
Bnied00MvR264ORAJGETSUBTRACTION
001000QvRL4)LxlH,FACLOJSETPOINTER
00OR75°QpQV0DQPAVRDXQo0a76’AP0OBD0Q2LTL*@00aT7*JPFADD3iSUBTRACT
FADDAJADDRUUNDJROUND
v0loeeQvd36e
Q08100veAres0VOL2S*
002101*0PORARLORLTS*
Y0102’VR10AR0o0103*VROVVEQLBRT4*
0Q0VARQEO100°
Oplone
Q@VVAR
QUVB3LS
@ue32e
©OLOC33’
w0104000105*
UGd1060’P0R107¢OpoRVY0QL2LOS*
H
OF
20Ve73*@00074°
JTHE
000110*
B
Geleor
MVBLAS
THE
IF
THE
FLAG
LO*S
SIGNSWERE
THEREWAS
DIFFERENT
NUMBERS
RESULT
MOST
JTHERE
T0
WAS
IT
IF
CAN
OVERFLOW
NO
IS
OVERFLOW
ONE
BIT
OVERFLOW
.°
MATHPK
Fa
'OR
BASIC
AC
000111°
602112’
MCS 8080
23=AUG=64
0O100eC
0piPoe
GAVTES/ALLEN/DAVIDOFF
26308
QVRL6L
QU@31e
000115°00000000026T'
000114*0po0Ee0LO1RL*
FLOATING
23520
03540
INR
Jz
035560
LENGTH,<
03580
00115 001000Q@VARSE
000116*0pRONO00ROV}
000117*201000QeR315
000120*QpRRREQ0A362’
©00121*Qp0EeQBQ113*
900122*001000Q2303
Po0125*0pRP0YL@LRe33*
000124°Qpeohe@BQ120’
B
MACRO 47(113) 06309
PUINT ADDITION AND
CALL
27=AUG=75 PAGE
SUBTRACTION
22
M
OVERRJINCREMENT
JCHECK FOR
SHFTROD>JSHIFT RESULT RIGHT ONE,
MYILtJSHIFT RESULT RIGHT ONE, SHIFT CARRY IN
03640CALLSHRADD>03660JMPROUND
03600
F
035620
03680
LENGTH,
<
IH ERE
T0
suuvnAcr
C,0,E,B
RESULT
FROM
001000
QpleveQVB2ST
QeeR203700
v3720@olevee00ala703740B,AISAVE
000130°QRloBeQEVR1Te23760AyMJSUBTRACT
220131°2010000V023303780E000132*voledeQ0013703800E A000135001000@VRE4303820HJUPDATE
000134*20100000O1T603840AgMJSUBTRACT
Q001350n1eRwvooe3e038600000136*@plove0AvelaT03880DyAQu0137*PP10U0QVRP4S23900PRA@140°
QU141001000
0pleAs00R176
0Qwee3)03920
23940201000Q00117
GeloaeVR334
000144°Q000000QLR310°
000145°0pe0ne0eo123"
]
WE
ARE
JSUBTRACT
NUMBERS,
CARRY
IN
DONE
NEGArE
UNDERFLOW
BYTE
D
b
03960
IT
LOW
ORDERS
POINTER
HJUPDATE
A
cJSUBTRACT
TO NEXT
MIDDLE
POINTER
HIGH
BYTE
ORDERS
TO
HIGH
ORDERS
ORDERS
CoA
03980
JBECAUSE
04000
1
24020
FADFLT:
WE
WANT
A
POSITIVE
NEGR
JENTRY
7
24100INORMALIZE
24120JALTERSA,8,C,D,E,H,L
04160TEXCEPTIN
04140
MANTISSA,
CHECK
IF
WE
HAVE
TO
NEGATE
WAS
FROM
FLOATR,
NEGATIVE,
INT:
FALL
NEGATE
INTO
NUMBER
NURMAL:
04229IFE
4K,
THE
IDEA
IS
TO
SHIFT
LEFT
BY
8
AS
MANY
TIMES
AS
JPOSSIBLE,
LENGTH,
<
04240
04260MV1
MOVH,0
A,CJCLEAR SHIFT COUNT
118 THE NUMBER NORMALIZED?
ORA
JHA
ROUNDJYES,
NORM2:
WE
CPI340718
04360OCRH04380INO,
MOVA,BFSHIFT
04340
IT
NORMALIZE
n4280
04300
e4320
IF
c,u,z,e
JHERE wE snxrt THE HANTISSA LEFT UNTIL THE MSB IS A ONE,
w4180
04200
THE
NUMBER
CC
w4040
Qo0146"
AND
SHIFT
((HL)*@,1,2),
000125°¢
P00126*000145°
FADD3:
JROUND
QuR127°020142*
EXPONENT
OVERFLOW
Ji
ZEROQ
THE
IYES,
ARE
DONE
RESULT
ZERO?
ZERD THE FAC
DECREMENT
THE
LO
sn1r1
COUNT
LEF
.
.
.
.
MATHPK
PUH
bA&IL
Fa
MCS
8080
23=AUG=64
GATES/ALLEN/UAVIDOFF
Qb3L8
MACRO
FLOATING
47(113)
POINT
Vw4400
AND
ADD
27=AUG=75
IN
THE
MOVB,ACALLSHFTLOISHIFT
04460MOVAyHJGET
24489JPNORM2>JCONTINUE
MOVL8MOVM E
h4500
0p1000QUOL50a452e
0oloGe00014304540
009150°Op1oveQUaeS724560
0vRa151°Bplovp0eo107w4580
Pplven
IFN
THE
A
ZERU
REST
SHIFT
IF
OF
THE
NORM1:
ISNOT
BYTESIN(HL)
JPUTLOWESTXRAAJZEROSHIFTCOUNT
MOVByAJSAVESHIFTCOUNT
A,C7100oeelrlLTMOVQploveQLRee6704620ORAA
0u0154*0plednQB3R24640JINZNORnM3
009155°QpV0e?Qwoz210’A00150"QpP0EY0PVA144’04660vrnls0R0157°0eloneouelle04680003160°Q@10000QUR12424700nov
002161*
LOOP
SPEEDS
WE
INO,
THINGS
c,0
UP
2
HAVE
{
BYTE
OF
SHIFT ONE PLACE
BY
SHIFTING
8
JYES,SHIFTOVER
INZEROS
§
©0R145e4t20MOVHolVR100C0VR1ST04740MOVLeAJSHIFTo0l000
20100000AITE
0CR32604760
24780MOVA,B
10JUPDATESHIFTCOUNT
00165
Q001660gAVRe
QP10000VRALVLE
00237604800CPI340J1DIDWESHIFTIN
Van167*900000BVL340020170°@01000@VR3Q204820JNZNORM}INO,TRYTO00R171°
020172*0pRAve
0000000VOLSL*
©0VQ1SS*24900J1ZERO
04920JALTERS
Q24940JEXITS WITH AsQ
iBY
a4980}
POINT
1ZERO
0VAV6R95020ZEROA:STAFAC1ZERO
QVLREL3LQPVOLTL*Pe1099Q0B31125040
8
FOR
4
BYTES
OVER
WASZERO,
NUMBERIS
THE
RET
JALL
V210020QEB2LeS251002plunePLRLS)25120JROTATE(HL)LEFT
Qenive25140JROTATENEXTHIGHER
P0n2R3*
000204*dolewve
@plunawveLowver
20012705160
05180JROTATEHIGHORDER
00217105200
Pp1e0Rd
0wl0veVwvReLT
QVALLT05220
05240
00d210°PRl0v00QLB36en5260
QUBR11°*2p0OVRYQUReRL’
ZEROS?
MORE
FALL
ZERO
NORM23:
THE FAC*S EXPONENT,
drivne201000
OF
8
ORDER
INTO
ZEROQ
IF
THE
EXPONENT
IS
JOECREMENT
iSET
ENTRY
IFAsQ
AZERO
DONE
PoV2R2*290235°
LOW
A
0ua2a1*000206°*
A02207°*
THE
SHIFT
NUMBER
FORMAT,
APPOURD
TIME
ONLY
XRA201060
00R2AY*
A
FLOATING
ZERO3DPOVLE
ONE
2ERQ
#500000R177°
AT
FAC
OUR
QVAeSTUeALT4’
QVB175°
JYES,
04960
A TIME
BYTE
@ploed0B0176°
ONE
Dy H
000162°
021002
LEFT
NORMALIZED
ZEROS
AT
PLACES
000163
002164
00A175*
NUMBER
COUNT
NUMBER
LENGTH,
<
04840
-
2=3
JSHIFTV4449©00147°
@00155°*
PAGE
SUBTRACTION
A
va42e020146f
@u0152*
26309
ADDITIOUN
SHIFT
CONDITION
COUNT
ONE,
SHIFT
ORDER
LEFT
IN
LEFT
ONE
ONE
COLES
'
:
JWE
HAVE
MORE
NORMALIZATION
TO
DO
-.
.
MATHPK
Fa
FOR HASIL MCS 808@
MAC
23mAUG=64
DHS GNI
GATES/ALLEN/DAVIDOFF MACRO 47(113) 0963109
B6IES
FLOATING POINT ADUITIUN AND
27=AUG=75 PAGE
SUBTRACTION
2=4
389pe@212"opeeeePeR1TS'399Qee213*dplevePRALTL391@A@214*eelewdQ00134nuorae392Que215’eplevaQeelesp5320MOVByl393
394
195Q@2216' @0pleee
@um217* QploRA
@00220* QpUOeRQudce?
BBB3L2
Qwe233*25340
0536@ORA
JzA
ROUND
>JCHECK
MOV
As300
TALL NORMALIZED, GET SNIFT CONT
A8
may
EsH
FaLLNORMALIZED,
JPUTLO"S
@@@221°APROORpER223'B21000APREAA@PBD4)95380LXIHyFAC398FLODK
399
402QUB224'
2¥BR25°BpOYOD
NR1eARQURE2D*
BLBRN6a540aADDMJUPDATE
4Q1QU22260*beleedBeAleTas420MOVMo
A483200a3a"Qeeeed@eAL1T3"484@0D231"QOVEDPea223"4B5Wen32*Aplo@peedlleB546@RZ
42
©Buv222°
Qwv227* 2pleeld
AVR1T5*
geasze
426
a544@
JNC
ZEROD
BACK
IF
396
397
Aw@2L1*
#5280
WE
GET
SHIFT
.
COUNT
IN E,
DID
NO
SHIFTING
AT FAC®S EXPONENT
EXPONENT
ICHECK FOR UNDERFLOW
JNUMBER
25489
JFALL
1SZERO,ALLDONE
INTOROUNDANDWE
ARE
DOUNE
427
48
499
45549
a1@
411
POL235*
UuR234*Pplebw
DPLEBRQBBLTY
@ABY4L
414DEVY235'0PAEIDPUR22S*
415200236'BRAVODLUBR3L"
aie
417
418©Baa237'
00M248*
0Q@@241'@aloee
@plaee
Gp@PEPBLA26T
QPO3TH
VP@ESS*
419Q0D242°PeReReQBR23S’
420
4210B0245°Qplove422@0BB244°Qpi0BP423©200245'0QlU@®a4242e9246"DR1OOD425@Pee247'POORAAALBROY
426
427Q0R250’
Q0v251*BR1QOQ
PeledePR0RS1
ewe1l?
C,0,E,B
AND
PUT
NUMBER
DEPENDING
IN
UPON
ORA
cMA
ROUNDA700
AUB1Rs25688
25740MoV
IHEREPRAR4385720INX0QLOLTO25748MoyA,flIGET
SIGN
2ER34E25760ANL2eeJGET
RID OF
as780
25800XRA
MOVc
CohIPALK
JSAVE
45829JHPMUVFRJSAVE NUMBER
Pelewed@LA3R3
Ped2eRBRAZ4L°
wvel22s”
431
43z
ROUNDE:
ROUNDB:
DOWN
25640
256600@@eSe*
Qeeoew
IN
JSEE IF WE SHOULD
JENTRY FROM FDIv,
YA0254°
000253*
RESULT
AyB
HyFAC428
25608
#5628
FALTERS A,B,C,D,E,d,L
JWE RUUND C,0,E UP UR
MOV
LxI43P
429
JROUND
25560
a5580
412
413433258889435a592¢437CELTYSHFTLO: MOV
n5940RAL
CL:TL
BededMOV
MOV
434
assea
436
259402
438
439
449
IFE
PACK
THE
HO
IF
LENGTH,
<
ISHIFT
C,0,E
IS
LEFT
USED BY
JALTERS 4,C,0,E
B
TO
EXPONENT
TO
IN
B
SIGN
UNWANTED
SIGN AND
IT IN C
BITS
HO
IN FAC
ONE
NORMAL,
A E
FDIV
1GET THE LO
ISHIFT
Evh
A, 0
RAL
FAC
MSB OF
RUOUND UP
GET PUINTER
NECESSARY
EXPONENT
;PD]NT
JTHIS
2eD4p
441
HE
IT
IPUT
AND 816G
THE
THE
IT
PSAVE IT
JSHIFT THE
NEXT
HWIGHER
ORDER
.
.
¢
@
0
.
MATHPK
Fa
FOR
MAC
BASIC
MCS
BRBD
23malGebd
hATEbIALLEN/unVIDUPF
BEl0
FLOATING
MACRO 47(113)
PUINT
860260MOV
44426100ADC
443
a6A8@
445
PAGE
SUBTRACTION
Ay C
JROTATE
CrA
RET»>
2=5
JSHIFT
A
4oV
Po14@
AND
0yA
MOV
26120
446
06129 27=AUG=TS
ADDITION
442
THE
A
HIGHEST
LEFT
ORDER
AND SET
CONDITION CODES
1ALL DONE
4at
448
449
26200
450
45)]
452
453Quv255*
Q0Qv25e*
@UPaSI*
@u0260*Beloee
@plrde
PB1eRe
Pploee
@eRAL3d
©LA3QQ
AveL24
PLBIAQ26220
26248
de268
26288
iSUHHUUTNE
ROUNDAS
INR
RNZ
INR
RNZ
FOR
454Q@u@26lf@gloeeeeeBld26300INR©@P262’QVipdeBLO30E46320RNZ457©VeO264°BPYAARBLAEREMVC,200
BUAULY6360INRM
000266'PpieyBeO3NE26380RNZ
458
459
Q0@263" Apla0e
QUU265*
BYlOUE
2pRR1e
26340
4606480
461
4626440
BOBOL36¥e46®
465©oQ@271*@eleelwvasasa6480
A46b
463
NUP2TS®@pERAdeQLPaaUw467Q0OPRTS'PRBLBY@VARS3*BuB274°
pRPR275"dple@n
2210RA0@LalTe
QL@edd26580
26600
@0Q300’ BeiBeABUALTE
46y
©eA267' @AlaPE
BOE2TY"
VAAPAY
BVRRRE*
ADD ONE
D
455
456
ROUND:
c
ONE TO THE LOW ORDER, ENTRY
DONE IF IT IS NOT ZERO
ONE TQ NEXT HIGHER ORDER
DONE IF NO OVERFLOW
JADDOME
OVERR:
Myl
~
TO
THE
IRETURNIF
JTUPDATEEXPONENT
JRETURNIF
HIGHEST
NO OVEFLOW
JTHE NUMBER OVERFLOWED,
JIT
JOVERFLUW
YO C,D,E
JADD
JALL
1ADD
JALL
0I0,
IT
FALL
DID
NOT
FROM
QINT
ORDER
SET NEW HIGH ORDER
OVERFLOW
INTD OVERR
ERROR
E,ERROV7SET OVERFLOW ERROR CODE
JHPERROR160 TO
1ADD(HL)+2,1,@
1T}
468
469
4T®
26540
471
472
473
A6568
474
475@P02Te®
0Q00277*
477
476
PAleMd
BeleAn
QLel3T
@0eU4S
CODE
FADD,
FOUT
46660MOy(YL1ADD MIDDLE ORDERS
A6620
6640
MOy
INX
6680
Esh
H
BpleedAUC0
oplovevOd12T26709MoV[Py
479
4By@98303°
2WA3RAT0plaPe
Wp1a0DBUBL4L3
2BBL1Teaer2@
26740INX
MoVH
AyM
482QU@3IPo’GplBeeQoe3er* deleveQdQALLYQva3lleTEDMOVCra
489BUV31A"@BlOvdBLRD4)49100p312'VpPRRApwBeTe’
483
BY
TGET LOWEST ORDER
7ADQ IN OTHER LOWEST
0oA3p2*
@RVl
TO C,D,E
USED
AyM
EQ003R1*
0OUA3NS* A@ided
IS
MOV
ADD478
481
eeszic
FTHIS
FADDAI
867680
ADC
26800
RET
c
1SAVE IT
JUPDATE PODINTER
ORDER
TO NEXT
JUPDATE POINTER TO
JADD HIGH ORDERS
BYTE
HIGH ORDER
jALL DONE
484
485
486
487
[LT]
490
492
493
494
.
26860
6880
PUA3LL"
@ROEUD
@0u313* Gpléew
2@@314° G01l0vR
QwWY313* ealeey
PVRLBL*
oerelTe
BBRLST
Bwvale?
26908
86920
369402
a696@
CLELT)
JNEGATE NUMBER IN C,0,E,B
JTHIS CODE 18 USED BY Fnou.
NEGRI
JALTERS A,B,C,0,E,L
QINT
LXIfl,FACt!INEGATE FAC
MOV
CHA
MoyAgMFGET SIGN
JCOMPLEMENT IT
1SAVE IT AGAIN
My A
-o
MATHFK
Fa
rOR
BASIC
AC
495
MCS
8080
23wAUG=64
-
GATES/ALLEN/UAVIDOFF
Qb8
MACRO
FLOATING
47(113)
POINT
06309
ADDITION
27=AUGw=75
AND
PAGE
2=6
SUBTRACTION
Pua31e*021000evees7LIRS WAeo1000Qw157497noa320*01000ovee29A7040suB8INEGATE
498wav321*Qv2a10727060MOVB,A499non3ze’vole9eap1a00a7080509Poe323"000175ISAVE
Q008233a7100MOVAlJGET
Que137
200175496
5012u0324*va1000
vo1eoe
502wun3es*’921000
583
UL
a7009XRAAJZEROA
271020MOVLiAI1SAVEZERO
Sp8Ea7120MoVEsA1SAVE
27140MOVAl1GET
ZERO
INEGATE
NEXT
CRDER
HIGHESTORDER
HIGHESTORDER
ZERO
Pvee3e
Qen127a7160SB80INEGATE
eep3sar*
eon33e*da10a0a7180MOVDyA505opiene
Qa1000200175pr200MOV507
S08@vo33e*LLETT)aee1t7ar2z20
ar24ecISAVE IT
JGET ZERO
w0ee3lSB8BALvowu3sy*voe33s*MOVCyAJSAVE
IT
ApleveCLULERSY@7260RET1ALL
DONE
273290
27340PSHIFT27360JALTERS A,8,C,0,E,L
JTHE IDEA (EXCEPT IN
001000
L
IT
A
506
Se4q
IN
LOWEST
IT
A
NEXT
BACK
INEGATE HIGHEST ORDER
509
7A
ar380
a7400
00N334°wo1eveauaeee
P00335°PuocueA2
000330velvweQeevsee
Bue3sr’2p000000eRV10
20A340°ag1000000332
Qvn34L’QpenneQvess53*
d0034e’PpoLLnLIRS
@7420
a7440
A7460
7
SHIFTR3
=
C,0,E
SHIFT
RIGHT
COUNY
4K)
8,0
TO
JZERO
LENGTH,<
IFE
IS
SHIFT
OVERFLOW
ONETO
IFNINR
A>
<
LENGTH,JADD@7480a7s5eeSHFTR1:Sul10JCANWESHIFT
a7520JeSHFTR2INO,SHIFT
27540JTHISMOVB,EMOvE,0
LOOP
SPEEUS
THINGS
UP
BY
PLACES
AS
MANY
IT
ONE
AS
RIGHT?
PLACE
|BYTE
IN8RIGHT
ae013ea7560
a71580ee1eenvonialar600MoVv,C208346°1000
Qpoeap
Qo100@eduleareaeMylc,0eea3ar’
0003501PUT@
A7640JHPSHFTR1JTRYTO
00a3sy*L)Que336°*P0B3Se’Ll0vvs41’[ ITEEEY001000@ea306
AT
PLACES
AT
A
TIME
ONE
TIME
RIGHT
HO
eeaeAw
@v0303
27660
2eR354°*Qp0eewavAn11008355vnleeo0Qee1s7a7680
0003562nieenveaes?
Q0oEss
Q00310er17020
27729
SHFTR2:ADI11>MOVLiAJSAVE
SHFTR3:XRAAJCLEAR
OCRLJARE
Q7740
JCORRECT
RZ
7760IFE<
LENGTH,
w7780
a7800SHRADUCALL
IFN
SHIFT
SHFTRO>
SHIFT
SHIFT
AGAIN
COUNT
COUNT
CARRY
WE
OONE
SHIFTING?
JRETURNIF
WE
JSHIFTTHENUMBER
ARE
RIGHTONE
JENTRYFROMFADD,SHIFTIT
JSAVE
JSHIFTIT
NEXTBYTE
LENGTH,
<
200361
"Qe1000Q00171ar82eQuin3ee’eelewnevees/Qa7840V0V363*201000ava1L7a7860MOVCyA
200364°oeieaeoeea17ear8seMOVA0
oy
SHRADD:
A, C
1GET
RAR
WO
RIGHT
RIGHT
.
.
.
.
MATHPK
Fa
FOR
BASIC
MCS
8089
MAC23=AUG=H4
Q0UN365*091000
GATES/ALLEN/DAVIDOFF
0bIUB
FLOATING
MACRO
47(113)
POINT
063109
ADDITION
AND
Quou372790027929
27940MOVRARMavE,A
MOVA
27=AUG=T75
2919200Qv0127U
LY AQp1000
apleeeP0av370u0371"eplone0eeLs727960
ar98e0oR37e’oplueeweaL7v28009Pon373*2010900
01000venp37o80ceRARQ00374°avel1e7Q8040MoyByA>
000375°*201000P0B3A308060JNPSHFTR3
Qov370"Po00eYeon3T7°*200000Q6p356°
aep3sS1*
QuaL7s
AE
B
<
LENGTH,
JSHIFT C,0,E,B
JTHIS28180JALTERSA,8,C,0,E
MOVAy c
IFE
SHFTRO:
SHFROA:
IS5
USED
RAR
28240MOVCrA
h8260MOVA0
28280RAR
28300
MOV
MOVa8340RAR08360MOVE\A
A8380we4veMoVRARA8
ne4eoMoyB,A
08460
PAGE
RET>
LOW
JSHIFTOVERFLOW
RIGHT
BY
IF
ORDER
WE
ARE
RIGHT
BYTE
RIGHT
DONE
ONE
SHIFTK,
FMULT,
JGET
FADD
THE
HO
FSHIFTIT
JSHIFTTHE
RIGHT,
MO
ENTRY
FROM
JSHIFTTHE
LO
JSHIFTTHE EXTRA LO BYTE
FMULT
RIGHT
0,A
28320
a84492
JSHIFT
JSEE
v8140
b8200
28220
2«7
D,A
MOy
a8160
08129
PAGE
SUBTRACTION
RAR
Q00B366"
weo37e’
-
TIMES
COUNT
8
NUMBERnwev1n3001000
w1000
IT
JSHIFT@o1000
@ni1e00
SHIFT
8
000344°
[TTETEY
200357°
8
BYTE
SHIFTING#00345°
Wn036u’
RIGHT
POSSIBLE
MVl
AE
J1ALL
DONE
--
MATHPK
Fa
FOR
BASIC
MAC
MCS
808U
23=AUG=64
-
GATES/ALLEN/DAVIDOFF
WbIVB
579
580
MACRO
47(113)
06309
NATURALLOGP848@SUBTTLNATURAL
98500IFNEXTFNC,
<
27=AUG=75
LOG
08520JCALCULATION
28540i
583185607AN
28600ICONSTANTb
584
0004V’587000401’BpV0RYVBALRR28640000
588©020402°PEVLVVALALRYN8669200405°000A0000
QAVR20108689é
000404°
090405°
000406°Qp000R
0EdvAR
0PVRORQAVRVRS
QV0RS2
@UA12628700
08720
28740
QVALAY
0P0407*QP000000QR31
200410°QpoverQVA200R
000411*Qp00RR00Q361
6op412’QQ0RER
0P00PR0
0p00BRQBBB4R
00Q166
QB2
Q204135
020414*
08620
PUO10SWVRRS2
Q0RVTY08900
08920
QV0B420°*PRBPAYAvA2RRn8940
28980
09000
QVO3ST
QPR35
RVRURLW
PUVA24*B0OPVDV0O3T6’
000B425°
000426*Q@10veQWVRV4)
B00R0DVLR35
0AN427*VAVRADMVR42S*
POLYNOMIAL
IS
USED
TO
08880
2,88539129
NOTE: THE REFERENCE FOR
IN THE LOW ORUER BYTE,
THIS
LUG3
FSIGN
JPE
JCHECK FOR A
JFAC ,LE, @,
;
09020JFSIGN
29049JTHEPARITY
29060
JGET
ONLY
POINTER
NEGATIVE
BLOW HIM
RETURNS@,1
EVEN
TO
0Q0Ve1Te29080AyMJGETEXPONENT
201000
BP00R0
QpRRARQVAWA1L
QUAVES
VBR2Re09100200,065,204,363JGETSGUR(,S)
00R434¢Q01000QPOPVRVpRORYQURLAY
Vp1000QUAR20
000440
000441’P21000
VA1R0NQUO36S
QL1160
000442*
0p10R0
HAS
1@@
NOT
1@5
OR ZERO ARGUMENT
OUT OF THE WATER
WILL201000000437*
CONSTANT
202
P00438*000436*
LOGR2(F)
0,961470632
Q0V431"
Q00432
00N433*200435
CALCULATE
LOG
JDEGREE+1
7 0,598978650
78800
QQBVONQ100N
0A1000
¢
B8Y
1
087892
5
PRRVORD
A@LVRRePP0RER
000
USED
28760
000415°000421*
006422’
BY!
APPROXIMATION
CLELEL]
08840
08860
QU0416*
Q00417P0P423°
FONES
18
LN(F*2°N)
= (N+LOG2(F)) =LN(2)
S86
VOBVOD
3
FUNCTION
581582
585
PAGE
FUNCTION
BE
OR
IF
EXPUNENT
IN
377INA
AHAS@
NUMIN
OR
377
A
00OW21L
QBUV363
JREMOVE
5
VB3RS
000443001000VLB30S
000444’0100000O315
000445PPOERDQLOL2S’
0U0A4L’DOPVVD00044/’0010000VA3DL
200450o100l00VQ321
200451°
000452°001000
0VR10000VRLBR4
QURS1S
EXCESS
200
JSAVE EXPONENT FOR LATER
JSET EXP TO 20@, RESULT IS
JSAVE
(,S,1)
SGR(,5)
FaDDJCALCULATE
8
FOIvJ1GET SQR(2)
JWHERE FaNUMBER
(F=SGR(,5))/(F#SGR(,S))
BLR420"
[
1GET
SGR(,5)
BACK
LEFT
IN
FAC
.
.
.
.
@
L4
MATHPK
Fq
632
VUR BASIC MCS 8084
AC
23=AUG=b64
000453°
OGLATES/ALLEN/OAVIDOFF
b1V
WATURAL
00P000VROLSS’
6330Qu0454°2QP0RYBLB445*
6340Q004S5*001000QURLAL
6350QuR4Se*PP0RAYAPR4RR’
636©0UN4S5T*BpUOADQBLESS’
6370200460*0010006380V0461*0Q0OOR639Quudbe’A0PRBOVPBAS6*
640Q00463°P10N00NUDLA4L
00B315
641000464°QQVVUDVPR4R4"*
00V465*0PV0VURVD461’
643020466°P0100V00WVR3L1S
64400VA6T*0VOORAADQueL1S*
645Q0V4T0*VRRVVE©VVAYL4*
646©00AD471*@N1000©LOVAL
Q004TE*
VRVReD
"93¢0FSUBS}
29320H,LOGCN2JEVALUATE
w9340
.
29360
BUT
CALCULATION
DUNE
IN
A
IS
EGQUIVALENT
DIFFERENT
APPROXIMATION
TO
ORDER
POLYNOMIAL
PULYX
f
200,200,000,000JGET
=1/2
CALLFADDJADD
IN
POPPSWJRETRIEVE
CALLFINLOGJADD
MOVRI200,061,162,032>JGET
VRAcAY
0Q00ATS’0RAGRYEPPORQVQD10ADQLRBV21650Q0v475*0Gevrer651000v476°QP00A0652vun4T7*Apluve©BLR31S29380
00050’
Q00S5A1*
A0ASV2*Pp0RRY
APRVVY
Ne100nBRBLRS’
PLR46T*
QvA361"94¢n
Q00505'
000504
Q005059pi000
Ppo00e
2pA0BY0VO31S
©VB1731"
©VBR500*29420
VBVLOL29440
VERVYR
3=)
JTHE
0UVD4T4*
BR10AD
PAGE
H,FONE648
QORS07*
27=AUG=75
29280649
00USN6’
06:v9
QVOL1L*
642
647
MACRO 47(113)
LOG FUNCTION
QRAVAR
RVALRL
MULLNZ:
IT
LAST
TO
CONSTANT
ORIGINAL
ORIGINAL
LN(2)
QLVYs)
PUAS10*AP00VBRQRE2CAV
P00S11*6plwveeaQobee2l
200512°000PBYAVAV30
P00513°Q0d00nvLBl62
A94640
29480
JMULTIPLY BY LN(2)
EXPONENT
NUMBER
THE
ABOVE,.
MATHPK
Fq
FOR
BASIC
MAC
MCS
8080
23mAUG=64
GATES/ALLEN/DAVIDOFF
Q6308
MACRO
FLOATING
66729502
668v9520
47(113)
86309
MULTIPLICATION
AND
SUBTTLFLUATING
49560IFEEXTFNC,
<
27=AUG=75
.
PAGE
MULTIPLICATION
JMULTIPLICATION
99540
FALTERS
4
DIVISION
AND
DIVISION
FACIsARG#FAC
A,B,C,D,E,H,L
09580FMULTS:CALLJENTRYWITH
#9609
49622IFN00AK4ELLENGTH=2,
<
XW0
1000,041
MUVRM>
FULXLH"PP1p0e0UA3L)29640FMULTY:POPR>JENTRYIFARGUMENT
0P1GU00DUA32Ln9660FMULT:FSIGNJCHECKIFFAC
RrRZ71F1S,200514°991000Q00AS15*
200516’00eS17*0P1v0ePOVB3STP00S52u*2a10000QVA31@09680@9700MYIL.21ADDTHE
asreeCaLLMULDIVJFIXUP
Q00S21*©p1eveQVAWSe
A02522°Ap00VeVOALAL
P20525°vploedA0A31S
B00524*VRA0NDQL1B3S*
IT
POINTER
AROUND
TWO
THE
PPOeAnNBASV4’021000
Q01000W01TY
pRALeR200530
000nS31*VpRRVY
0p0PADAvRLR6*
QRRS24°000532°¢
Q00535°QLR3SS298¢0XCHGQpleeeQeavde29820Q008534
P20535*Q0@000
vpoveoSHLD0QLR6OL*
0VeS30’Q00S36*
Q00537001000
P00ee©VVOLOL
0RAVRALxn9840LxIB,SCUDEQ02540*VNPPALY0VBAS34*Q00541°*Qe190e00012009860MOV0,8AP0545*da100000R04)L#9900LxIHy NORMALJPUTADDORESS
Q00544900VRY0VPO14bL*Q00B545*2pPPvn0Q0AS3T*Q00546A010000VPB34S29922PUSHN!THE
Q00547
QU0S50*
200551
QveS52*201090
QpVVeR
200NN0QVLOV4L
0BLESS7*
VBO544*29940LxIHyFHULTeJPUT
Qplove
Vv0S542* A01000
0Q0VI30
JSAVE
MOV
STA
ALLY)
THE
NUMBER
A,C
FMULTA+]
IN
THE
REGISTERS
JGET HO
JSTORE HO
JSTORE
ISON
IS
EXPONENTS,
WE
OFREGISTERS
TWO
CAN
STACK
IS
A
FLAG
LO*S
OF
IT
THE
FAST
REGISTERS
FHULTB#+1
MOV
JZERO
E\B
ON
THE
PRODUCT
OF
REGISTERS
NORMAL,
FMULT2
ON
THE
STACK
P10l
VP10V208345
ALB34529969
29980PUSH
PUSH}
}001000
Q00D
0ABRORY0Q0OVA4L
VORVTS»
0PRSSV’10000LxIJGETADDRESSOF
Q0eSS/*ApilvoeneeBL17610020BYTEMULTIPLY
000560'PR10ANVBRLV4310040Qnlovevepce?10060
10080@plove
VeYA0d
P00RAD
V01000Qvn31e
0VUR632*
WWLBS5S*
VVL3AS
WE MULTIPLY
MULTIPLY BY
FHMULT2:MOVJ1GET
INXJMOVE
IFNLENGTH,
<
OrA
A10100JzFMULT3>JARE
10120PUSHH1SAVE
12140<
LENGTH,
leleeMvI
10180LENGTH,<
Li.10>
1SET
TO
BY THE
THE MO
POINTER
WE
WERE
WE
FINISH
UP,
STACK
00US5S4*
0005557
VRP556*
QURS563*
Q0A564°
000565*
THE
L
ADD
WU0SS55*
vea561°*
Qv0S6e’
(HL)
ZERO
SO
THE
IN
BYTES
EXPONENTS
000525¢
29760
29789
ARG
2
ZERO
RESULT
B00526*
QuesS2/*
29740
IS
TO
NEXT
LO
TO
LO BYTE,
AND HO
OF
SO
WE
AFTER
wWILL
FAC
BY
NEXT
MULTIPLYING
TWICE,
BYTE
BY
ZERO?
POINTER
UP
A
COUNT
.
.
MATHPK
Fa
720
FOR
BASIC
MCS
8080
MAC23=AUG=64
000566°VP100Q
GLATES/ALLEN/UAVIDOFF
26308
FLOATING
.
.
MACRO
47(113)
10200XCHG
10220MVI
721@00OS567°Be1veDVLAL3E
722000576’QoOULRQLAGLY
06369
MULTIPLICATION
0VO353
27~AUG=75
AND
E
PAGE
4=}
DIVISION
10>
JGETLO*SIN
7SETUPCOUNT
A
(HL)
723
724
10260
725
726
727
201048
VEAR37
PRODUCT
THE
jROUND,
JNEXT
RAR
10500IFELENGTH,
<
10580
@LB32e10600
Q00577*0p100LQUB325
Q006AY*001000BOVVRL
00060A1*C0OLAD0VOS37H
V0060Re"DPOVLYBEBDS5TS*
10620
0P0eA3*
BD1000
Q006N4*B01VRG
QV0606*00OVA0
000605
PPlv0e
-
BE
4K)
1S
(C,D,E,B)
NOTE
TO
THEN
SHIFTED
WE SHMOULD
ONLY USED
THAT
IN
HyA>1SAVE
D,A>ISAVE
JNCFMULTSJDON'T
4K
THE
DETERMINE
RIGHT
CARRY
WHEN
BYTE
THE
OF
THENEXT
THE
SAVED
JUST
IN
D
TO
GET
READY
INTO
LOOKED
AT
THE
ALL
FOR
MSB
THE
THE
OF
BITS
RIGHT
A,C
J1GET
COUNT
I7
HO
ADD
IN
NUMBER
JSAVE COUNTERS
FGET L0*S OF NUMBER
DADb}JADD THEM IN
ACI']7ADD
IFE
PART
TO IT)
ZERO, WE
AND
SHIFTED
HAVE
0
D, $CODE10760
10789
14800
GET
LENGTH,
<
XCHG>
FMULTA:
WE
RIGHT
ONE
IS
WE
<
LENGTH,10740
C,H,L,B
ADD IN THE SECOND FACTOR
TO DETERMINE WHICH WAY WE
PUSH
LXIQUBB316
IN
FMULT2,
POP
JPUT
0
JGET
THE
LO’S
IN
COUNTERS
IN HO,
IF
BITWASZERO
ADD,THISIS
(HL)
TO
SET
ABOVE
BACK
THIS
IS SET UP ABOVE
0DVOWAD
10860
Q00607*PU10BRQVRL3TQule10*Q010GYVOU611"
200612°V01000
V1000VBQ11710962
200613Q010000Q0Q14710960
o100
AT
IFE
0VO1T74
0BAV3T
QBOLTS
000615QP10002A0616*0VRV3T
Q01000Q0R157
000617GOL10000QPDLTR
10880
<
LENGTH,
CHG
FMULTS:
10820
10840
000614*
WILL
FMULTB:10700
10720
LOOP,
IN
IF
IS
MoV
MoV
VEOV3)
0QLV321
(L
BYTE
JROTATE
MoV
10640
10660
10680
THIS
INSTRUCTION,
THIS
C,H,L,B
THE
HAS A COUNT
(H IN 4K),
IFN
KIGHT,
SHIFT
FMULT4:oea12700RedT"*
THEN
10480
E
8
THROUGH
JOFQVO1T1VRA563°
WE
TIME
jC,001000VpVLEd
PRODUCT
10442
O
"DAO"
MANTISSA IN THE FAC TO MULTIPLY BY,
((HL) POINTS
SUBRUUTINE PRESERVES (HL))
IN 8K, IF THE BYTE IS
10460velven
Valvee
C,0,E,B,
4K),
THE CARRY DETERMINES
0O, WE ADD IT 7O C,H,L,
B
000575PRABD
IN
1(H
J1FQv057e*QUUS75°THE
jSHIFT10540
10560
200574*
FORMED
10360
1038016420
TO
USE10340
IN
WE
ORDER
BEIN
OF THE
FMULT2
10520
A6AST6’
WILL
iTIMEJBYTE
P (THE
10400
200O571°¢
JTHE
1028010300
10320
SHFROA
0
L
H>
FARE
JGET
wE DONE?
NUMBER WE
ARE
MULTIPLYING
BY
IFN
FMULTS:
R
10920
10940
10980
JPUT THE LO*S BACK IN (DE)
JSHIFT THE RESULT RIGHT ONE
JROTATERESULT
JROTATENEXTBYTE
LOWER
AJROTATENEXT
A,JROTATELO
;JAREWEDONE?
JGETNUMBER
RIGHT
ONE
ORDER
11000
11020
11040
B00620*0010800PRV3T11060
Quve21"NR1000AvR1AT11080
Wen622°VO1VNDVL3S11100
Vele23*@olvveQer17211120
WE
ARE
MULTIPLYING
BY
.MATHPK
Fa
FOR
BASIC
HAC
MCS
8080
237AUGR64
GATES/ALLEN/DAVIDOFF
06308
773a00n24*174
7750006257000200200571°
P00626°0000002006817
961000
oLa302
776
777
1780pa621"000632°001000
01000000353
200341779000631°00120000031111220
00v632*
2001953
8/E
MoVE0
Moy0/C
oyCrA
001000000311290637201200208315000640"20120511408
11420
11440
200000600641220000ovoeas*
[ITTER
W
MOV%ee132200635°
2066307
POP
RET
FMULTS:20a117©B634¢
XCHG>
POPHRT:
LENGTH,<
¥a1000200633*
PAGE
FAULT4
1FN001000
w1280782784
Nz
27AUG=TS5
DIVISION
4=2
IMULTIPLYAGAIN
JGETIN
IF
WE
ARE
NOT
DONE
<
LENGTH,
IFN
1124011260
11280
11300
11320
11340
783
785
786
001200
47(113) 06109
MULTIPLICATION AND
11140
11160
11180
11200
789
781
MACRO
FLOATING
RET>
LO’S
JGETPOINTER
7ALLDONE
JMULTIPLYBY
JSHIFT8
JALL
IN
(HL)
TO
NUMBER
ZERO:
ZEROS
TO
SHIFT
ON
THE
MULTIPLYBY
EVERYTHING8
RIGHT
LEFT
DONE
787
788
789
190
791
792
793
794
200642°¢221000795000643*20000000004e
796
797
798200644202000
901060000204
208000
(LTI
799000645°
0ovede®
P0n6aT*000000000¢00
200000
800000650°o91000200651
* 200000200315
801802000652*
080000
11460
11480
FAC BY 10
A,B,C,0,E,
A L
CALLPUSHF
1PNLENGTH=2,<
MOVRI204,040,008,000jLOADCONSTANT
CALLMOVFR>JMOVETHE
000301
FOIVT:
815
816
817
818
819
000660
° 090200
2006617 091000
200662° 000200
9006657 901000
HyFTENJGET
MOVFM>JMOVE TEN INTO THE FAC
FGET NUMBER BACK IN REGISTERS
POINTER
JALTERS
INTO
AND
WE
ARE
DONE
A,B,C,0,E,H,L
FOR
TRYING
MVIL3771ISUBTRACT THE TWO EXPONENTS, L IS A FLAG
CALLMULDIVJFIX
UP
INRMJADD
2
IRM
00aKS6
000377
080315
000657°
822
823prorery001090voaves
000667001000ouaved
824
825
JHERE WE SAVE THE
JIN THE REGISTERS
8080
GATES/ALLEN/DAVIDOFF
MACRO
FLOATING
47(113)
06109
IS
TO
FAC IN MEMORY
GUICKLY,
27=AUG=75
PAGE
23AUG=64€2100020005311860827HJPOINT
221090
e0100¢nee17e
0eoC6e
20073411880MoVArH828200671
0a0672¢Dex11900STAFOIVA+1JGET HO
ISAVE IT
JSAVE
AND
GET
EXPONENTS
WE
CAN
ZERO
AWAY
TO
WITH
AND
IT
THINGS
CORRECT
SUBTRACT
SCALING
IT
FROM
THE
NUMBER
4=3
MAC
MULTIPLICATION
TO
EXPONENT
SO
000670"
26108
DIVISION BY
THE
826
DIVISION
829000675¢830
83100a874¢200000000664000675°291009200053[200676¢
000677*119200Gx83201200200176
2ede62AgHSTAFOLVBe1JPUT
00070020000020073011940
11962MOV001000835
836
837000701
¢ 20000000067500n702*
vae7as"2091200
o010ep[ISAVE
8380007947001060839200795°¢
200796000260
200020
840
DIVIDE
FACIRARG/FAC
FHE
001035°
833
834
f1@*
JCHECK
000000
200020
CONSTANT
DVOERR00000
NCS
THE
iz000664°
BASIC
TO
FSIGN00665
FOR
FAC
eeesi2
200eBes
202651820
Fa
THE
209357B21
HATHPK
TO
CALL
POPR
JFALL
000000
CONSTANT
LxI
IDIVISION
000655
° 201000
09120¢
REGISTERS
ovesal
811
8006567
000657
INTO
¢
LENGTH=2,
809
810
812
813
f1¢
©e0640"
808
814
NUMBER
001225°¢
1FE
000655° o01000
000654
" 01000
FSAVE
000021
803
804
805
806
807
JDIVIDE
JALTERS0IV1@:000053119800exove17612000MoVAgM
nveu62
ouaTa4*
I12020STFOIVC+]
TO
HO
MIDDLE
IT
ORDER
WHERE
NOTHING
WILL
HURT
IT
LO
84y
842
843JTHE NUMERATOR WILL BE KEPT IN
770 GET A BIT OF THE GUOTIENT,B,H,L,
THE GUOTIENT WILL BE FORMED IN
WE FIRST SAVE B,H,L ON THE STACK, THEN
BagFSUBTKACTWE
845
846JWHETHER
847JWE
848JTHE
849ISTACK,
JTHE
THE
OR
NEXT
POP
DENOMINATUR
NOT
BIT
THEM
THE
WAS
BIGGER
GUOTIENT
INTOTHEPSW,
ISZERO,AND
GUOTIENT
WE
B,H,L
OF
THAT
HAVE
TO
KEEP
AN
THAN
IS
IF
WE
SAVED
A
IN
THE
ONE,
THE
MEMORY,
DENOMINATOR,
TO
GET
UENOMINATOR
GETTHEOLD
EXTRABITOF
THE
THE
WAS
B,H,L
THE
CARRY
IF
OLD
B,H,L
B,H,L
BIGGER,
BACK
BY
QUOTIENT
WAS
OFF
THE
IT
FDIVG#1
BIGGER,
THE
NEXT
POPPING
IN
CASETHE
THEMSBOF
JOENOMINATOR
852
8531B WAS ONE, IT HAS TO BE STORED SOMEWHERE, SO WE STORE IT IN FOIVG#1,
JTHE NEXT TIME THROUGH THE LOOP B,H,L WILL LOOK BIGGER BECAUSE IT HAS
JEXTRA HO BIT IN FDIVG#+1, WE ARE DONE DIVIDING WHEN THE MSB OF C IS A
854iTHIS
855170
ROUND,
856JIT
IS
857
858
IN
iWILL
859
GO
WHEN
THE
WE
25TH
HAVE
BIT
THE MSB OF
INUMERATOR,
THE
FIRST
THROUGH
862
JARE
ALL
JMUST
000707°
020710°
aeo711"
001000
001000
200101
ZERO,
DECREMENT
MoV
S0,IF
THEEXPONENT
QUOTIENT
26TIMES,
THELOOP
WILL
THE
BE
SINCE
[
oV0,4
200714
@00715¢
000716"001090HovE/A
STAFUIVG+1
200000
020008
200720°©01098
874
000062
000737
LEFT,
IF
QUOTIENT,
WHETHER
ZERO,
IT
WE
THIS
STOPS ON
THEN
AN
ONE,
WHENWEJUMP
ROUNDORNOT,
IS BIGGER
THAN THE
MEANS
THE
AND
FOR
C,0,E
ARE
ALL
ZERO,
THIS,
B,H,L
HIGHEST
ORDER
002705*
000345
#00595
000721°0010000a0722"201600200175
876280725°200326
877200724201000
060000
071000
2en72s®
CORKECT
AND
A
Hov869000127
002137
001040
TO
C,D,EXRA000117000711*
FINISH
JZERO202353
h0a2s7XCHB.001000001608872
873
WE
IN
001090
878
OF
DETERMINES
THE DENOMINATOR
NUMBER2ee71e’
875
BITS
SHIFTED
JGET000713°
870
THE
GET
B,C863
871
OF
24
GUOTIENT
INITIALLY
THE OIVIDE LOOP
867
865
866
THE
IF
BIT
WILL
CALCULATED
OF
A,
B,H,L
WE
25TH
BIT
JAFTER THE FIRST NON=ZEKQ BIT OF THE EXPONENT,
SO, THIS GUOTIENT WILL LOOK
PSHIFTEL LEFT ONE FROM THE GUOTIENT OF TWO NUMBERS IN WHICH THE NUMERATOR IS
JBIGGER,
THIS CAN ONLY OCCUR ON THE FIRST TIME THROUGH THE LOOP, SO C,0,E
860
861
863
864
OCCURS
THEN
OF
THE
IN851
BIGGER,
STACK,
BIT
OFF
850
WAS
C,0,E,
INDICATES
FOIV1:
FoIve:
PUSHFSAVE LO’S OF
MoyJSUBTRACT
PUSH
Sul
UBTRACT
200600
002157
MOy
NUMBER
JSAVE HO OF NUMBER
ISAVE
IT
NUMBER
LO
THAT
WAS
IN
FAC
THEN
WEJ
MATHPK
F4
FOR
BASIC
MAC
879
889
8R80
GATES/ALLEN/DAVIDOFF
Q6308
voaT26"voleveVo1200vee174
QvesseBgeeen@0002n1000Qvo14712780
eonr3e’
882veor3L*
woap732*201000oeel1Te12800
vn1pee203300P0020Qvevae128e0
000735221000veniar9a1000aeev7e
000000
200740°oni1000@eavae
LUIEELY
200741*A00R00e
Bo0r42*201000
Q1000voeer7
Qvo3ee
200743°
v00OTa4"2neveeaveras’Qpoooe0ue7S5s*
avarie”
200746°na1eaeoooeee
FOIVG:
PSW
PSwW
Q810060woevelwa0754*15000
291000aeps2e200755*
Qverse*13020
221000LLR2T')2ea3nl
LU ELRYaee171001002QeouTd13100A
0oRLTSA
000765"Q003715120orieenavesta000765°Agvoee000234’
LTaearar’
0eRT66"201000Qovear
A,C
13160
13180
13200
RAL
<
LENGTH,
CALL
SHFTLO>
200173
13240
13260<
LENGTH,
13289RAL
MOV
AE
peevar0e0137MOVE, A
eva17eMaVavev2713320
13340A, 0
200127200775o21e00
daivee
ea1eee
aoievo13320weel17113360neerretgo109eLITTEYORDER
IF
NEXT
WESUBTRACTED
MOV
LDAFUIVG+)
RAL
8ase
GATES/ALLEN/DAVIDOFF
23=AUG=64
201010°2a1000Qe1o11*LTIyQ01012e200737"
2e1005*
22109132p1000001014°ove171
921000
2e10a0000ee6s
Q01000oeosee
26108
woavee
weoeee
ouerze”’
we1011*
CARRY
EVERYTHING LEFTONE
BIT
OF
QUOTIENT
MACRO
FLOATING
47(113)
JROTATE
06309
MULTIPLICAYION
AND
27=AUGw7S
THE
INTO
RIGHT
END
HIGHEST
PAGE
4=5
1358¢
13600
13620MOVJADU
ORA?
FOIVG+1
ONE
DID
TO
NOT
JTHIS
EXPONENT
IF
THE
THE
15660PUSHQueeal00R426*156892LxlPpvdove1GET
dp@eeneeteLr’QuileeeQovoe6S
200341157020
13720
13740DCRJOECREMENT EXPONENT
J1GET NUMBER BACK
JUIVIDE MORE IF NO OVERFLOW
avaree*
0oip3e’01035’0nee00aeoeeT*
0210342poveeQu1v3v*
PUP
13760
JCHECK
JALTERS
MULDVS:
SPECIAL
CASES
A,B,H,L
A, 377
A
HyARG=1
M
H
g,M
on1eee
eoieeo
2v10937°eol1ee0
Qo1040*Aobeee
Qele41r*
on1u4e’boveoe
Gole43*
opleed
001000
a0aLTe
wouee?
ove3le
avier?’
201033°*
aea17s
Qoaval
©vo1044°PpoeeeLU EL
281045200000veole40*
001046
go1000
énloveQ02w
@ag1050°
001051°se1000veei1e7
oeleoo
veleeeQvavs7
QvipsSe’
001055°
MULDIV?
LiA>
2317
AND
ADL
EXPOUNENTS
FOR
AyB
DDIV,
JENTRYFROMDMULT,
[ALL2
JGET
FMULT,
OCCURED
FDIV
TO
NUMBER
11TIS,
AlJGETADU
JGETPUINTER
JGETEXPONENT
J1ADDIN
8
EXPONENTS
EXPONENTS
AND
HO
OF
ARG
JGET EXPONENT FOR BELOW
ISAVE ADD OR SUBTRACT FLAG
MULDVR
WA
ADD
SIGN
J1GET HO AND SIGN FOR UNPACKING
JINCREMENT POINTER TO EXPONENT
118
H FAC
SUBTRACT
L" AROUND NEXT BYTE
POINTER
JSAVE
ITY
JCHECK
IN
ZERQO
OR
oue1TeAyBonieeewopseeneLuTe’MULDVYTWE
001056opoeenav1044”va1a57°*on1eee@vpsee2ueJPUT
MAVE
REGISTERS
FAC
AND
SUBTRACT
TO
wWE
ZERO?
ARE
DONE
FLAG
EXPUNENT
REGISTER
FOR
@pveo
anieoe
FAC
FROMJOVERFLOW
JGET SUM
221054°*
Q01055
NUMBER
TO
JENTRY
A
neagese
wela4r’
OF
LENGTH=2,<
1002,056
MULDVA:
001935*
PART
POINTER
JOVERFLOW}
)
IFE
vo1p30"
SUBTRACTION
CASE
LT ELE]
1SAVE
FIRST
WORK
ISN'T
@nvoe0
avesee
NUMBER
ORDER
dn1ean
QoleeeLT EM
aensns
OF
FINALLY|
DIVISION
STAORA
JINZ
ZERO
eo1021°290000
IN
.
.
1556215640
HO
vo1020"¢powon
vvlone
CARRY
BACK
NEXTA
13520MAC
OLD
JROTATEBYTE,
13540QeaTes”
AFFECTING
JROTATEJROTATEByA
avoe27?
ONE
ONE
ITHEMOV01000
A
mMUCH
WITHOUT
GET
A,BKRAL13500voleer*AREN'T,
MOV1546015480200107Qvavre
STACK
IS
BYTES
AC
200170Quer3r’
GOOD
OFF
JROTATE EVERYTHING LEFTHoeeval221000JWECoA>ea1002
LTI
Quloee
MUCH
DONE
VADQp1000YaveeeARE
MOVeainee’
021003°
v21004°
delede
BIT
MSB
IN
CARRY
IWE13440Qoia01’
vole31*
TOO
D,
A
000117dpeeen
2
TOO
WE DONE?
SIGN FLAG
MovPI'TT2Y)
VLAV
EE M
201024°
vo1825°
vo1026*
Q00v1027°
°21030"
QUOTIENT
NUMBER BACK
RAL210801006
NEXT
SUBTRACTED
OLD
WAS
NUMBER
QUOTIENT
13400
13420voloe00o1009°
IN
AROUND
133602e0771"*
vo102e"
.
IT
TO
RAL
201000°
aneewn
HIGHEST
BIT
JPUT
ROUNDB
Qo100e
21016
021017°
BACK
PREVIOUS
JARE
JSET
13140
do1eee
021015°*
NUMBERSUBTRACTION
JGET
Qoleee
MCS
FROM
CORESPOND
JTHEHaoieee
BASIL
CARRY
TO
JGETJWE
Boi1eee
FOR
OLD
B
Folves
15220
Fa
JGETFU"INC"
woaree”
Q0e774"
CARRY
JUPUATE
ORDER
THE
JSET
INEXT
vearel*
Q00772*
Qo0r713"*
HIGHEST
1000, 322000760*
2p1eoe
ORUER
BuBT44"
13040
13060
13080
Querer*
Qearre"
Qoer7TL*
HO
JSUBTRACT
129800on7S3"*JTSUBTRACTYJGET
12960nveselMIDDLE
§81FLUIVe+)
CLLELY)JSUBTRACTMVI12940@povee
000764
"
MATHFPK
Sel
Fulve
op1eee
000757*
°
.
SB1
12900
1292021020
4w4
MOV
12880
220747°*
By
PAGE
DIVISION
MOV
FOIVA:
12860
eaprsa’
Qeersr*
27=AUGn7S
AND
MOV
12840
020750"
0207511
200000
Q6309
MOV
FolvB:
12760
000734
008736
47(113)
MULTIPLICATION
12740
020733
200731
MACRO
FLOATING
vvarar*881
883
MCS
23=AUG=b4
EXPONENT
OVERFLOW
IF
SIGN
IS
THE
SAME
AS
CARRY
OVERFLOW|}
EXPONENT
IN
EXCESS
200
.i.
MATHPK
Fa
FOR
BASIC
MAC
MCS 8080
23=AUG=64
GATES/ALLEN/DAVIDOFF
Q6108
MACRO
FLOATING
47(113) 26309
MULTIPLICATION AND
27=AUG=75
o
PAGE
4=6
OIVISION
985LT966v21061"Qp1000avei6798714300valoee’221000o0o3teVo163’Qo0Cee14320PUPHRT@ee63e’989pele6s’wpenee001055°9922o1065"
Qu1066*deieeeneB31514342UNPACKJUNPACK
14360MyAJSAVE THE
JPOINT TO
988
991
992
Qpouee
duacev
L)oeiere’
021¢67°2pvoee01063
eo1a70°
oo1071"epieenoe0167
veleoe
LI
T E]
MOV
My
A
14380
vo1eve’voleee2ens1114400
eo1e7s*@p1000volaT4r14440
@21000Q00357
0R0eST001075°¢anleveELLETRY14480
P01076°ao1oeevoboee?CEXVIAL]221000bbB341
H
EXTFNC,
<
FSIGNPOPH>
14509MULDVL3ORAA
14520muLOvesPOPH
14540
14560
THE
RETURN,
ARGUMENTS
NEW SIGN
EXPONENT
DONE,
JGET
OVERR
L
THE FAC
LEAVE
HO
IN
JUON*T SCREw UP STACK
7118 ERROR OVERFLOW OR
«
LENGTH,
14580
IN
UNDEFLOW]!
A
TENTRY FROM EXP, PICK UNDERFLOW
JPICK OVERFLOW IF POSITIVE
CMA
14460
IT
HAVE
JALL
IFNMLOVEX:
14420
JSAVE
JWE
OLD
RETURN
IF
NEGATIVE
UNDEFLOW?
ADDRESS
OFF
STACK
JOVERFLOW
JUNDERFLOW
14600
==
FALL
INTO
ZERO
14620
JALTERS
14680
MATHFK
F4
RET>14800LENGTH,<14820PZEROJUNDERFLOW
woesns
QvoesT*
ep1101"*14840JMPOVERR>JOVERFLOW
14949vplo00pvpsee
oe173*
Quives”’
001125on1000001104201105@pooed
@peoveBo1106"dp1e0e
14900
14920
eotye7*Qpoeve0ves15
PRIeR1110*
eo1111’
bei112*200000201104@a10eeQvai17e14960
vo1113*velove
JALTERS
CALL
FAC
BY
A
J1ZEROFAC
7ALLDONE
10
A,8,C,D,E,n,L
MOVRF
MOY
JGET
NUMBER
avoee?14980T E)P210001508002vpsae6R15020ADIHIT I8
JMULTIPLY
15040JC|
FOVERFLOW}
vo1116°P01000voyLn’ap000eQvovae
Qve33e
T
YA
201120*90000ae1107*
vui121*en1na0avarar
FUR
BASIC
nCS
B08Q
MAC23=AUG=b4
Qe112e’@nlowe
aay125°
221124°anenanwoeves*
eo1117"
221125°Bel1ea0wuee4l
veeeeo
ORA
15060
GATES/ALLEN/UAVIODOFF
D6:€8
Aeds15
FLOATING
IRESTORE
MACRO
47(113)
06369
MULTIPLICATION
AND
27=AUG=75
PAGE
JADU
15100LxIHyFACJADD
vo1126*vooeeno144eo1121°ondvon
2921000av1123°Avoved1045V01092015120
LT1046bo1132*en1000avases1047001135°P01134°ooecer*15140
15160
veeeee1048vaeeee
4
IF
BY
ARG
IS
ADDING
ZERO
2
TO
EXPONENT
EXPONENT
4=7
FADD201130°
Po1131°
BY
DIVISION
CALL1043
KEGISTERS
.
.
150801044
IN
JGET EXPONENT
JRESULY I8 ZERO
Q00000104y
1049
FMULTIPLY
MUL1D3
JZERO
FAC
@o1115°1038
1039
1040
1042
-
14740apee0e
eu1114*
°
.
A ONLY
WITH As@
A
XRASTAPo1100°*
ealoeen
FEXITS
1470014720oo1101°*
e01102’
Baeveoe
FAC
1ZERO
14640
14660
7
2
JALL
IN
ORIGINAL
§TO
TOGET
DONE
NUMBER
EXPONENT
1@
IF
)
JOVERFLOW]
TIMES
NO
TO
TQ
GET
MULTIPLY
S5
TIMES
NUMBER
IT
BY
ORIGINAL NUMBER
OVERFLOw
Q01126
15180
-.
MATHFPK
Fa
FOR
BASIC
MAC
MCS
80289
23=AUG~64
GATES/ALLEN/DAVIDOFF
Q06108
1050
SIGN,
47(113)
FLOAT,
SUBTTL
152002
15220
1051
MACRO
SGN,
06309
NEG
AND
S1GN,
J1PUT
SGN,
SIGN
FLOAT,
OF
105215240JALTERS
105315260
15280JLEAVES FAC
15300INOTE:
IFSIGN
153290JTHE
15340
15360REPEAT0,<
15380SIGNSLOA
}IN
15400
001000Qveere
IARARA]T17777»
A21137°@veeenp01135°
Vo114e*vn1200200376
Qu1141°
0o1142*
oelaee
021000avevar
001145°@n1000neaes7
a01144°A010060200390
aveus?
15460
15480
15500
15520
15549
op1000eveuv74Pa1146"*15560
oa1000wees1115589
PVR3S57
onieoe921151Qpoveea60cle
#u1152*vp1000pugeal
0011530uoueea0eeRln
001154°apoeenne1136°
voeLes
NEG
IN
ANDABS
A
TAKE ADVANTAGE OF THE
DEFINED TO BE AN RST,
FEw
INSTRUCTIONS
BYTES
AT
THE
RST
FAC
vur126n
ISALHAVS
JCHECKIFTHE
18,
ISZERO
OFFAC,
P"CPI"AROUND
JENTRYFROM
JENTRY
15700
15722FSIGN>
IF
xsZERO
ISNON=ZERO
IF
ONE
DONE
JGETSIGN
COMPLEMENT
PUT
WAS
@,
NUMBER
IN
A
IF
WAS
SIGN
SIGN BIT
As377
IF
NEGATIVE
NUMBER
WAS
IN CARRY
CARRY
WAS
MATHPK
IN
OF
INTO
u,zaJSETWXlU, $CO0E1ZERO0,E
JFALLINTO
TFLOAT
JALTERS
THE
SIGNED
NUMBER
A,8,C,0,E,H,L
H,FaAC
EXPONENT
CORRECTLY
IN 8,A,0,E
JIGET POINTER TO FaC
Q00eee001155°*Qe1200avait715989MOVJPUTHO
de1e0016000
160220MOVduloeeQ00160
vuoeesJPUTMvIEXPONENT
JZERO001165@p0e002vevew001164°ogleneweowV4sINXJPOINT
TO
2v1165*
201160vpleeeQbouee16040
160260LLrLT)vovenwJASSUME
A
M
A
FLUATR
P21187°
Q01160
MvI
IN
A
MVI
LxI
FAC
FLOAT
201161
Q01162
PUK
BASIL
AC
MCS
8080
23=AUG=64
hA!E:/ALLEN/uAVIuUrF
vb1U8
SIGN,
IN
C
IN
OVERFLOW
THE
FAC
BYTE
SIGN
POSITIVE
NUMBER
.
.
MACRO
S6N,
47(113)
FLOAT,
BeL167"ve1000pvover16280RAL
1104e21170°
201171°
ae1172*291000Qvases16100Q0d143°JMP
vQ00ae
LT
06309 27=AUG=7S
AND ABS
NEG
11e3
1105
1106
PAGE
S=i
JPUT
FADFLT
GO
SIGN
AND
JABSOLUTE
JALTERS
a01175°*
Q00357
0a1174"*unienadST
VALUE
OF
INEGATE
JALTERS
INOTE:
001000221176
@21177°*11117117777
200000eu1171"
@n1000900176
duiene
200000
2610020
NUMBER
1S THE ARGUMENT AN INTEGER?
JYES, USE THE INTEGER ABSOLUTE
ELT)
061175
001000
THE
FAC
1GETTHE
JALLDONE
200L41
Q0v3se
NEG3
NUMBER
A,H,L
THE
IN
NUMBER
THEFAC
MUSTBE
ITIS
TOSIGN
NEG
POSITIVE
PACKED
HyFACw11GETPOINTER
MOVAyMJGETSIGN
XRI2002JCOMPLEMENT SIGN BIT
MOVMy AISAVE
IT
JALL
DONE
RET
LENGTH=2,<
JNEGATE ANY TYPE VALUE
JALTERS A,B,C,0,E,H,L
VALTYP
f ]
IN
VALUE
FAC
IFLXI
280200
20167
LITER
Y
SIGN OF
INTO
JFALL
0v1292"
201205°
201204
CARRY
A,H,L
LENGTH=2,<
2
1ABS>
Qoi1eee
vat1z2o0*
vor201*
INFLOAT
2e1156°
0oL175"
1
POSITIVE
.
o
F4
DONE
BYTE
ICOMP,
CARRY
JPUT
JFLOAT THE SIGNED INTEGER
JALTERS A,8,C,0,E,H,L
FLOATR:
SIGN"
RS
IT
NEXT
FCOMP,
FROM
J1ALL
JTFALL
15960
ARE
A,8,C,0,E,H,L
LENGTH=2,<
15849
SIGNC)
FUNCTION
JALTERS
15680
FLOAT:
AN
NUMBER
A1000,376
INRART:
15800
15820
ONES BEFORE
SIGNJ1GET
JRETURN
15949
npocal
QpR0eeJFSIGN
JA=@
$1SGN
(THE
LOCATION,
JIT
ICOMPS:
15929
fp1000001156
RST INSTRUCTIONS TO SAVE BYTES,
"FSIGN" IS EQUIVALENT TO "CALL
SIGN
A
15860
801155°*
OF
FAC=1
FLOMPS?
15782
Po1150*
FAC
ALONE
SIGNS;
15662
bal1voe
8
LA
15640
Qo1147°
THE
S
RZ>
SIGNC:
15440
2a81145°*
TO
IS
B
PAGE
ONLY
FIRST
ORA
15429
001135vo1136"
A
27=AUGw75
ABS
THE
JSEE
FAC
WHAT
INEGJWE
THERR1BLOW
HAVE
NEGINEGATE
UP
KIND
OF
NUMBER
ANINTEGER,
ONSTRINGS
SNG
AND
DBL
WE
HAVE
NEGATE
THE
IT
THAT
SAME
1SGN FUNCTION
FALTERS A,H,L
CALLVS1GN
MOVLeA
RAL
$88A
MOVHyA
JMPCUN1SS
JGET
THE
JASSUMES
JALTERS
SIGN
A
HAS
A H,L
OF
THE
THE
JGETTHE
JPUTIT
SIGN
IN
THE
OF
THE
LO
THESIGN
JRETURNTHERESULT
VALUE
VALTYP
IN
WHEN
THE
FAC
CALLED
IN
FAC
IN
A
POUSITION
JTEXTEND
TO
A
THE
AND
HO
SET
VALTYP
WAYMATHPK
Fa
FOR
BASIC
MAC
MCS 8080
23=AUG=64
GATES/ALLEN/UAVIDOFF MACRO 47(1143)
06108
SIGN, SGN, FLOAT, NEG
1156
17040
VSIGNi
06509 27=AUGs7S
AND ABS
PAGE
Se2
1157
1158CPI217060
17060Nz
LHLDSI6N
FACLOINO,
JGET
1159
116017100
17120Moy
ORAArH
L1GET ITS SIGN
JCHECK IF THE
115
11611714017160MoVAt11TISNYT,
17180
17200JupICOMPS>760SET
MATHPK
FOR
BASIC
MAC
MCS
8080
23=AUG=64
GATES/ALLEN/DAVIDQrF
06108
1165
FLOATING
17228
1166
MACRO
POINT
001205¢001000000355
1169001206
17260
PUSHF:XCHG
$PUT
POINT
FAC
JALTERS
ON
WE
A
AREDONE
SIGNIS
IS
THE
000555+001176°
0934317320XTHL
1173
1174221000
201000002545
02005217349
17368PUSH
LD
1175
1176
177
178
179
1180177717
a0o0es
001060
201000
601000
001000771771%
Ai207*
0¢0343
002345
00353
00D31117389
17400
17420
17449XTHL
PUSH
XCHG
RET
175¢0JMOVE
17520JALTERS
118517549AT
1186
1187021222¢00100000031517560
17582FAT EXIT
(HL)1=(HL)#4
CALL
HOVRM
1188
1189001223
0012247Q00ReD
60000001245’
001214’
SIGN
OFH
INFAC
CORRECTLY
6
FACLO
JGET
(HL)
LO*S
JSWITCH
H
FACet
JPUT
JGET
LO’S
AND
RET ADOR
HO*S
RET
BACK
ADDR
ON
STACK
FSHITCH HO'S AND RET ADUR
JPUT RET ADDR BACK ON STACK
JGET OLD (ML) BACK
FALL DONE
NUMBER
FROM
MEMORY
[(HL)]
TO
FAC
B,C,0,E,H,L
EXIT
NUMBER
IS
IN
8,C,0,E
JGET
17620
JFALL
NUMBERIN
REGISTERS
INTOMOVFR
AND
PUT
IT
1191
1192
1193
17660
1194
001225¢
00i220f
00122/
921230¢801000
2010A0
000WED
800000MBO353
ACOL42
0¢1207*1199
1200001231°
001232'001000
00100€60140
001511202001234777177T1T177%1203001235°00o0es001227°1204001236°801000QL35S17808
1205001237001200@¢031117820
1210001248%001000001241 000RG0062041@U1227*1212D0i24e’00OBLYAE1234*
1201
001233¢
00levs
0GOL4e
MOVFRI
17740
17760
17780
JALTERS0,E
XCHG
SHLOFACLO
Hov
MoyHi8
L,
(8,C,D/,E)
TO
FAC
FGET
JPUTLO*S
THEMIN (HL)
WHERE THEY
JGETHO'SIN
JPUTHO'SWHERE
XCHGJGETOLDRET7ALLDONE
SHLO
17889
1209
1211
17768
17720
REGISTERS
BELONG
00i22s’
1206
1207
1208
1213
JMOVE
17680
1195
1196
1197
1198
FMOVE
17900
17920
MOVRF:
FACw1
FAC
TO
REGISTERS
JALTERS8,C,0,E,H,L
LXIHyFACLO
(HL)
(HL)
THEY
BELONG
BACK
(8,C,0,E)
17940
JGETPOINTER
JFALLINTO
TO FAC
MOVRM
1214
1215
1216
1217
18000
16028
WORK
ZERO
ROUTINES
ISAVE
020LSe002000
901000
1150
IS,
NUMBER
STACK
000000
MOVFMI
INTEGER?
0/E
001000
1181
1182
1183
1184
PAGE
MOVEMENT
171
1172
216¢
LALD
27=AUGa7S
AN
RUUTINES
1170
0p1221°
173e8
06309
MOVEMENT
FLOATING
17262
1168
47(113)
SUBTTL
17249
1167
11T
ARGUMENT
SINGLE AND DOUBLE PREC,
THE INTEGEK ARGUMENT
1162
1163
1164
Fa
RZ
THE
JGET NUMBER IN REGISTERS
FALTERS 8,C,0,E,H,L
(B,C,0,E)
FROM
MEMORY
((HL)I
THE
SAMEBASIC
MCS
808vu
MAC23=AUG=64
B01245°
GATES/ALLEN/DAVIUOFF
wb3L8
MACRO
FLOATING
18040FAT
0alvvd2vB13e18060MOVRM3 . MOV
V010080VLVOV4S18080INX
021245*0010000Qed12618100MOV
Qr1246°22100002AV4318120INX
B01247*0o100R0BOLL618140MOy
001250*
2¢1251*0210000Q0VAV4S18160INX
801060
002106
18180
A01252*0012000QQUV4318200
01000QL231118220
Vo1254*0010000DRLVRY18320
Q01255°200020Qv1c4lw201256°@020009201241°
96369
MOVEMENYT
Vo1244°B01255¢
.
47(113)
POINT
EXIT
MOY
INXHRT:
27=AUGeTS
PAGE
(HL)#=(HL)+4
INX
oM
IGET LO
JPOINT TO MO
JIGET MO
JPOINT
JMOVE
18300
MOVMF:
NUMBER
FRUM
FAC
JALTERSA,B,D,E,d,L
LXI0,FACLO
B01257*
201260'
001000
VPOPOY
QLALRG
QWLELA4
JMOVE
18420JALTERS
18440
18460FEXITS
18480
18500
Wo1261°
bo1262*
001263°
0p10ee
201000WVroL32
vWol16T
185¢20
NUMBER
MVl
IFELENGTH=2,
<
MEMORY
NUMBER
TO
FAC
MOVE
(ML)
(HL)3=(HL)+4
ISET
COUNTER
JGET
JPUT
QLALRS20100000OV4318600INX]
QLBLOS
wuLB3Le18620
18640OCR
JINZB
021267°2000000uieHl’90127020008AL1255°Qe1271°vo10e0QUASY)
Q81275
TO
[ALLRS
00lvee
INX
18660RET
JUNPACK
JALTERS
18760
18780JWHEN THE
FMANTISSA
A"
OVER
WORD, ENTRY
IT WHERE IT
JINCREMENT
JSEE
THE FAC
A,C,H,L
AND
THE
IF
FACel
HyFAC=1
BYTE
FRUM VMOVMF
BELONGS
POINTERS
TO
NEXT
WORD
DONE
REGISTERS
NUMBER IN THE FAC IS
IS RESTORED, AND THE
JIN
LxI
NEXT
JMOVE NUMBERS INTO THE FAC
0
18729
18740
UNPACK:
INTO
Y]
My A0010040
221000
18800
18820
JFALLLOAX
MOV201264*
QLAL4l
(DE)
POINTER
1000,276P01266*
V@leve
FRUM
NEXT
((HL))
J1GET
(DE):s(DE)+4,
8,4
20u1265°
001272°*
16580
DONE
XwD
XCHG>
MOVEL1:
7ALL
HU
A,B,0,E,H,L
WITH
MOVER
MOVVFMI
18540
18560
HO
TO
18340
18409
TO
JGET
JPOINT TO EXPONENT
JGET EXPONENT
JINC POINTER TO BEGINNING OF
RET
18280
L3}
RUUTINES
=
FOR
=
F4
=
MATHPK
IoIxOIOcCXMmM
.
UNACKED, THE ASSUMED ONE IN THE
COMPLEMENT OF THE SIGN IS PLACED
7POINT
TO
HO
7177177TTNTTI#0e1274*0pOvRe001267Q01275°G01000Q0217618840MOVAgM1GET
Yule7e*2010000UB36S18869PUSHPSwWJSAVE SIGN
Q0127701000QLR36618880ORI200JRESTORE
221300Q0000000R200201301°0n1e0@0QVALI6T18900MOVMyAISAVE
HO
€01302*2012000UB36)18920POPPSWJGET
SIGN
HO
AND
AND
SIGN
SIGN
THE
HIDDEN
ONE
.
.
.
.
MATHPK
Fq
FOR
BASIC
MCS
8080
GATES/ALLEN/UAVIDQFF
MACRO
47(113)
26309 27=AUGn75S
MOVEMENT ROUTINES
PAGE
6=2
MAC23=AUGwbY4B01303'
Q013024°901026
001000©LRARSe
QLOL4S18940
18960001325°021000QUBL4S1898019000MOV©01307*
221310
201311°20100A2
Vni1200
Qp10000QLO17}
0QVR36S
0QVL36619029MOVA,CJGET
190249
19260PUSH
ORIPSW
2ua1SAVE SIGN
JRESTORE THE
va1312°Q00000vLDCRR
001306°
0n1200
P6308
0QUO167
FLOATING
POINT
XRA
INX[
H
INXH
1GET COMPLEMENT OF SIGN IN MSB
JPOINT TO TEMPORARY SIGN BYTE
My A
7SAVE
COMPLEMENT
HQ
AND
201313°2010009ACA11719089MOVC,AiSAVE
P91314°00100000036119102POPPSWJIGET
201315*
P01316*201000
Q01000©RAeS6
0QeR31119129
19140XRA
RETMJCOMPARE SIGN
JALL DUNE
19209
19220
IFE
REPEAT
LENGTH=2,<
@,<
19240JPUT
19260FSTRINGS
19284
19300
ANY
JVPUSHF
TYPEVALUE
ARETREATED
JALTERS
LDAA,B,C,H,L
LTYP
19320CPI4
19340LxlH,FACLO
VPUSHF3i
19360
PUSHMN
19380
THE
THE
ON
AS
THE
REGISTERS
HO
WILL
BACK
OF
BE
FROM
FAC
AND
INeLINE
THE
SIGN
IN
OF
REGISTERS
F3
FAC
INTEGERS
J1GET
THE
VALUE
ISETFLAGS
JGETPOINTER
JRETURN
19400
JPUSH
19440
THE
ONE
TYPE
ACCORDING
TO
LO
TO
IN
VALTYP
FAC
JPUSH FACLO#@,1 ON THE STACK
VPUSHD
19420
SIGN
OFMIDDEN
SIGN
STACK
OF
SIGN
THE
FACe1,0
VPUSHDJRETURN
DyDFACLYJWE
19460
IF
IF
HAVE
WE
A
JPUSHITS
JALLDONE
DATA
AN
ONTHESTACK
HADASINGLE
DOUBLE
4
WAS
LO
PRECISON
BYTES
ON
THE
INTEGER
UR
PRECISION
A
STRING
NUMBER
NUMBER
STACK
19480
19500
19520
VPUSHD:>
195402
19560
JMOVE
19580
19600
19620
VMUVFA:
ANY
19640
TYPE
VALUE
FROM
MEMORY
JALTERSA,B,D,E,N,LLXIHy ARGLOJENTRY
JMPVMVVFH7
VMOVFM: LXI
0, MOVVFHN
([(HL))
FROM
TO
DADD,
FAC
MOVE
ARG
TO
FAC
JGET ADDRESS OF LOCATION THAT DOES
AN
"XCHG"
ANDFALLS
MEMORY[(HL))
INTO
19660
MOVEQ
19689
19700
FMOVE
19729
19740
VMOVAF:
ANY
TYPE
VALUE
JALTERSA,8,0,E,H,L
LXIH, ARGLO
19760
FAC
TO
FENTRY
JMOVE
VYMOVYMF:LXI0, MOVELJGET
19800VMYVFM:PUSH0JSHUVE
Lxl0,FACLO
19840
LOA
VALTYP
iGET
JGET
FROM
FAC
19780
19820
IT
ANI177FSTRINGS
MOVB,A7SET
CPI
19920RNZ
LxI
19960RET>
OMUL1@,
UP
OF
ON
MOVE
THE
LOOK
THE
SUBROUTINE
STACK
LIKE
INT,
SNG
REALS
COUNT
10100WEHAVEI1wEDONOT,GODO
D,DFACLDJWED0,GETLOADDR
160DO
THE
DDIV1@
ARG
FIRST ADDRESS FOR
THE VALUE TYPE
1986019940
FIN,
TO
ADDRESS
19880
19900
-
FROM
DBL?
THE
OF
MOVE
THE
DBL
NUMBER
MOVE
-MATHPK
Fa
FOR
BASIL
MAC
MCS
8080
232AUG=64
GATES/ALLEN/DAVIDOFF
0
8
1324
MATHPK
Fa
19960
FOR
BASIC
MAC
MCS
8080
23%AUG=64
GATES/ALLEN/UAVIDOFF
06108
1325
1326
1327
1328
1332
20034520240
20100020260
20280
201333°¢
201334201090Qeed120320
771777717777+200020
001099201325°1347
1348
1349
13500e1340°001200
@n1000
135100134101352001342*001000
000020
000000
0256
202171
000376
000515
0013477
001334¢
o00u37
20340
20362
20380
20400
21345001000
2010080251291346201208#231120440
20460
1358
1359201347*
001350201000000043
0¢0170001351°oo1000a0e27620520
a01352°©012002003001362001353¢0010001363
13646o1354°*@01200
291000000053
200171
1367
IFF
701000
091900
001357¢ 091000
001362¢ 601200
201361
¢ 001000
0ueeTe
200320
200053
2uaire
veeere
a01362¢001020200300
201363°020055
201365¢991000
001000
201000201360°
2013647
208175
avp226
FCOMPE
A HAS 377
FALTERSA/,
L
MoyA8
20300
1355
1356
1357
001355¢
001356°
,LT,
HyFCOMPS
001522t0eassT
200171
200310
201344
ARG=FAC
LX100oe41
Q011417201000001090
201343¢
ARG
IF20220201000
000000000000
20420
20500
20540
20560
20560
20600
20620
20640
20660
20680
20700
20720
20740
20760
20782
201000200300001367¢001090008341w01370¢20120020934120802
20820
20840
20137172219090e931120860
6=3
PAGE7
PRECISION
NUMBERS
FAC
ihs=1 IF ARG ,GT, FAC
JDUREL DEPENDS UPON THE
A
201000
001335°¢
IF1A%0516N
0e1331°
9e1332¢
001336¢
iA%1Jzova26T
000312
00000+
201273°
001337¢
27mAUGRTS
ORA100000
000200
001330°
86109
COMPARE TWO NUMBERS
JCOMPARE THO SINGLE
202000012000a1322°
1346
47(113)
201892013217PAGE
NUMBERS
201000201320°
1344
1345
SUBTTL
201601336
1337
1338
1339
1342
1343
TWO
20000
200200001701335
1341
MACRO
COMPARE0010001334
0913237
201324¢
01325°
21320
261327
27=AUG=TS
ROUTINES
PAGE
20140
2013177
06309
MOVEMENT
20080
20100
20120
1330
1331
1340
47(113)
POINT
20040
20060
1329
1333
MACRO
FLOATING
FACT
THAT
JCHECK
JWE
JUMP
CAKRY
ON
ZEKQ
SIGN
ISEEIF
JIFTHEY
FCOMPS
THE
SIGNS
ARE
WHEN
ARE
WE
THE
DIFFERENT,
THE
REST
OF
THE
ARG
SAME
RESULT
IS
SIGN
OF
ARG
NUMBER
INUMBERS ARE DIFFERENT, CHANGE
i BOTH NUMBERS ARE NEGATIVE
JPOINT
OF
DIFFERENT
ARE
JCHECK
760 SET UP
FeomP2:
IS
WITH
JPUT THE ADDRESS ON THE STACK
JCHECK IF FAC IS ZERO
JIF IT IS, RESULT IS MINUS THE
11T 18
JPOINT TO SIGN OF FACArC
TO
RETURNS
DONE
ITHEY
FCONPD:
ARG
ARE"
Feonp2
FCOMP
IF
TO
SIGN
IF
A
EXPONENT
JGET EXPONENTOFARG
JCOMPAREHOOF
JCOMPARE THE TWO
INUMBERS ARE DIFFERENT
JPOINT TO HO
J1GET HO OF ARG
WITH
FTHEY ARE
JPOINT TO
JPOINT
JGET
T0
LO
FAC
DIFFERENT
MO OF FAC
JGET MO OF ARG
JCOMPARE WITH MO
JTHE NUMBERS ARE
LO
OF
OF
OF
FAC
DIFFERENT
FAC
ARG
JSUBTRACT LO
INUMBERS AREOF FAC
DIFFERENT
INUMBERSTHE
7ALL
DONE
ARE
SAME,
DON®T
SCREW
UP
STACKMATHPK
rua
BASIC
AC
MCS
8080
23=AUG=64
GATES/ALLEN/VAVIDOFF
V6308
MACRO
47(113)
063109
27=AUG=75
CUMPAKETwO137920920IFE138020940LENGTH=2,
<
JCOMPARE TWOINTEGERS
209621A=yIF(VE)LT,
20980
21000iA=0IF(DE)=(HL)
IAsel2102¢JALTERSAMoyA0
PAGE
T7=1
NUMBERS
1378
21040
21060
21080
21100
21120
1COoMP3
al140
21169
IF
XRAH
AH
JMICOMPS
CMPJNZ0
SIGNS
MOVAyl
TWO
DOUBLE
JAs)IFAKG
JA=QIFARG=FAC
21500
21522
21540
IS
IF
JALTERS
PRECISION
6T,
JENTRY
JSET
MOVEL
0, ARG
0JMOVE
THE
A
THEY
JGET
JSEE
WITH
THE
ARE
THE
SIGNJ1ARG=Q,
LXIH,FCOMPSPUSHHJPUSH
J
TO
JSEE
0
0
CoA
LxIHyFAC=1
XRAM
MOVA,
C
SAME
)
o
AND
ARG
DBL
INTO
IN
(DE)
NUMBERS
ARG
ARG
UP
A
ON STACK
SET
UP
TO
SIGN
OF
A
SO
WE
WILL
RETURN
TO
1SETUPA
JGETA
EXPONENT
OF
FROMARG
ITWITHTHE
ORDERBYTES
JARE
INO,
JTHEY
ARE
ARE
.
°
NUHBERS
FAC
FAC
DIFFERENT, GO SET
THE SAME, EXAMINE
WE DONE?
COMPARE THE
ARE
ARG
COUNT
BYTEJCOMPARE
}
TO
ARG
JIGET SIGN OF ARG
ISAVE IT FOR LATER
JFAC=0, SIGN OF RESULT 1S SIGN OF
JPOINT TO SIGN OF FAC
JSEE IF THE SIGNS ARE THE SAME
JIF THEY ARE, GET TnE SIGN OF THE
JTHE SIGNS ARE DIFFERENT, GO SET
JPOINT BACK TO EXPONENT OF ARG
JTHEY
JTHEY
)
SET
FCOMPS
TO
TO MOVE
IF FACs=@
JPOINT
-
PCTITIVMIOCR®IO
RM
GO
IT
JPOINT
KZ
POINTER
ARGUMENT
POINTER TO
IF ARG=Q
AJz
FSIGN
THE
NEXT
SAME,
BYTES
GET
UP
THE
NEXT
FCOMPS OFF
LOWER
STACK
-
.
MATHPK
F4
.
HO'S
LO*S
UP COUNT
ORA
3
QCOMP1
(HL)
THE
FAC
CALL
MOV
OF
A,B,C,0,E,H,L
H, ARGLO8,10
LDAX
SIGN
COMPARE
,LT,
ARG
7% & ¢
vex
THE
A
NUMBERS
MVI
LxI
LOAX
SAME?
DIFFERENT
THE SAME,
1GO SET UP
JALL DONE,
1Asw)
OCOMP:
THE
ANSWER
JCOMPARE
21320
214402
21460
21482
SIGNS
ARE
ARE
160 SET UP
21340
21420
THENOT,
JTHEY
JTHEY
SIGNS
JCOMPARE
DCOMPD
JARE1IF
E
JINZ
21260
21280
2130¢
21380
21400
(HL)
RET
212209
21249
21360
(ML)
.GT.
ONL
MOV
sus
21180
21200
(DE)
rvx
AC
BASIC
MCS
8080
23=AUG=64
GATES/ALLEN/VDAVIOOFF
Q26108
CUMPAKRE
143}21960
143221969
MACRO
Two
47(113)
06309
272AUGnTS
PAGE
7=2
NUMB: ERS
RET>
JALL DONE
PAGE
--
.
NATHPK
FOR
flAblL
MCS
8080
23=AUGw64
GATES/ALLEN/DAVIDOFF
06308
1433
22000
22020
1434
1435
1436
1437
MACRO
CONVEKSION
47(113)
ROUTINES
06309
BETWEEN
SUBTTLCONVERSION
IFELENGTH=2,<
22040JFORCE
22060FALTERS
22080
FRCINT:
THE
27-AUGe7S5SPAGE
INTEGER,SINGLE
ROUTINES
FAC
TO
BETWEEN
BE
AN
AND
DOUBLE
INTEGER,
PRECISION
SINGLE
VA
JSEEWHAT
JGETFACLU+@,1
WE
2210022120144022140JWEHAVE
AN
144122160TMERRJWEHAVE
A
144222180CGUNSD1IFWE HAVE A DBL,
144322200HyOVERRJPUTOVERR
1444}NUMBER
144622220
22249
22260
144722280
14482230e
144922320
1445
1450
145122340
22360
1452
22420
22440
22460
1455
IF
JFALL
JCONVERT
CONISS:
STACK
TO
CONVERTIT
JGETERRORADDRESSOFF
THE EXPONENT
IF IT IS TOO
FPUT
FIN,
IT
SHLOFACLOJSTORE
MVlA2JSET
STAVALTYPJENTRY
22540
22560
22589CUNIS21MOVRI
CALL
RET
RNZ
22622
22640
22660MOV
IN
WILL
GET
ERROR
BIG
(HL)
THE
TO AN
INTEGER
STACK
IN
FACLO
"INTEGER"
CONDS
DONE
JCHECK
JIT
TO
FROM
IF
JERROR:
H,C
NUMBER
VALTYP
J1ALL
220,200,000,200
FLOMP
Mov
WE
LINPRT
CONISD:22600
SO
JIT IS, BUT IT MIGHT BE =32768
0
SGN,
INTEGER
INTEGER
ISN®T,
FRUM
AN
"NO=NO"
IT TO A SNG
IS TO0O BIG
JIT
POP
A
CONIS
GINT
CONIS2
HAVE
DONE
IS8
CONVERT
CALL
JENTRY
22500
THE
WE
ALL
THAT
JGET
1SEE22520
22480
ON
INTO
PRECISION NUMBER
CASE
A,8,C,0,E,H,L
FAC
2ee
XCHG
CONISYy:
SINGLE
IN
INTEGER,
STRING,
JALTERS
LDA
CPl
JINC
22380
22400
1453
1454
PRECISION
4
FACLO
CONIS3
DOUBLE
HAVE
14381439
cp
AND
INTEGER
A, 8 C D E,H, L
LOA
8
IS
NUMBER
IT
I8
CAN'T
32768,
=32768,
BE
PUT
ENTRY
CONVERTED
IT
IN(HL)
ANDSET
FROM
TO
AN
FIN
INTEGER
0
JMP
CUNIS1
JSTORE
IT
IN
THE
FAC
VALTYP
22680
22709
JFORCE
22720
JALTERS
2e740
22760
FRCSNG:
22789
THE FAC
10 BE
A,8,C,D,E,H,L
LDAVALTYP
CP14
Jc
JmCUNSI
TMERR
A SINGLE
R2
WHAT
JWEALREADY
JCONVERT
JALTERS
VOUBLE
KIND
PRECISION
A,B c D,E,H,L
NUMBER
TO
MOyJGETTHE
vi,GJSETVALTYP
VALTYP
ABJCHECK
STA
MOV
NUMBER
AN
WE
HAVE
INTEGER,
ALL
DONE
A
A
HO*S
IF
INTO CONSD
FALL
e«
PREC
CALL
LYY
OF
HAVE
JWE HAVE AN INTEGER, CONVERT
ISTRINGS|| == ERROR}!
10BL
COUNSD3
PRECISION NUMBER
JSEESINGLEPRECISON
INREGISTERS
TO
THE
THE
ONE
"SINGLE PRECISON"
NUMBER
IS
ZERO
.
.
MATHPK
Fa4
FUN BASIC MCS B08Y
AC
23w=AUG=b4
GATES/ALLEN/UAVIDOFF MACRO 47(115) 26309
CONVERSION ROQUTINES BETWEEN
1486EATLY)
148725060
148823100
23120
1489
1490
27=AUGe7S PAGE 8w}
INTEGER, SINGLE AND
06108
PRECISION
JIF IT 1S, WE ARE DUNE
JUNPACK THE NUMBER
UNPACK
JGET FIRSTY BYTE BELOW A SNG NUMBER
IT IN B FOR ROUND
HyFACLO=}
ByM
JPUT
RUUND
23140
OOUBLE
JROUND
THE
DBL
NUMBER
UP
AND
WE
ARE
DONE
25169
asiee
JCONVERT
232¢n
232e¢
23249
23260
23280
235300
CONSIz:
CONSIH:
AN
INTEGER
TO
JALTERSA,8,C,D,E,N,L
LHLDFACLO
A
SINGLE
PRECISION
JGETTHEINTEGER
#SETUPREGISTERS
FLOATR160FLOAT
JFORCE THE FAC 70 BE A
FALTERS A,8,C,0,E,H,LOOUBLE
MVl
JSET
VALTYP
TO
NUMBER
"SINGLE
PRECISION"
STA
MOV
23320
FUR
FLOATR
MOV
23340
23360MVI
23380JMP
MVl
THE
NUMBER
23400
25420
23440
23460
LDAVALTYP
CPI10
23540JNCTMERR
23560CPI2
23480
FRCOBL:
23500
23520
RZ
cz
23580
CUNSI
23600
PRECISION NUMBER
1SEEWHAT
JWEALREADY
JGIVE
1SEE
AN
IF
KIND OF
HAVE
ERROR
WE
HAVE
NUMBER
A
IF
DBL,
WE
WE HAVE
WE
HAVE
A SNG OR
ARE
A
INT
DONE
STRING
JCONVERT 70 SNG IF WE HAVE AN INT
JFALL INTU CONDS ANU CONVERT 10 DBL
23620
23640
JCONVERT
23660
23680
-
A
SINGLE
PRECISION NUMBER
TO
A DOUBLE
JALTERSA, H,LX1H, SCODE1ZERO
237¢2m
25740SHLD
SHLDDFACLO
DFACLO+2JCLEAR THE FOUR LOWER
i PRECISION NUMBER
23760MvIA10$SET
23780
23800JMPCONISD>160
23709
CONDS:
PRECISION
ONE
H,L
VALTYP
TO
TO
"DOUBLE
BYTES
IN
THE
DOUBLE
PRECISION"
IT
-MATHPK
F4
FOR
BASIC
MAC
MCS
8980
23mAUG=64
GATES/ALLEN/DAVIDOFF
Q6308
1524
15258
23820
23840
1526
1527
1528
1529
1530
1531
1532
1533
1534
Qo137e*
P01375¢
MACRO
GREATEST
47(113)
INTEGER
SUBTTL
06:109
27=AUG=75
GREATEST
JQUICK
INTEGER
GREATEST
JLEAVES23880
23900
25920JASSUMESFAC
JASSUMESTHE EXPONENT
JALTERSA,8,C,0,E
MOyByA
CrA
auele?23940
INT(FAC)
P21000weo117oeloee212723960
23980MOV001374°MOVUgA
@n1375°
201376°valoweone13724900MOyEsA
2n1000avees?240229ORAA
001377°*081000Pvps1e24040RZ24080ITHE
24100FNUMBER
241201SUBTARCT
JTMANTISSA
24140
24160
JHAD
HARD
A
CASE
1S
i2ZERO,S0THE
FNUMBERWASA
OF
OF
=
(SIGNED)
8388608
OF
FAC
JSET
IN
QINT
IS
WE
NEGATIVE
REGARD
THE
INTEGER,
NET
EFFECT
NEGATIVE
BINARY
INT(FAC)
INEGATIVE
SO
THE
ALLTHE
18WE
HAVE
NON=INTEGER,
POINT,
IN
BITS
C,D,E,
RESULT
WILL
THE
SIGNED,
NET
C,D,E
IS
veeeveQpRevYQuiede*
vu134e*201404°bploeeQU315201405°a000Re001406°
001407°QB8R0aviare’
wu140e’2nlvee20RessBuivenabn14724360MOVHoA24380cMGINTA24400MylAp230JSEE
Q00574
Va1415"A200v0Qv143e*
aui4es”*
001414201000Auvevte
fepe3e
THE NUMBER
ARE
DONE
TU
RIGHT
ORIGINAL
IS
AT
EFFECT
THEN
HANOLE
ASA
OFTHE
NUMBER
IS
THAT
24289PUSHHI1SAVE
243v0(ML)
CALLMOVKFJGET
NUMBER
24320CALLUNPACKJUNPACK
24340XRA"JGET SIGN OF NUMBER
JOON'T LOSE IT
IN
JSUBTRACT
FROM
MANY
LO
WE
IF
HAVE
2neenaQvec2e24420Qolove00a315244402SHIFTR1 NUMBER TO AN INTEGER
ISHIFT NUMBER TO GET RID
01420Q00000P01421°200002P00334"
avié1e”24460
24480
24500AyHJGET
RUUNDAJIF
245298,0JFORGET
24540NEGRINEGATE
on1veeweaLTy
Aeavel
2a1000
2p0w00PITEEL
Q01420Qo000000es55"*
no1420*
do1427°ee1000Aeavee
0214302o0eae20evae
@14321000@u1432"veRvoe200334
LT EFUAS
021435dnoevewo1425°
001434°
021020
wvPR34)
JPUT
24560
245802
]
IF
THE
WERE
THE
TO THE
ABSOLUTE
ORIGINAL
NUMBER
TO
“pleveaploee
C,0,E,
GET
AND
NUMBER
WAS
REGISTERS
001417"
021425
@21424°
POINT
NONwZERO BIT
THE
201415°f01425*
IN
THE
SHIFTING THE
S0, IF WE
NUMBER
{
HOW
THE
IF
INTEGER
BINARY
WE
IF
01416"
poia2e"
THIS,
3«BYTE
LEAST ONE
NEGATED
THE
IS ZERO
CODES
WE
THE
THE
SOB014ps*opLev0
TO
BEAo1402"vpvave
IN CASE
MANTISSA
THERE
201020
221410*
ZERO,
3=BYTE
valeee01412
A
NONwINTEGERS,
THE
P21400°801411
IN
CONODITION
I8
201401
QuRs45
200315
IS
ONE,
THEN ALL THE FRACTIONAL BITS ARE SHIFTED OUT BY
RIGHT,
THEN, IF THE NUMBER WAS NEGATIVE, WE ADD ONE,
24200
24220JVALUE
FUNCTION
C,0,E
2723
J2ZERO B,C,D,E
NEGATIVE,
NEGATIVE
JRIGHT
IN
,LT,
11T
24180
24240
24260
9
FUNCTION
INTEGER
25860P21000
PAGE
FUNCTION
IS
SHIFT
OF
NEGATIVE
TO
CHANGE
FRACTIONAL
BITS
SIGN
SIGN IN CARRY SO
NUMBER
WANT
JGET
WAS
THE
BITS
NUMBER
A
(HL)
WE
IF
SIGNED
OLD
IT
WILL NOT BE CHANGED
NEGATIVE,
ADD
SHIFTED
IT
WAS
ONE
OUT
NEGATIVE
BECAUSE
WE
MANTISSA
BACK
.
.
°
MATHPK
F4
1577
FOR
-
-
.
BASIC
MCS
8089
GATES/ALLEN/UAVIOOQFF
GREATEST
MACRO
47(113)
HMAC23=AUG=64001435°*201000Qves1l24600RET
001436°anieedARRL3SDCx
26108
INTEGER
26:09
27=AUGe75
PAGE
9w
FUNCTION
JALL
DONE
PO1437"ap16000en17e24640
24660MOVA0JWEHAVE
#01440°vp1000aeoe4s24680ANAE}OAND
401441°aeleeeQueL74INRAJSEEIF
001442enloewvvo32v24700
24720001445°2210080edL1S
24740
0JSUBTRACT
RNZ
IFN
24760
JTHEY
221002
ovR311
c>
IFELENGTH=2,%
24800
24820DCXBRT:OCX
24862
JTHIS
24960
24980
25000
250249
25040
IFE
INTFNC3
INTEGER
na1445°*be1vvoQenv4l
@popo21156
DINT
CUNIS>
LxIHyFAC
Ay
venywe143e2”20a17625120MOV
aeastre
@e2e3u25140vo1452°2010w
QnoeneCrP1I
P01453°2p1000rrrard25160
25180LDA
201255«
201446"
NOT,
ONE
ALL
WE
ARE
230
<
EXTFNC,
FACLO>
SUBTRACT
BILL,
WILL
DONE
WHAT
IS
AN
KIND
OF
NUMBER
INTEGER,
ALL
JCONVERT THE DOUBLE
JTRY TO CONVERT THE
WE
CAN'T,
SINGLE
PGET
WE
PRECISION
GUY
WHO
NEEDS
0evs1525269CALLGINTweo0RD25260MylM,230JCHANGEEXPONENT
}NORMALIZATION
25329
2n109v0
QuioeeQ6aL73
2003565
P01000200171
ov1470"vole0enwenver
Qu1a71*
unleve
AvNs1S
25340
25360
25380
25400
25429
25440
25460
25480
DOES
AFTER
THIS
DOESN*T
MOV
€
JMP
JGET
iSAVE
c
RAL
EXTFNC,
<
SO
OUT
IT
WILL
BE
CORRECT
LO
IT
INEGATE
JPUT
NUMBER
SIGN
IN
IF
CARRY
FADFLT>JREFLOATNUMBER
FADFLYIREFLOATNUMBER
EXTFNC,
<
CALL
CARE
NOT
<
EXTENC,
PUSH
MOV
TO GIVE
THE SIGN
ve1461°*0o1465°¢
wal460°
wer467*
NUMBER
AN INTEGER
IF NUMBER HAS ANY FRACTIONAL BITS
71T
25300
HAVE
ONLY
ABOUT
1GET EXPONENT BACK
11T DOES, SHIFT THEM
0e2e30
WE
OONE
JSEE
}]
Ay M>Qp0dnan
B"
EGUIVALENT
JTHERNC
auyste’
ZERO
"pCx
RESULT
MOVQe1454*
BE
EXPONENT
25220
25249oeRvee
SO
WILL RETURN HERE
25200
gp1evn
ONE)
PRECISION
NUMBER TO
vees2eVuBoee
NEVER
BE
FUNCTIONALLY
ARE
wearte
EXTFNG,
<
WILL
C"201000enteve
IF
ONE FROM C
C
201000B01465"
091464°
C
OONE
ALWAYS201457°
va1460"¥a1462°
FROM
ONES
=}
FUNCTION
7
251e0hpleeebpvenn"DCR
JIF
00e1447"LlAND71T
ou1450°001455°
@u1456°}JSEE
a1451"221454°MSB
RC
25062
25082
Ddla4e’
C,D,E
BOTH
WERE
FOR
(THEJALTERS A,B,C,0,E,H,L
LENGTH=2,
<
CPI
4
JNZ
CALL
IS
}
71ALL
JGREATEST
24940
WERE
JTHEY WERE,
B>
RET
24929
FROM
SUBTRACT
ARE
LENGTH=2,<
OCkR
24789
24840
001444
ONE
TO
E
BOTH
IT
IS
NEGATIVE
AMATHPK
F4
FOR
BASIC
MCS
8080
GATES/ALLEN/UAVIDOFF
MAC23=AUG-64
16300014727200000©U@143*
1631001473°000000014617
1632001474°0¢10P0BVR361
1633
1634
1635001475°doioooQ€as11
26308
GREATEST
MACRO
47(113)
INTEGER
POPPRTS
1636
1637
d
06109
27=AUG=75
PAGE
9e2
FUNCTION
POPJGETLD
RET>JTALLDONE
LENGTHe2,
<
JGREATEST INTEGER
FUNCTION
FOR
BACK
DOUBLE
PRECISION
1638JALTERSA,8,C,0,E,H,L1639LxIHyFACJGET
POINTER
1640MoVApMJGET
EXPONENT
164138220JCAN
WE
1642JcFRCINTJTHEN
1643NzDINT2JCHECK
1644
1645
1646MoV
0Cx
MoyCoA
H
AISAVE EXPONENT IN C
IGET POINTER TO SIGN
FGET SIGN AND HO
1647
1648XRT
M1200
8,6JCHECK IF
JSET UP A
1649
DINT1:
NUMBERS
FAC
CONVERT
DO
IT
TO
AN
INTEGER?
50
FOR
=32768
IT IS
COUNT
IF
Nz
ORA
LIDINTYINO,
1654A
Ny 200%400+SCODE7S A NOW ZERO?
1GET »32768 JUST
IN
JzCONISSJA
HAVE
MOV
CPI
RNC
PUSHAy
270JGET EXPONENT
JARE THERE ANY FRACTIONAL BITS?
INO,
THE NUMBER IS ALREADY AN INTEGER
JENTRY FROM FOUT, CARRY IS ZERO IF WE
CALL
CALLMOVRF
UNPACKJGET HO'S OF
JUNPACK IT
PSW
7
1662
XRA
FOR
MAC
BASIC
MCS
8080
23wAUG=b4
GATES/ALLEN/UAVIDOFF
06108
GREATEST
JGETITSSIGN
"JSETTHEEXPONENT
PSHISAVE
cnDINTAJSUBTRACT
Ai270
8IGET
susCALLDSHFTKFSHIFT
POPPSHJGET
oMDROUNA11F
§TAA
OFACLO=1JPUT
) WE
POPPSKJIF
Hy OFACLO
DINTAL:AgM
47(113)
INTEGER
THE
HOW
1
IN
FROM
TO
LO
NORMALIZE
BITS
WE
WERE
CALLED
HAVE
FROM
THEINTEGER
ONEFROMJSUBTRACTONEFROMIT
ONLYIFTHE
PAGE
COME
UNPACKING
CORRECTLY
BYTE
TO
IS
ADD
OUT
OF
FAC
ONE
FOUT,
FAC,
GET
BYTE
POINTER
USED
9=3
FUNCTION
2652¢InNx"7 INCREMENT POINTER TO NEXT BYTE
1684
168526540
265603z
RET>DINTALFCONTINUE
JALL DONE
168626560
NECESSARY
S0 WHEN
ZEROS
DON’T
1683
IF
NEGATIVE
SHIFT
EXTRA LO BYTE
WILL SHIFT IN
JCONTINUE
27=AUGeTS
NUMBER
RETURN
JSUBTRACT
FOR
OUT}}
A
26109
REGISTERS
IF
"
A
BYTE
BACK
MANY
THEM
IRE=FLOAT
JGET
NON=ZERO
SIGN
A ZERQ IN THE
NORMALIZE, WE
JUST
OKDER
BYTE
BE
»32768
THE SIGN BACK
NUMBER WAS NEGATIVE,
WE
NEXT
WILL
CASE
NUMBER
"
7
LOWER
A
FROM FOUT
M,270DINT
MACRO
HERE
NEXT
SO WE
oex
DNORNL
MATHPK
THE
ZERO
MVI
RNC
F4
CHECK
NON=ZERO,
TO
OF
FIF ANY
JARE WE
BITS ARE
DONE?
POINT
REST
J
[
[
DINTFQ:
ZERO,
THE
HORA
0CR
1S
1S
HO
DCX
DINT2:
NUMBER
AND200
TO CHECK1650
1651
1657
1658
1659
THE
TO
TO
NORMALIZE,
TG
BE
LO
ZERO.
.
MATHPK
Fa
FOR
BASIC
MAC
MCS
5080
GATES/ALLEN/DAVIDOFF
23=AUG=64
063108
MACKO
47(113)
063109
27=AUG=75
PAGE
10
INTEGERARITHMETIC168726608SUBTTLINTEGER168826620IFNMULDIMR<LENGTHw2>,
<168926640iTWO1690
1691
1692©01476°021l00Q26660
26680
267001 (HL)3=(BC)*(DE)
FAU E,H,L ARE CHANGED
LXI
n,scout1ZERO PRODUCT
1693@01477'200000201500°VpVOEBdL11535%
QVl4T2*801501*0oleaeewd17e26720MOVA8JCHECK
001502'
201503¢001040
20100eQ0VR26)
AVBS1Q26740
26760ORA
RZ[$1F S0, JUST RETURN,
(NL)
JTHIS IS DONE FOR SPE
001504¢0010000UVBLTE26780MVIA1SET
001505'9000000QQL200015026*001000Q0VVLS]26800DADHJROTATE
00150/*Q0leRwQUV33e20820JcBSERR##JCHECK
001510*0000020QERVALX201511Q00020©V1477°Q01512*001000001513°
021514*Uo100L
201200
20OU4)L
DMULT1:
QPO35326849XCHG
V00ES)
0QUR3S326860
26880DAD
XCHG
DAD
001515* 201000001516*2ovRdwQe@3ee
021517PERRAP0Qui1S51e’
P015290*0ol00R
0L1S24*
26900
Q0AV1126920
P@1000QUVO33e26940
201522*220000001510%001525221524*R0RLY
0n1020021526PA200Q001527
001530VpVRYR
901000
001521*
OMULT:
ROUTINES
/
Q01525 @p10e0
26960
26980
©BAS11
27140
INTEGER
MULTIPLY
BAD
IFELENGTHe2,<
COMMENT%
INTEGER
INTEGERVARIABLES
CALLING
FOR ONECONVENTIONS:
ARGUMENT FUNCTIUNS:
FORARGUMENT UPERATIONS:
THE FIRST ARGUMENT 1S IN (DE)
THE SECOND ARGUMENT IS IN (HL)
RET>
2re4e
THE
TWO
ARITHMETIC
ARE
BYTE
2
ARGUMENT
IS
IN
FOR
IF
JALLDONE
IS
ALREADY
ZERO
ONE
IF
(BS)
LEFT
S0,
ERROR
ONE
IF HO WAS 1
OVERFLOW
DONE
CONVENTIONS
BYTE,
COMES
LEFT
(DE)
JSEE
ZERO
OVERFLOW,
SUBSCRIPT
JCHECK
OMULT}
LU
(HL)
FOR
1ADD IN (BC)
4
IS
COUNT
IROTATE
DCR
THE
A
DMULT2
A
REGISTERS
(BC)
H
Jc
JINZ
IF
UP
DMULT2:
27160
27180
27200
27220
ROUTINES
UNSIGNED
§
JINC
27000
27260
27080
27100
27120
ARITHMETIC
BYTE
SIGNED
FIRST
(ML),
IN
NUMBERS
MEMORY
THE
RESULT
IS
LEFT
IN
(HL)
27260
27280
27300
27320
27340
27360
27380THE RESULT IS LEFT IN (ML)
IF OVERFLOW OCCURS, THE ARGUMENTS ARE CONVERTED TO SINGLE PRECISION
WHEN INTEGERS ARE STORED IN THE FAC, THEY ARE STORED AT FACLO+0@,1
=2
(INTEGER)
VALTYP
27400%
27420
.
.
.
.
MATHRK
F4
ro&
AC
1100
BASIC
MCS
8082
23»AUG=64
hArESIALLEN/UAVIUUPF
D610
INTEGER
MACRO
47(113)
ARITHMETIC
27=AUG=7S
PAGE
10«1
27440
27460JINTEGERSUBTRTACTION27480
27508JALTERS
MovA, s C,0,E,H,L
A,27542
27560S88
MOVA
8,A27589CALLINEGHLMOVfewINEGATE27600A,CJGET27620$88)INEGATESIGN
27640JMP140081G0THE
271520
ona
06309
ROUTINES
RAL
Hi
BL
(HL) 33 (DE) = (HL)
JEXTEND
THE
SIGN
OF
JGET SIGN IN CARRY
(HL)
TO
B
ae gu)
A
.
(HL)
ZERO
ADD
NUMBERS
27660
27680
271700
27120
27740
1AL
27760
JINTEGER ADDITIONJALTERSA,B,C,D,E,H,L(HL) 2= (DE) + (HL)
MOVAgHJEXTEND
THE
SIGN
RALJGETSIGN$88
MOVJSAVETHESIGN
2182@PUSHJSAVETHESECOND
27840MOVJEXTEND27860
27889RAL
$881GETSIGN27909DAD
27780
27800
IADDS:
IN
THE
OF
(HL)
TO
B
CARRY
ARGUMENT
SIGN
OF
INCARRY
LO*S
(DE)
IN
TO
CASE
OF
OVERFLOW
A
FADD
THE
TWO
27922ALC81ADD
THE
EXTRA
27940
27960
27960
28000RRC
XRA
JPH
POPPRYJIF THE LSB OF A IS DIFFERENT FROM THE MSB OF
§ H, THEN OVERFLOW OCCURED
INO OVERFLOW, GET OLD (HL) OFF STACK AND WE
i ARE DONE
28420PUSH8JOVERFLOW
28040
XCHG
28060CALLCONSIH
28080POPPSW
==SAVE
1GET(DE)IN(HL)
JGETSIGNOF(HL)
(HL)
1FLOAT
28100POPHJGETOLD
28120CALLPUSHFIPUTFIRST
28140XCHGJPUTSECOND
28169CALL28180POPR28200JMP
INEGAD
FADD
HO
JFLOAT
EXTENDED
IN
SIGN
OF
(HL)
A
BACK
ARGUMENT
ON
ARGUMENT
STACK
IN(DE)
OFFSTACK
FOR
FLOATR
IT
JGETFIRST
7ADDTHE
ARGUMENT
TWO
NUMBERS
USING
SINGLE
PRECISION
28220
282490
28260
JINTEGER
28280
28300
IMULT:
MULTIPLICATION
(HL) 8= (DE) » (HL)
A,B CyD,E,H,L
JSAVESECOND
JSAVEFIRST
PUSH26340
28369
28380CALL
PUSH
MOVlnuLov
)
ByHMOVColLxlH, SCODEJZERO
DALHJROTATE
JCIMULTSJCHECK
28400
28420
284490
28460
28480
.
JALTERS
PUSH
28320
MVI
IMULT1:
A 20
ARGUMENT
(HL),
THAT
JSET UP A COUNT
PRODUCT
FOR
IN
CASE
OF
OVERFLOW
ARGUMENT
JFIX UP THE SIGNS
JSAVE THE SIGN OF THE
JCOPY SECOND ARGUMENT
RESULT
INTO (BC)
ISWHERE
LEFTONE
THE
PRODUCT
GOES
OVERLFOW
.o
MATHPK
.
PUR
BASIL
Fq
MCS
8080
23=AUG=b4
GATES/ALLEN/UAVIUOFF
06308
1793
INTEGER
MACRO
47(113)
ARITHMETIC
28509
1794
XCHG
JNC
28580
DAD
28600
28620
28640
IMULT2:
28660
28680
28700
28920
OVERLFOW
IMULTYINO,BIWEARE
POPDJGETAgHJENTRY
(BC)
LEFT
ONE
TO
ANYTHING
(BC)
DO
IT
AGAIN
DONE,
GET
ORIGINAL
FROM
SIGN
FIRST
I0IV,
IS
OF
RESULT
ARGUMENT
RESULT
,GE,
327687
A
IMULT3
1T
0
18,
CHECK FOR SPECIAL CASE OF =32768
FRESULT
AB
JGET
IS
THE
OK,
GEY
SIGN
SECOND
RESULT
INEGAINEGATE
ORA2ue
L118 RESULT 327687
INOTE; IF WE GET HERE
1000,001717 IS
1Lxl
IMNULTY
XCHG
XWh
7
MUST
THE
OF
JMP
BE
RESULT
32768,
IF
IT
ARGUMENT
IN
FROM
IDI1V,
CANNOT
BE
THt
JGET
SIGN
JGET
THE
26980
29000POP
CALLH
PUSHFJGET THE ORIGINAL SECOND ARGUMENT
JSAVE FLOATED FIRST ARUMENT
CALLCONSIH
PUPR
IT
JFLOAY
JMULTIPLY
MOVAyB118
ORAAJGET
POP8JOISCARD
ITS
0
CUNSIH
0
Faggot
CALL
POP
JMP
NEG
FINTEGER OIVISION
JREMAINDER IS IN (DE),
STACK
ARGUMENT
ARGUMENT
OFF
ARGUMENTS
+32768
OR
STACK,ENTRY
USINGSINGLE
FROM
POLYX
PRECISION
=327687
SIGN
ORIGINAL
RESULT
SECOND
SHOULD
BE
ARGUMENT
NEGATIVE,
IT
1S
OK
}IT 18 POSITIVE, SAVE REMAINDER
JFLOAT »32768
JGET MOD'S REMAINDER BACKFORMQD
INEGATEAREDONE
SE
es pr
=32768
TO
GET
32768,
WE
(HL) 8= (DE)/
(HL)
GUOTIENT IN (HL)
JALTERSA,8,C,0,E,H,LMOVAHORALJzDVRERRiWEHAVE
CALLIMULDYJFIXUP
PUSH
JCHECK
FOR
DIVISION
DIVISION
THE
8JSAVEINEGHLINEGATE
MOVByHJSAVENEGATED
MovCyLLxlH,SCODE1ZEROWHERE
THE
JGET
SIGN
OF
DENOMINATOR
BY
BY
SIGNS
CALL
XCHG
OFF
FIRST
ARGUMENT
THE
RESULT
JTHE
RESULT
SECOND
FMULT
PUSH
OF
ORIGINAL
FIRSY
JMP
RM
us
JFLOAT
JGET
RESULT
GREAT
H
COUNSIH
STACK
,GT, 32768, WE MAVE OVENFLUW
B" QVER NEXT 2 BYTES
-}
CALL
OFF
A
NECESSARY
POP
IMULT4:
IF
DOUNE?
POP
FMULTT1
SEE
NOT
28940
28960
i
IN
POP
Jz
IMULTS:
FOR
JADD
WE
MOV
28860
IN
JCHECK
IMULT3:
28880
28900
ADDJARE
POP
28780
ADD
IMULTS
JM
28760
OR
JOON®TA
JINZ
ARGUMENT
INJInuLTR
8
WE
FIRSTHJe
ORA
287402
10e2
OCR
IMLOIV:
astze
28800
28820
28840
PAGE
JROTATE
DAD
2854028560
1798
27=AUG=75
XCHG
28520
17951796
1797
06809
ROUTINES
THE
IN
ZERO
ZERO}!
RESULT
(HL)
IT
DENOMINATOR
WE
DO
THE
IN
(BC)
SUBTRACTION
.
.
MATHPK
F4
rUH
BASIC
MCS
8288
23=AUG=64
GATES/ALLEN/UAVIDOFF
06308
INTEGER
MACRO
47(113)
ARITHMETIC
06309
27=AUGw7S
PAGE
.
.
10«3
ROUTINES
184629540MVIA,21JSET
184729560PUSHPSwWJSAVE
184829580ORAAJCLEAR
184929600185029620
JMP
I0Ivy:
29640
UP
1uIvs7160
PSWJSAVE
A
CARRY
DIVIDE
COUNT
H7SAVE
8JSUBTRACT
29682lulveJWE
29780PSWJTHE
29660
L
29729
29760
(HL)
100v,076
H
H
29780
CURRENT
TOO
SUBTRACTION
BIT
AL
IN
A"
JIGNORE
J
1,E,
THE
MUCH,
WAS
OVER
NEXT
GET
GOOD,
QUOTIENT
IS
BYTE
INJSHIFTTHEHO
JSHIFTINTHE
THE
OLD
(HL)
DISCARD
A
SUBTRACTION,
ISHIFT
29800
NUMERATOR
DENOMINATOR
SUBTRACTED
INEXT
29749
COUNT
I7
BACK
OLD
(HL)
ONE
WE
NEXTWUOTIENT
NEXTBIT
COULDN'T
DO
IT
BIT
29820
29840
29860
29880A
29900'
OF
THE
NUMERATOR
29920
29940
29960
100
THE
HO
29980
30000
3veen
30040
A
32060
30080
30100
JSAVETHE
JGETCOUNT
JAREWE
HO
BACK
DONE?
INO,DIVIDE
JGETQUOTIENT
SIGN
8JGET
3¢120PUSH0I1SAVE
30140
3e160JMPIMLoIVJCHECK
AGAIN
OF
IN
FOR
(HL),
REMAINDER
IN
(DE)
RESULT
REMAINDER
SO
STACK
SPECIAL
WILL
Bt
ALRIGHT
CASEOF32768
ARGUMENTIFNECESARY
INAND
30180
3v200
3peen
3pe40
JGET READY TO MULTIPLY
JALTERS A,8,C,0,E,H,L
MOVA
30260
IMULOV:
XKA0
30280
30300MOV
CALLByA
INEGH
3p320XCHG
OR
JPUT
A,C,H,L
MOVAyH
INEGA:ORAA
INEGHL:
OF
RESULT
(DE)
IN
ARGUMENT
(HL),
IF
FALL
NEGATE
FIRST
NECESSARY
H,L
JALTERSINEGH:
RP
SIGN
1SAVE IV IN B
INEGATE SECOND
]
INEGATE
DIVIDE
JGET
JGETSIGN
JSETCONDITION
XRAJWE DON*T
JCLEAR A
MovISTORE
SusINEGATE
MOVJSAVE
MOVJGET
A
OF
(HL)
HAVE
ZEKO
CODES
TO
(WE
LO
IT
A
ZERO
BACK
NEGATE,
USE
THIS
IT
IS
POSITIVE
METHOD
FOR
ISUB)MATHPK
Fa
FUR
BASIL
MAC
MCS
8080
23%AUG=64
GATES/ALLEN/DAVIDOFF
@6308
MACKO
INTEGER
47(113)
ARITHMETIC
26309
272AUG=7S
PAGE
10=4
ROUTINES
1899306001900S88HINEGATE
30620MOV3v640HyARET1SAVE
19¢})
306601903
190430680
30700TINTEGER1905
190630720
30740JALTERS
LDAA,8,C,D,E,N,L
FACLO#+1
19e730700ORAA
190830780RP190930800
ABSOLUTE
VALUE
JGET
SIGN
JCHECK
71T
JINTEGER
30880
JALTERS
30900
CALL
30940
30960
INTEGER
IN
FAC
SIGN
POSITIVE,
INTO
INEG
LEAVE
AND
IT
ALONE
NEGATE
IT
NEGATION
A,8,C,0,E,H,L
FACLO
30929
OF
1ITS
18
JFALL
30820
3¢840
30860
HOC
I7
FALL DONE
1902
JGET
THE
INEGHLINEGATE
FACLO
200FSTORE
JCHECK
INTEGER
17
IT BACK IN THE FAC
FOR SPECIAL CASE OF
32768
30980
31000
JIT
31020
31040
31080
INEGAD:
31100
$
JENTRY
J
NOT
OCCUR,
EVERYTHING
JWE HAVE IT, FLOAT 32768
JCHANGE VALTYP 10 "SINGLE
A4
31060
DID
FLOATR
JGO
FROM
FLOAT
IADD,
SET
IS
FINE
PRECISION"
EXPONENT
THE NUMBER
31120
31140
31160
JMOD
OPERATOR
311801(HL) 1= (DE) = (DE) /(AL31220JALTERS
PUSHA,B,C,0,E,H,L
0ISAVE
31240CALL101VJOIVIDE
31260
31280XCHGMVl31300
313e0
31340STA
POP
JMP
31200
#(HL),
(DE)=QUOTIENT
JPUT
A2
VALTYP
PSW
INEGA>
(DE)
FOR
AND
ITS
GET
REMAINDER
SIGN
THE
IN
REMAINDER
(DE)
FJSET VALTYP TO "INTEGER"TM IN CASE RESULT
?} THE DIVISION WAS 32768
1GET THE SIGN OF
(DE) BACK
INEGATE THE REMAINDER IF NECESSARY
OF
31360
.
°
MATHPK
Fa
FOR
M
1938
1939
194¢e
19414
1942
BASIC
MCS
8080
23=AUG=64
GAIES/ALLEN/UAVIDUFF
46308
MACRO
47(113)
06309
27=AUGe75
PAGE
.
.
11
DOUBLEPRECISION
31380SUBTTL
31420
31440COMMENT X
DOUBLE PRECISION ARITHMETIC CONVENTIONS
351480
31500
31520DUUBLE PRECISION NUMBERS ARE 8 BYTE QUANTITIES
THE LAST 4 BYTES IN MEMURY ARE IN THE SAME FORMAY AS SINGLE
THE FIRST 4 BYTES ARE 32 MORE LOW ORDER BITS OF PRECISIUN
31540
31560
31560THE
31400
31460
IFE
ARITHMETIC
ROUTINES
OOUBLE PRECISION
LENGTH=2,¢
LUWEST
ORDER
BYTE
ARITHMETIC ROUTINES
COMES
FIRST
IN
PRECISION
NUMBERS
MEMORY
CALLINGCONVENTIONS:
FORONEFORTWOARGUMENT FUNCTIUNS?
THE ARGUMENT IS IN THE FAC, THE RESULT IS LEFT IN THE FAC
ARGUMENT UPERATIONSS
THE FIRST ARGUMENT I8 IN ARG®=7,6,5,4,3,2,1,0
(NOTE: ARGLO=ARG=7)
THE SECONL ARGUMENT IS IN THE FAC
31600
31620
31640
31660
3166031700
31720
31740THE RESULT IS LEFT IN THE
VALTYP(UOUBLE PRECISION)=10 OCTAL
%
FAC
31760
31760
31800
51820
31840
31860
JOOUBLE
JALTERSPRECISIUN SUBTRACTIUN
ALL REGISTERS
CALLNEG
FACI=ARGmFAL
JNEGATE
JFALL
31880
THE
INTO
SECOUND
ARGUMENT
DADD
319¢0
31920JUOOUBLEPRECISION
31940
31960JALTERS
LxlALL REGISTERS
H, ARG
31980MOy32000
32020
32040
32060ORA
RZ
MOV
oCx32080MOV
32100
ADODITION
FAC3:SARG+FAC
JGET
POINTER
JCHECK
IF
IT
LxI
JGETHO
AND
SIGN
JGETPOINTER
32120LUAXJ1GETEXPONENT
ORAFSEEIF
$IT
IT
32160JzVHOVFA3e180susBJSUBTRACT
32200JNCDADD2JPUT
CMA
EXPONENT
I8,
MOVE
THE
T0
18
FOK
EXPONENT
ZERO
ARG
TO
FAC
EXPONENTS
SMALLER
TO
AND
INR
PUSHA
PSWISAVESHIFTCOUNTPUSHB7SAVEHOUNPACK52300
32320Myl
InXCr10
HISWITCH FAC AND
FPOINT TO ARGLUDAX0JGETABYYEOFTHE32360MoyB,MJGETABYTEOFARG32380MoyMy AJPUTTHEFACBYTEINARG
32400MOyA,BJPUTTHEARGBYTEINA
0JPUTTHEARGBYTEINFAC
32420
TO
OF
GET
NUMBER
INEGATE SHIFT COUNT
32240
32260
DADDI:
FIRST
ARGUMENT
FAC
UNPACKING
32280
32340
OF
ZERO
JIT 18, RESULT IS ALREADY IN
JSAVE EXPONENT FOR UNPACKING
JPOINT TO HO AND SIGN
crM
52140
322202
TO
IS
IN
SECONDARGUMENT
WEDONE
ARE
SHIFT
COUNT
FAC
LATER
ARG,
SET
FAC
UP
A
COUNTMATHPK
Fa
FOR
MAC
BASIC
MCS
8060
23=AUG=64
1991
GATES/ALLEN/DAVIOUFF
06308
DOUBLE
MACRO
47(113)
PRECISION
32440
1992
1993
oCx
THE
HO
BACK
JAREWEWITHIN
32582RNC32600
32620INO,PUSH
CALLALLDONE
JSAVE SHIFT
JUNPACK THE
MOV
POP
32720CALL
200932800JINC
2011
201232840
32860Jz
MV I
32740
32760
32780
32820
32880
32900
2015
2016
32920
32940
32960
2017
2018
2019
0ADD3:
2022
2023
INRM
z
JWE
INX
MOV"
AM
33040MoyMoA
ccONEGR
33140
33160
2028
2029
2030
2031
XRAAJCLEAR
B/AISAVE
LA
ORA
FAC=1
A
Nz
LI
33300
2037
THE
INTO
MOV33320
33340
ADD
RESULT
IF
ONORM2:
33360
IGET
ISEE
DNORHS
HyOFACLO=1
JWE
JWE
SHIFT
SHIFT
HO
IF
WE
SHIFT
IT
MVICi10JSETUP
MOV
Moy0M
MiAJGET
JPUTA BYTE OF FAC
IN BYTE FROM LAST
THE
)
TIME
A
THROUGH
A
IS
WAS
JPUT
2040
2041JINCREMENT POINTEK TO
1ARE WE DONE?
INO) DO THE NEXT BYTE
204233460Moy204333480sul
33500
33520
cPI
Nz
ONORM3:
CURRENT
JSUBTRACT
GATES/ALLEN/DAVIDOFF MACKO 47(113) 26309
06108
DOUBLE PRECISION ARITHMETIC
27=AUGe7S
ROUTINES
300
DNORM1
anp2ZERO
DCR
PAGE
8
BYTE
FROM
LOCATION,
SHIFT
11=2
JHAVE WE
INO, TRY
SHIFTED ALL BYTES
TO SHIFT 8 MORE
TO
8
JOECREMENT
SHIFT
COUNT
534
CALLHyOFACLO=1
OSHFLCiGET POINTER 70 LO
FSHIFT THE FAC LEFT
[0ASEE_IF
205435640JPONORN3JSHIFT
2us2
205333660
33680Moy
0RAA
AJGET THE SHIFT COUNT
ISEE_IF NO SHIFTING WAS
2054
2055
2056
205733700
35720
33740
33760Jz
Lx1
400
MoVOROUND
HyFAC
M
oAINONE WAS, PROCEED TO ROUND
JGET POINTER TO EXPUNENT
JUPDATE IT
ISAVE UPDATED EXPONENT
205833780NG2ERDJUNDERFLOW,
205933800R2060338202061
2062
2063
206433840
33860
33880
JROUND
JALTERS
20683398020692070
FAC
IS
LEFT
IS
THE
NORMALIZED
ONE
IT
RESULT
ALREADY
INTO
IF
UROUND
IS
ZERO,
AND
IS
NOT
NORMALIZED
DONE
THE
NUMBER
ZERO
WEAREDONE
ROUNDTHERESULT
FAC
A,8,H,L
DFACLO=1JGET EXTRA BYTE TO SEE IF WE HAVE TO ROUND
LX1HpFAC+LJGET
POINTER
34000MOyAJGET
SIGN
34020ANI200JISOLATE
JPOINT
33940
33960
DROUNB:
ORA
oh
A
OROUNA
207134040exH
2072
2073
207434060
34080
34100ocx
XRA
MoyH
"
207534120RET207634140
2077
2078
NUMBER
JRESULT
JFALL
DROUND: LDA
ZERO?
JYES, THE NUMBER 1S ZERO
3362033920
FIRST
TIME
ORDER
COUNT
33580
336002065
THE
NEXT
HIGHER
2050
DNORMS:
NORMALIZED
IN A FOR
NEXT
2048
2049
33909
SHALLER
NEATIVE
ZERO
A0
2066
2067
A
WAS
COUNT
H
c
33568
EXPONENT
CARRY
8 LEFT
MoV
2047
IN
CAN'T, SEE IF NUMBER IS
CAN, GET POINTER TO LO
INK
0CR
anz
33540
THE
DIFFERENT
COUNT
33380
2046
TOSHIFT
TINES
COUNT
CAN
33400
33420
33440
FOR BASIC NCS 8080
HAC
23=AUG=64
OF
DNORML
2038
2044
2045
ONE
ONE,
2039
MATHPK
Fa
NUMBER
INORMALIZE FAC
JALTERS A,8,C,0,H,L
DNOKMLI2034
2035
2036
OVERFLOW,
FOR OVERFLOW
NUMBER RIGHT
INEGATE
DNOKM1:33260
33280
RIGHT
TO THE UNPACKED SIGN
JCOMPLEMENT 1T, SINCE THE FAC
331802033
THE
JPOINT
33208
33220
33240
2032
HAVE
IFALL
33120
2026
2027
RIGHT
J"MVI
AW, SUBTRACT THE NUMBERS
JGET THE SUBTRACT INSTRUCTION IN
ISUBTRACT THE NUMBERS
33100
2025
FAC
JROUND THE RESULT
33080
2024
HO
COUNT
JROUND THE RESULT IF NO CARRY
33000
CHA
FLAG
JGET SUBTRACTION FLAG, HERE A=0
JSUBTRACT NUMBERS IF THEIR SIGNS ARE
JSIGNS ARE THE SAME, ADD THE NUMBERS
100,076
]
DADUA
33060
SHIFT
JCHECK
FSHIFT
JNP.
56 BITS?
THE UNPACKED
JSHIFT
XwD
588
CALL
335020
2021
FGET
8
BYTE
COUNT
NUMBERS
SUBTRACTION
ISAVE
CALL
32980
2020
JSAVE
ORA
JP
CALL
LO
JGET THE SHIFT COUNT BACK
CPI
32700
2014
8
POP.
Moy
2013
FAC
JGET
POP
DADO2:
STA
2010
OF
NEXT
32660
2006
2007
2008
LO BYTE
THE
32640
2005
NEXT
DONE?
0CR
32680
2004
THE
WE
DO
32564
2001
TO
JARE
INO,
32540
2003
JPOINT
JPOINT TO THE NEXT LO BYTE OF ARG
INZ32520
2002
11ei
(131997
1999
2000
PAGE
32500
32480
1998
27=AUG=7S
ROUTINES
324621994
1995
1996
06309
ARITHMETIC
34160
34160
JENTRY
JROUND
TO
SIGN
T0
UNPACKED SIGN
BIT
HO
JPACK SIGN AND HO
JPUT PACKED SIGN ANU
JWE
JSUBROUTINE
FROM DDIV
UP IF NECESSARY
FUR
ROUND:
ADD
ARE
ONE
HO
TO
34200DROUNA:LXI1y DFACLOJGET2080
208134220
36240ni1
INR8,7DRONA1:JSET UP A COUNT
JINCREMENT A BYTE
208234200RNZJRETURN206334260InXJINCREMENT208434300oCRJHAVEWE208534320NzINO,TRY208634340INRYES,208734360JzJCHECK2088343800CXJTHENUMBEROVERFLOWED
2089
209034400
34420M1
RETJPUT
JALL200 IN
DONEHO
2091344402092344602093344802094
209534508
34526209634540
JADD
OR
SUBTRACT
2
DBL
FAC
FAC
2019
0ADDDS
IN
DONE
POINTER
IF
TO LO,
THERE
ENTRY
WAS
POINTER
NO
TO
INCREMENTED
THE
NEXT
INCREMENT
FOR
FROM
DINT
CARRY
NEXT
ALL
HIGHER
THE
EXPONENT
OVERFLOW
1TS EXPONENT
GUANTITIES
JALTERS
LXIA,C,0,E, H,L
H FBUFFRe®017JENTRY
5%0,ARGLO7ADD
OR
FROM
OKDER
BYTES
ONE
DDIV
SUBTRACT
FBUFFR+17
AND
ARGMATHPK
Fa
FOR
BASIC
MAC
MCS
80282
23=AUG=64
GATES/ALLEN/DAVIOOFF
26308
2097
DUUBLE
MACRO
47(113)
PRECISION
34560
2098
86349
27=AUG7S
ARITHMETIC
PAGE
ROUTINES
JMP0ADDSJDO
11e3
THE
OPERATION
345860
34600
34620DADDAATXwWD
ADC1000,076
MI"MVI
JSETUP34640DADDA:LXI1Hy ARGLOJGETPOINTER10ARG,ENTRYFROM
34660DADOFO:LXIDy,0FACLOJGETPOINTERTO FAC,ENTRYFROM FOUT
34680DADDS;MVlC,7FSETUP34740DADDLSLDAXJGET347680DADOOR:NOPJTHISSTAX
INXiSAVE THE CHANGED BYTE
JINCREMENT POINTERS TO34840INX
OCRJAREWE34880RETFALLDONE
34700
STA
34720
JSTURE
XRA
34780
34800
34820
34860
A
iNO,
34900
INEGATE
34960
JTHIS
34980
SIGNED
IS
USED
NUMBER
BY
IN
DADD,
A
DADD, OMULT
FOR LOOP
ADD
OR
SUBTRACT
BYTE
18
FROM
EITHER
RESULT
DUNE?
DO THE NEXT
M"
JGETXRA
MOV
MOVA
CyA
A CJCLEAR CARRY AND
FSAVE ZERO IN C
JGET A ZEROGETA
35160s88MINEGATETHEOFFAC
35180FaC
Myl
JCOMPLEMENT
8,102
JSET
POINTER
UP A
OF
FAC
MOVMy AJUPDATE
INX"JINCREMENT
OCR87ARE
WE
35260RETJALL
DONE
ONEGRY
INO,
BYTE
TO LO
COUNT
35220
JINZ
SIGN
JUSE THE UNPACKED SIGN
ISAVE THE NEW SIGN
35200
35240
BYTE
FAC
MyA
HyOFACLU»Y
ONEGR1:
Mn
ORDER
DINT
CMA
MOV
LxI
35100
35120
35140
"SBB
HIGHER
HIGHER ORDER BYTE
A,B,C,H,L
55080
OR
NEXT
ApM
35020
35040
35060
NUMBER
"ADC
JALTERS
ONEGR:
INSTRUCTION
CARRY
A
MOV
35000
DADOD
COUNT
THE
JCLEAR
JINZ
34920
34940
A", ENTRY FROM
ADD INSTRUCTION
BYTE
POINTER
TO
ZERO
NEXT
HIGHER
ORDER
BYTE
DONE?
NEGATE THE NEXT BYTE
35280
35300
35320
35340
ISHIFT UBL
JA = SHIFT
35362
35380
35440
35460
35480
35500
35520
ONE
JALTERSA,C,0,E,H,LDSHFTR:LXIHyOFACLU=YMylM,0JGET
POINTER
DSHFR1:Sl10JSEE
IF
DSHFRM:c
LXIOSHFR3
H,FAC=1iwE CAN'T, CHECK IF WE
JENTRY FROM OMULT, GET
DSHFR2:MVI
MOV0,10
CoMJSET UP
JSAVE A
MOVMyEJPUT
THE
MOVE,C7SET
UP
oCxHJPOINT
OCR0JARE
47(113)26309
35400
55420
FAC RIGHT
COUNY
L1%¢
35540
JPUT
E,0
ZERO
JSHIFT
TO
IN
WE
LO
EXTRA
CAN
A ZERO
LO
ORDER
SHIFT
8
BYTE
RIGHT
ARE DONE
POINTER TO
FaC
LASTBYTEIN
EFORNEXTTIME THROUGH
TONEXT
WE
HO
INTO THE HO
A COUNT
BYTE OF
LOWER
ITS
PLACE
ORDER
THE
LOOP
BYTE
DONE?
-
MATHPK
Fu4
.
FOUR
MAC
BASIC
MCS
8282
23=AUG~b4
GATES/ALLEN/DAVIDOFF
26108
DOUBLE
215035620
215135640
2152
215335660
35682
2154
MACRO
PRECISION
DSHFR3:
ARITHMETIC
ROUTINES
PAGE
11e4
JINZDSHFR2INO, DO THE NEXT
JMPDSHFRYJYES,
ADI
MOV11
0,AJCORRECT SHIFT COUNT
JSAVE SHIFT COUNT IN
35700DSHFR4:XRA
35720
35740
35700DSHFRA:OCR
RZ
LXI
35800OSHFRSS
35780
27eAUG=75
MYl
SEE
AJCLEAR
0H,FAC=1JARE
JYES
iNO,GET
ApMJGETA
Esl12
IF
wE
BYTE
CAN
SHIFT
OVER
8
MORE
D
CARRY
wE
DOUNE?
POINTEK
TO
7SET UP A COUNT,
BYTE
OF
LO,
FROM
DADD,
DMULT
FAC
35820
35840My AJROTATE IT LEFTY
JPUT THE UPDATED35860
35880H
£JOECREMENT POINTER
JARE WE DONE?
35900DSHFRSiINO,ROTATETHENEXT
35920DSHFR4J1YES,SEEWEARE
IF
ENTRY
ROTATE FAC ONE LEFT
THE
BYTE
BACK
TO
NEXTLOWERORDER
LOWERORDERBYTE
DONE
BYTE
SHIFTING
35940
35960
35980
36000
JROTATE
JALTERSFAC LEFT
A,C,H,L36020OSHFLC:MVlC,10iSET
36040
36060DSHFTLZMOV
RALArMJGET A BYTE OF FAC
JROTATE IT LEFT ONE
MOVMy AJUPUATE
36100INXHJINCREMENT
36120DCRcJARE
WE
30140INZDSHFTLINO,
ROTATE
36160RETJALL
DONE
36080
ONE
UP
A
COUNT
BYTE
IN
FAC
POINTER
TO
NEXT
HIGHER
ORDER
BYTE
DONE?
THE
NEXT
BYTE
36180
36200
36220
36240
30260
OMULT:
PRECISION
JALTERSALL
MULTIPLICATION
FACI=ARGRFAC
REGISTERS
JCHECKR
IF
RZJYES,
ALL
36300CALLMULOVA7ADD
36320CALLDMULDVJZERO FAC
363602Ll0, ARGLOJGET POINTER 10 LO UF ARG
36340
36382
36400
MOV
MeC
WE
ARE
DONE,
EXPONENTS
AND
MULTIPLYING
THE
AND
PUT
JPUTUNPACKED
HU
UP A COUNT
THE BYTE OF
FACIS
TAKECARE
FAC
IN
INARG
ARGTO
BY
ZERO
ZERO
OF
SIGNS
FBUFFR
MVl
LDAXB,7
0JSET
JGET
36420INX036440ORAAJINCREMENT POINTER TO NEXT HIGHER BYTE
JCHECK IF WE ARE MULTIPLYING BY ZERO
36460PUSH0FSAVE
DMULT2:
36480
36500
36520
DMULT3:
PUINTER
JzJWEARE
MVlJSETUP
PUSH7SAVE36540RAR
36560MOV
36580cc
30600MVl
36620CALL
36640MOV
36660
.
JOOUBLEFSIGN36280
JSAVE
7ADU
0,1
]
A
MULTIPLY
BY
ARG
COUNT
CUUNTERS
JROTATE
1A
TO
MULTIPLIERKIGHT
OLDBIT
IT
IN
JROTATE
FAC
PRODUCT
JGETMULTIPLIER
JGETCOUNTERS
IF
RIGHT
IN
OF
MULTIPIER
WAS
ONE
ONE
A
BACK
-MATHPK
Fq
2z2es
2e2ea
2ees
2eve
run BASIL MCS 8080
GATES/ALLEN/UAVIUOFF MACRO 47(113) 96309 27=AUG=7S PAGE
c
23eAUGw64 026108
DUUBLE PRECISION ARITHMETIC ROUTINES
36680
56700DCR
JNZ
36720OMULT4: POP
36740
36760
30780
36800
30820
oc
OMULTSE
J
L
JM
11e5
c
DMULT3JARE WE DONE wWITH THIS BYTE OF ARG
INO, MULTIPLY BY THE NEXT BIT OF THE MULTIPLIER
0JYES, GET POINTER INTO ARG BACK
oMULTR2
NURMAL
OSHFRMINO, MULTIPLY BY NEXT HIGHER ORDER BY OF
JALL DONE, NORMALIZE AND ROUND RESULT
B
JARE
WE DONE?
ARG
JSHIFT PRODUCT RIGHT ONE BYTE, WE ARE
MULTIPLYIING BY ZERO
7
DMULTA
36840
36860
36880
36900
i
JCONSTANTFOR
eoe1200
36920voe
36940
36960
36980eoe
414
vee
37000oee
37020
37040
37060040
204
370860
37100
DDIvias
1
DIV19Q,
00IViO
JOOUBLE PRECISION DIVIDE FAC BY
JALTEKS ALL REGISTERS
CALL
Lxl
CALL
VHOVAF
H,0TEN
VMOVFM
10
IN ARG
POINTER TO A DOUBLE PRECISION
1SAVE THE FAC
JGET
JMOVE
TEN
Jz
37340
37420
37440
37460
57480
JADD TWO YO EXPONENT TO CORRECT SCALING
DLIvys
MyM, C
8,0
S8L
57500
37520LDAX
37560cmMe
37600XnD
sB8
37542
37580
37620
37640
37660
37680
371700
DIVISION BY
JOON'T LET HIM DO IT
L]
MULDVS
orMuLOV
My ARG
37380
37400
Dblva:s
1@
TEN
DVOERR
M
37360
FAC
THE
FACi=ARG/FAC
JOOUBLE PRECISION DIVISION
JALTERS ALL REGISTERS
FSIGN
INTO
JFALL INTO DDIV AND DIVIDE BY
JCHECK FOR
JSUBTRACT
EXPONENTS
ZERO
AND
CHECK
SIGNS
1ZERO FAC AND PUT FAC IN FBUFFR
JGET POINTER TO THE EXTRA HO BYTE WE WILL USE
JZERO IT
JZERO FLAG TO SEE WHEN WE START DIVIDING
A", SUBTRACT FBUFFR FROM ARG
1000,076[ALLDY
DADDOD
0JDO THE SUBTRACTION
JSUBTRACT FROM EXTRA HO BYTE
JGET SUBTRACT INSTRUCTION
JHERE C=0
c
JCARRY=1 IF SUBTRACTION WAS 600D
Jebuive
ADC
CALL
XKA
XwD
STAXM
DADLD
A
1000,332
o
1000,076
IWAS
[ALL2
11
A"
NO, ADD FBUFFR BACK IN
JGET ADD INSTRUCTION
700 THE ADDITION
JCLEAR CARRY
J"JC" OVER NEXT TwO BYTES
JSTURE THE NEW HIGHEST ORDER BYTE
.
-
.
.
MATHPK rUK BASIC MCS 8088 GAVTES/ALLEN/DAVILOFF MACRO 47(113) 26309 27=AUs=75 PAGE 11m=6
DUUBLE PRECISION ARITHMETIC ROUTINES
23mAUG=bA NEI0UE
AC
Fa
2256
2257
JINCREMENT FLAG TO SHOW WE COULD DIVIDE
JCHECK IF WE ARE DONE DIVIDING
]
FAC»1
31720
37740INR
LDA37780DCRA37820
37840JM
RALOKOUNBMyl
CALL
LXI
CALLCi7
OSHFTL
HyARGLO
DSHFLC3SET UP A COUNT, SHIFT FAC LEFT ONE
JSHIFT IN THE NEXT BIT IN THE QUOTIENT
JGET POINTER TO LO IN ARG
JSHIFT DIVIUEND ONE LEFT
JNZoLivl}
DCR
JNZM
DLIVL
INR
37760
RAR
37800
37860Lxl
37960
37980Moy
ORA
37860
37900
37920
37940
38000
LxI
38020
38040
38000
38080
JMP
JSET SIGN FLAG WITHOUT AFFECTING CARRY
A
Hy,0FACLO
AB
A
HoFaAC
OVERR
FPUT
CARRY IN MSB FOR DROUND
JWE ARE DONE, WE WAVE 57 BITS UF ACCURACY
JGET OLD CARRY BACK WHERE IT BELONGS
JGET POINTER TO LO OF FAC
718 THIS THE FIRST TIME AND WAS THE
) SUBTRACTION NUT 600D? (B wILL GET
CHANGED ON THE FIRST OR SECOND SUBTRACTION)
JYES, SUBTRACT ONE FROM EXPONENT 1O CORRECT
7 SCALING
JCONTINUE DIVIDING IF NO OVERFLUW
JWE HAVE OVERFLOW}|
38100
38120
JTRANSFER FAC TO FBUFFR FOR DMULT AND DODIV
38142
38100
38180
30200
OMULDV:
STA
DCX
38220
38240
36260
382890
38300
38320
38340
38360
JALTERS A,B,C,0,E,H,L
MOV
LxI
OMLUVL:
38402
38420
38440
JPUT UNPACKED HU BALK IN ARG
JPOINT
ARG=1
TO HO OF FaAC
Mvl
MVI
MOV
STAX
MOV
oCxB,7
c,0
AgM
D
M,C
0JPOINT TO END OF FBUFFR
JSET UP A CUUNT
JGET A ZERO TO FILL FAC WITH
1GET A BYTE FROM FAC
JPUT IT IN FBUFFR
JPUT A ZERO IN FAC
JPOINT TO NEXT BYTE IN FBUFFR
DCR
INZB
OMLDV1JARE
INO,
JUOUBLE
JALTERSPRECISION MULTIPLY
ALL REGISTERS
0Cx
38360
AyCH
RET
UyFBUFFR#®023
H
JPOINT TO NEXT LOWER ORDER BYTE IN FAC
JALL
WE DONE?
TRANSFER
DONE
THE
NEXT
BYTE
38460
38460
38500
385e2
38540
38560
38580
38600
38620
58640
36660
38680
38700
38722
38740
38760
x
OMUL1@3
CALL
VMOVAF
XCHG
ocx
MOV
ADI
Je
MOV
PUSH
CALL
POP
INR
THE
JSAVE
FAC
THE
BY1@
FACIN
ARG
JVMOVAF EXITS WITH (DE)sFAC+1
JGET THE POINTER INTO THE FAC
IN (HL)
TO THE EXPONENT
JGET THE EXPONENT
JMULTIPLY FAC BY 4 BY ADDING 2 TO THE EXPONENT
JCHECK FOR OVERFLOUW
JSAVE THE NEW EXPONENY
JSAVE POINTER TO FAC
JADD IN THE ORIGINAL FAC TO GET S TIMES
FAC
JGET THE POINTER TO FAC BACK
JPOINT
R
JADD ONE TO EXPUNENT
TO GET 1¢ TIMES FAC
.MATHPK
Fa
FOR
HAC
BASIC
MCS
8080
GATES/ALLEN/DAVIOOFF
232AUG=64
06108
36760
38800
23¢9
2310
2311
36820
MATHEK FOR BASIL HCS 8080
MAC
Fa
38900
38920
38940
38960
2319
38960
39000
2320
2323
2324
2325
2326
2327
39020
39040
0o1s31*
39860
0015317 001000
©001532*
00000D
001533° 00l0d0
47(113)
PAGE
96129
ARITHMETIC
KNZ
NP
27=AUG=75
ROUTINES
20RST6
000VSS
000365
39280
SUBTTL
FLOATING POINT INPUT ROUTINE
JALTERS ALL REGISTERS
JTHE NUMBER 1S LEFT IN FAC
JAT ENTKY, (HL) POINTS TO THE FIRST CHARACTER IN A TEXT BUFFER,
JTHE FIKST CHARACTER 1S ALSU IN A, WE PACK THE DIGITS INTO THE FAC
JAS AN INTEGER AND KEEP TRACK OF WHERE THE DECIMAL POINT IS,
JC 1S 377 IF WE HAVE NOT SEEN A DECIMAL POINT, © IF WE HAVE,
78 18 THE NUMBER OF DIGLITS AFTER THE DECIMAL POINT,
JAT THE END, B AND THE EXPONENT (IN E) ARE USED TO DETERMINE HOW MANY
JTIMES WE MULTIPLY OR OZVIDE BY TEN TO GET THE CORRECT NUMBER,
<
STRING,
F1F WE ARE CALLED BY VAL, THE SIGNS MAY NOT BE CRUNCHED
39100131"otJSEE IF NUMBER IS NEGATIVE
39120PUSHPSWFSAVE SIGN
JIGNOKE A LEADING SIGN
JzFINY
2331 001537¢ 0oleee 00R3Te39160(12e
001541° 0p1002P0D31Z39180szFINL>
0000ED001535°39200oexH
39240
39260LENGTH=2,€
ZERO
CALL
2329
2330
0015347 2010000URS1E
0015367 0000002e1526°
D01535¢
0015407
2334
Do1542¢
2335001543
2337001545¢
2336
2338
001504
0000CD
00PENE
0p0LED
20100¢
P@1545¢ 001000
©01546¢
P@1547¢
POPLED
DoVEOR
P01550¢ ooicoe
001551 @oivee
001552¢ 001000
JIGNORE MINUS SIGN
0€1545°
000LS3
001545°
0LOVS3
0UBS1S
060175
001542
oe@1el
oee12l
@Ue13!
001553¢ 001000@€OLST
©01555¢ doivew0w@32l
001554¢ Qgie0e
1le7
JALL DONE IF OVERFLOW DID NOT OCCUR
1T DID, GIVE THE APPROPRIATE MESSAGE
OVERR>
39140
2328
PAGE
FLOATING POINT INPUT ROUTINE
38840
38860
38880
2315
2316
2317
2318
2322
MACRO
PRECISION
GATES/ALLEN/DAVIDOFF MACRO 47(113) 26109 27mAUG=TS PAGE 12
23nAUGR6a D168
2312
2313
2514
2321
DOUBLE
000117
39220
39260
MoyBA
MOVE/A
39300MOV
39340cha
39320
39360
39360
39400
MOy
JHERE
CRRGET
FSET CHARACTER POINTER BACK ONE
JCLEAR FAC
FCLEAR FLAGS! BEDECIMAL PLACE COUNT
J0=SIGN OF EXPONENT
0,4
CA
TO GET
JESEXPONENT
THE NEXT
FINDIG
JCEN," FLAG
DIGIT
OF
THE
NUMBER,
JGET A CHARACTEK
A
DECIMAL
POINT
OR
700 WE HAVE A DIGIT?
39420Je00037639440131w,r0LBS1Z39460JzFINDP001566¢ 901000 0EASTL39480(133eJCHECK FOR BEGINNING OF EXPONENT
Qves0e39500NzFINEJUNONE OF THE ABOVE" SO END OF NUMBER
001556¢ 0o1000
001557¢ 0p00oe
0015607
061702°
800002©E1506°
0p0COR2ERLSH
001561° 021000
@01562°
©L@s32
©015637 0pl0We
P01564°D000RC0015657000000001557’
001567°000000202105
00157¢¢ 0plobe
@01635°
0015717 0000@C
0015727 0000e261641°
01564°
201573° 001000Q327
39520
39540
39562
JTEST FOR DECIMAL POINT
JHERE TO CWECK FOR THE SIGN OF
CHRGET
<
STRING,
THE EXPONENT
JCHECK FOR ITS SIGN
AN
"E"MA THPK
Fa
2365
2366
2367
2368
2369
2370
2371
2372
FOK
BASIC
MCS
8080
GATES/ALLEN/DAVIDOFF
06309INPUTKOUTINE39580
39600PUSH
L1W
H2003433962039640
39660XTAL>
DCR
130} TU
ISET
MINUTKINEGATIVE
23wAUGR64
0215740
0015757001060
021200000345
081576
015770
0816800QooeeeQ0e0eeov1621°
0015717
va108e
©o16017
06108
200e41
021602001000
001298oveees
200376
201603000290PITILrn
2373
2374
2375
2376
2377
2378
2379
2380
201604
9e1605°¢
001606201000
001607°201000
201690
000008
FLOATING
POINT
39680
39760<
STRING,
39720<
STRING
R2
39760ck100p310
0vu2439780RZ>39800
39820<
STRING,INR[}
39840cPInen
39860R2>201610°eg1u0e23620o1611°221040oo1612¢2384001613723850a1614°
001615°200090
221000
0010000eas76
000e53
208310
0ee3re
200000PITTLI
39880
CPI
STRING,
<
39920Jz
39940
39960RZ
39980PoP
0216160001000000310
0010400012002¢2361
000655
001621
oo1e22*201000
01000
2393
2394
001625°
2397
0033240260
JIGNORE
FINEC:
PSH>
JGET
H
JHERE
TO
THE
NEXT
DIGIT
oei74e’
P18
40080INR0INO,EXPONENT
ovese240100NzFINEJSETITS
ovi6a1t
avi623’
Av0esT40120021020oveeas40140001635¢SuB
E
201060Moy
EvA
©p1000000137
aveu1s40160001634740180INR
3
402000016357021000001636¢0010000eav14
ove3s12w1637000200
000000001555°
ov1627°JHERE TO CHECK
1 POINT FLAG
INR
¢
iz
FINC
XRA
40249
4260
JMAKE
IF
WE
HAVE
JWE
TO
IS
NOT
377
MULTIPLY
00160000173MoyAEJEXPONENTSEXPONENT=#
001900LI42360
40380suB8
GATES/ALLEN/VAVIUOFF MACKO 47(113) 06309 27=AUGRTS
D108
FLOATING POINT INPUT ROUTINE
pul6Te”
0e1637°242200165000000e200362
001660°2423
2424
24250216511
no16520
791655¢000090201645°¢021690000365001090242600165470000902427901655¢
001656°0ea315
0e637
¢
001650001220003612429001657001000©e0uT440508243¢201660°
201661°0010200003024gsee000000wal66er000290001644
0u1654°40542<
STRING,
001000
000000
2433
FINE2E
P
801664
001665°o0100¢000000ee1175
0ol660"
vele6/t
¢ote70
voteT1?
201000
200040
THE
END
CORRECT
FUR
OF
OF
OFTIMES,
DECIMALPLACES
12=2
BY
BY
TEN
IF
EXPONENT
3PFINESJOIVIDETENIFEXPONENT
42460PUSH
CALLPSw
DIVigISAVE EXPONENT
FDIVIDE NUMBERBYTEN
40480POPskJGETINR
NzA
FINERJINCREMENT 1T
100 AGAIN IF WE
ARE
NOT
CHARACTER FOINTER
4u620JGET
FGETCHARACTER
SIGN
40640INEGATE
03612ep316
IS
1S
POSITIVE
NEGATIVE
EXPONENT
JGET42600
DECIMAL
NUMBER
NUMBER
4vdze[TTEETHE
LATER
40440
40580
©01000
AND
DIGITS,
POINTER
FMULTIPLY
4560
201665°¢
IN ALL THE
PAGE
FINMUL
1@
SO
0816420
@016a5°
READ
BY
TWO
ISAVE
200000
DIVIDE
WANT
K
JWE HAVE ALREADY
OR
DON'T
JHERE000000
2443
C
DECIMAL POINTS
PUSH2421
2661
2442
2
4p3ee
4e320200364
2438
SURE
SEEN
JOECIMAL POINTSI| == SET FLAG
JCONTINUE SCANNING CHARACTERS
4340
40400
SET
IN
0va345
MCS 808D
239AUGR64
DIGIT
A
001090
2439
24by
ALL
001000
BASIC
A
SIGN
w1661
FOR
WAS
DIGIT?
veBu240016440
0016450
P@16a60
0016470
2434
2435
2436
2437
A
201000
HAC
2428
IT
STACK
CHARACTER
EXPONENT
001620
201090
FLAG
CHARACTER
015760
4280
2431
2432
OFF
LAST
THE
NEXT
000000
200020
n01640°
2018
2419
2420
IF
OF
FGET
FINEDG
4v220
Fu
FINEC
JCHECK
GET
CHRGET
201069
vo1632¢
JUMP
"e®
001625¢
001631°
CAN
EXPONENT?
0o1624°
w0162/
" 002040
0016307 200000
MA THEK
IT IN LESS BYTES
SIGN OF EXPONENT
WE
FINEC>
0ex
4edee
40040
SO
<
STRING,
40000
ovesar
POINTER
ON STACK
INO, RESET FLAG
PLUSTK
399002388001617
001620
121
JSAVE TEXT
JPUT FINEC
nen
2387
2389
2390
2391
2392
PAGE
FINEC>
Jz
397402383
27=AUGRTS
FINEC
000310
000376
000Ess
2384
2386
MACKO
47(113)HAC
IF
DONE
POINTER
NECESSARY
vulo61’
©0106620035540662XCHG»JGETCHARACTER
0010000031140680RET>FALLDONE
42700LENGTHe2,FSAVETHE
2440
2445auree
2446
24474er6e
XCHG
40749
244840780
40800
244940820
2450ae8ue
Lx18,3774SC0DEJCLEAR
MoyHiCJZERO
oVLic
CALL
4860XCHG
FMERE
2452
2453
24544880CHKGET
2455
2456
2457
24584940
CONISS
TO
CHECK
JoFINDIG
40920Pl
Jz
cP1
9z¥
FINDP
ER
FINEX
INZ
4960
4960
[123
41000
2463
A
FAC,
THE
(DE.
PLACE
COUNT
"on
DOUBLE
JFORCE_THE
41060PUSHHFSAVE
41100LxlHyFINECJGET
41140JRERE
266641160CHRGET
XTAL
DONT
CHECK
FOR
THE
SIGN
IT
OF
FGET
2467411800GR)
2468a1200134MINUTK
2469
247041220K241240133
JSET
ner
ONE,
FAC
THE
NUMBER
ON
OR
1S
TURN
FINISHED
OFF
DBL
ZERO
TO
JUMPTO,
ANOGET
THISIS
TEXTPOINTER
TO
SAVE
EXPONENT
FIRST
SIGNOF
IF
SNG
CHARACTER
EXPONENT
THE
OF
TO
EXPONENT
THE
EXPUNENT
MINUS
IS
NEGATIVE
18
JTHIS
IS
IN
FLAG
POINTER
STACK
THE
THE NUMBER
NUMBER ==
TO BE
TEXT
THE
JCHECK
1T
HAVE
PKECISIUN
THE
ADDRESS
JPUT
TO
"INTEGE!
OF
JCHECK FOR A DOUBLE PRECISION EXPONENT
FWE
AFINFRC2460
2465
TO
CHARACTER
JWE HAVE A DIGIT
JCHECK FOK A DECIMAL POINT
IWE HAVE ONE,
1 GUESS
JCHECK FOR A SINGLE PRECISION EXPONENT
JWE HAVE A SINGLE PRECISION NUMBER
FINE
FINEXD
VALTYP
POINTER BACK IN (AL
PUINT, "E" OR "0
NEXT
CALL
41120
IN
BADECIMAL
SET
SGET THE TEXT
DIGIT, A DECIMAL
OKA
41840
41060
POINTER
(HL
(HL)
1ZERO
FOR
JGET
490041020
IN
JCEN,
N FLAG
24512459
2460
2461
2062
TEXT
FLAGS:
POINTER
CASE
WE
ARE
CALLED
8Y
VAL
BYTESMATHPK
FOR
BASIC
F
mMCs
8ean
23=AUG=64
bllt&/ALLEN/UAVlUUrF
PbIUE
MACRO
FLOATING
247141260
247341300
24712
47(113)26309
INPUTROUTINE
POINY
412800
2474
247541320
41340nen
2476413602477413802478
247941400
41420248041440248141460
414890
27=AUG=75
PAGE
JEXPONENT 1S STILL POSITIVE, RESET FLAG
PLUSTK
:
FIGNORE
H
JTHE
JTHERE
TO
CHRGET
41500
GET
THE
NEXT
DIGIT
FINEOGINR071T
AiTHE
41560
41580SuB
MOV
i
E
T0
41620
T0
41700
UPANlNTEhtN
IS
JIT
i
TU
FINISH
41840
UP
A
1E
7ALLDONE
NO
SIGN,
GO
LONGER
PUT
THE
CORRECT
BACK
NEED
SIGN
IT 1S POSITIVE
IS
IT
ON
NEGATIVE
WHAT
KINDOF
PUINTONE
TO
MULTIPLY
OR
cH
A
NUMBER
IS
IT?
OUTHOW
JOIVIDE
FINEF2
419800JGET
PSWJGET
NEGINEGATE
42020
THE
CORRECT
4
42000
4
WANT
47
IT
WE
IS
HAVE
42120HJWE
4e140HyPOPHRTJGET
4e160H}
42180CUNISeJCHECK
TIMES
CORRECT
HAVE
WE
HAVE
HAVE
NUMBER
TO
OF
MULTIPLY
TIMES
TO
10
DIVIDE
AGAIN
IF
WE
ARE
NOT
DONE
POINTER
SIGN
NECESSARY
TEXT
POINTER
=32768
WOULD
FIT
(HL)
TEN
WE
OR
IF
THE
JWE
MANY
BY
TEXT
THE
JGETIN
THE NUMBER
THE
VALTYP
42100
RET
IF
SIGN ON
(DE)
POINTER
THE
IF
anLTIFLv
TO PUT
SIGN
IN
NUMBER
DIVIDE
TEN
ITS
BACK
NECESSARY
POINTER
TEXT
BY
GET
POINTER
IF
THE41960
42000
TEXT
FMULTIPLY
FINDIV
41949
OR
DIVIDE
FINMUL
INTEGER,
TEXT
POINT
JFIND
7
]
4e2¢0
DIGIT,
==
IT
THE
FLUATING
41860
FINEF23
AN
JGET
JSAVE
4ez2ve
A
FLOATING
THE
INEGATE
FINEF:
42080
UP
A
IS
JSAVE
INEG
42040
NOT
JFINISH
5
41920
A
WE
CHARATER
EXPONENT
JIT
rx~lan
41780
41900
WAS
NUMBER
Ps
41740
41880
NEXT
THE EXPONENT,
THE
41720
41820
NOT
YHE EXPONENT
THE
UP
FINEF
41680
41800
WAS
2
41660
41760
CHARACTER
SIGN
INEGATE IT
JSAVE IT AGAIN
FIN]SH
VALTYP
cp
PLUS
FPACK THE NEXT DIGIT INTO THE EXPONENT
FINE
41600
41640
OF
XKAJINZ
41540
LEADING
FIRST
JGET
Je41520
A
} AND CHECK FOR A DIGIT
JPOP FINEC OFF THE STACK,
Sw
FINEC:
12=3
BE
NOT
A
(HL)ANINT,BUT
ITISNOT=32768
S0
SNG,SAVE
THAT
DOES
IF
INBE
WE
UNTIL
NOW
SNG
SNG,
ADDRESS
CONIS2
TO
A
TEXT
PUP*S
FUNNY
HAVE
POINTER
H
OFF
THINGS
STACK
WITH
BECAUSE
THE
STACK
=32768
JWE DON*T, POPHRT 18 STILL ON THE STACK SO
i
WE
CAN
JUST
RETURN
42240
42260
42280
42300
A
-
AC
RHEL
o Fa4
MATHPK
FOR
BASIC
AN IA
MCS
8089
TO
CRECK
MACRO
47(113)
IF
WE
HAVE
FLAG
c
SEEN
iSET
2
DECIMAL
THE
POINTS
AND
SET
DECIMAL
.
.
mble
27wAUGmTS
FLOATING POINT INPUT ROUTIN
PAGE
.
12=4
25244e3eeJNZFINEFJWE
eses
252642340
42360CALL
JMPFINFRC
FINCiTHIS IS THE FIRST UNE, CONVERT
JCONTINUE LOOKING FOR DIGITS
2527
THE
FLAG
Te eae
LR AD SU
bA]Eh/‘LLEN/DAVIUDPF
23=AUG=b4 Qb3
JHERE
7 POINT
INR
FINDP3
HAD
2
DECIMAL
POINTS,
NOW
WE
ARE
FAC
DONE
TO
SNG
42380
dedpoJFORCETOBESNGOR
4edceJIFTHEZEROFLAGISON,THEN
42440JIFTHEZEROFLAGISOFF,
4400
FINFRC:
THE
4eSvePUSHBJSAVEDECIMALPOINT
42520PUSHPSWISAVEWHATWANT
42560POPPSWJGET
cz
FLAGBACK
wEHAVE
XJCONVERT
BJGETDECIMAL
JGET
JGEYEXPONENT INFORMATION
YEXT POINTER BACK
42660RET>JALLDONE
11T
1S
SUBROUTINE
A
021673@0100000VBS6S42760FINMLT:PUSH
4z780IFNLENGTHe2,
<
42800
CALL
MULIPLIES
SUBROUTINE
BY
BECAUSE
TEN
IT
PSH
JSAVE
MUL1@>
42820LENGTH=2,
<
42840LDA
JSEE
TO
BE
TO
TO
INFORMATION
BACK
BACK
ONCE,
IF
BYTESWHENWE
EXPONENTISZERO,
EXPUNENT,
JTHMULTIPLY
VALTYP
POINT
SAVES
JRETURN
IF
HAVE
POP
JTHIS
DBL
FAC
WECNZRZ
YO
INFURMATION
THE
IF
POP
POPFINMUL:
0e1106'
WE
TO SNG
TYPE
SNG
INFORMATION
42600427400UOB31S
JCONVERT
BE
DBL
POINTER
42620
42640
42720
QALlb6b*
51
TO
BE
EXPONENT
4er00
VROURE
TO
TEXTISAVE©VVO310
Qeouee
FAC
FAC
iSAVEDBRleBeBol0RE
THE
THE
HPUSHVo16T2*BU16T6!
FORCE
PUSH
42580
P01675*
DBL
FORCE
4e48e
aegh40
001674¢
FAC
BY
WHAT
ENTRY
FROM
CHECK
IF
ENTRY
A
IS
FROM
ZERO
FOUT
FOUT
TEN
KIND
OF
NUMBERWEHAVE
MULTIPLYBY10,0
BY100¢
42860
42880JSAVE
42900JWE
42920
[
42940
R@1677°
0e1700*Q01000
Q1000QUB361
BLPLTS42960
42980
P01721°B01ePe2ea3s1143000
.
l'
43049
43060
IFE
A
JGET EXPONENT
JOECREASE I7
JALL
LENGTH=2,<
PSwJWEYALTYPJSEEWHATKIND
443120PUSHPSWJSAVETHETYPE
43160FOPPSwWJGETTHEJWEHAVE43220
cz
DIivie
MULTIPLY
DONE
LUA2571
PUSH
BACK
DBL,
PO
HAVE
TO
DIVIDE
OF
==
SAVE
NUMBER
wE
COUNT
HAVE
JWE HAVE A SNG NUMBER
DLIvie
432002
JGET
TYPE
A
COUNT
JUPDATE
DBL
BACK
BACK
NUMBER
IT
43240
2573
2574
-
TYPE
CPl43180
es72
HAVE
451002569
2575
2576
THE
JWE
SNG,
43080
43140
2s7e
JGET
TYPE
A
RE
DCRART}
FINDIV:
THE
HAVE
432880
©o1702°
43300
43320
JHERE TU PACK THE NEXT DIGIT OF THE NUMBER INTO THE FAC
JWE
MULTIPLY
THE
FAC
BY
TEN
AND
ADD
IN
THE
NEXT
DIGIT
FINDIG:
.MATHPK
Fa
FOR
BASIC
MAC
MCS
8082
23=AUG=64
GATES/ALLEN/DAVIUVOFF
Q26108
MACRO
FLOATING
2577
2578©01702*@n1@ve@VQ3s2S45340
43360
2579©021703*201200QevBl12T7Pe1704°Qoleve@eR1T00017025°QploeeAvRcll01706°Qeluve47(113)96309
INPUTROUTINE
POINT
1IFN
12=5
JOIGITS:SAVE
MOVDeAJPROTECTDIGIT
45400MovAyBJINCREMENY
43420ADCwRBleT43440MOyQ01707@rl10vDQUesRS435400PUSH
VP100RQD34S43480PUSH
201711
021712
PO1713'P010R0
voPlvove
G0P0ReQUB325
QVLB315
QU1lee’43500
43520PUSH
CaLL
Q017140pR0NeQAEL1675°
}
Q0R3el435540POPQp10PRAQRUB32643560svl0PRRPRQUBLGE43580EXTFNC,
<43600CALLPUSHF
CaLLFLOAT
vplveeQLB3LS
vol722*@pPLRR
vpoove@B1731*
RL1ITLIS*
001723
P01724*@eoleee
0p1o0ePQLLs4l
ePO3QL
©001725*PpiovePQe@321
201726°0ploeR©01727°200000@V1555°
P01730°*ocoereee1721°
QPR30S
5
JGET
FROM
INFORMATION
BELOUW
PLACE
DECIMAL
NECESSARY
NEXT
COUNT
POINT
JPUT
OFF
NUMBER
JCONVERT
DATA
NUMBER
BY
1@
DIGIT
JSUBTRACT
ASCII
ON
CODE
STACK
TOFLOATING
INNEXTDIGIT
JRECALLDATA
POINT
NUMBER
POPR
43680CALL
FADD>
EXTFNC,
<
43700CALL
43720
43740POP
45700POP
43780
458v0
EXPONENT
DECIMAL
THE
JSAVE OIGIT
JMULTIPLY OLD
@plove
43620
PAST
JSAVE
217177
43640
43600
IF
1A
ve1716*
Q61720
001721
PAGE
453800R1710"
001715°
27eAUGe7S
LENGTHe2,
<
PUSH
0
TADD
FINLOG>
JMP
IFE
JGET
45820LENGTH=2,<
PUSH
0
43840MoVA8
43880MOVByA
43900PUSH
45800
ADC
439g2¢
NEXT
JSAVE
EXPONENT
P INCREMENT
c
}
PAST
FISAVE
PLACE COUNT
DECIMAL
DECIMAL
JGET
THE
S
440204
44040FINDGY
TO
440860
441009
FACK
JWE
THE
NEXT
DO
DIGIT
FACLO
0,703277+SCODE
OF
44140FINDG2J
44160O,HJCOPY
E,L
44200
TO
H
HAVE
AN
A
AN
NUMBER
WE
LY,
WITH
(DE),
(HLJ
INTO
(HL)BY
(ML)BY
44220L]FMULTIPLY
0JADD
IN
OLD
CARRY
SO
THE
IN
ON
(HL)
IF
NUMBER
IS
TOO
BIG
(DE)
TMULTIPLY44240
HAVE
INTEGER
INTEGER
RETURNS
(HL)
ARE
ASCII
DIGIT
KIND UF
NOT
JCOMPAR
WE
INFORMATION
JWE HAVE AN INTEGER, GET IT
jSEE IF WE WILL OVERFLOW
441¢0
44180
IT
ISAVE THE
JSEE WHAT
44900
1F
POINT
PUINT
DIGIT
JCONVERT
43980
JHERE
INFORMATION
DECIMAL
THE
ISAVE TEXT POIN
43940
435960
44060
CHARACTER
(ML)
2
2,
TO
(HL)
GET
NOW
IS
4»(DE)
S5«(DE)
.
-
MATHPK
47(113)Wblb9INPUTROUTINDADHFMULTIPLY
44280POPPSWJGET
THE
44300MOVCoAFSAVE
IT
263344320DAD8JADD
263444340MoVYLJCHECK
263544360ORAAJOVERFLOW
2636
2637
263844380
44400
44420Jm
SHLD
POPFINDGY
FACLO
HJWE HAVE OUVERFLOW})
JEVERYTHING IS FINE, STORE THE NEW
JALL DONE, GET TEXT POINTER BACK
2639
2640
264144440
44460
44460POP
POP
JMPB
0
FINCJGET
JGET
JGET
2642445002643
2644a4s20
445492645445602646
264744580
44600264844620
F4
rUN
BASIL
AC
MCS
8080
23=AUG=b64
GATES/ALLEN/VAVIUOFF
@618
FLOATING
263044260
26312632
2649
44640
265¢
MACRO
POINT
FINDGES
JHERE
FINDGY:
FINDG2:
0e1734°Volvew0LB3LS
001735
001736*GeRvee
020e@RW@e1150°
@LLT3e*
V017537°
001742*deleve
0200000veses
QbbL2S'
001741*BP0RBP0QL1T735*
MAVE
OCCURED
IF
THE DIGIY
IT BACK ON
DIGITS
TO
A
SINGLE
THE
OR
JFALLTHROUGHIF
1GET1000000,DU
S0,FAC00,CONVERT
44720POPPSwJ1GETTHENEXTDIGIT
44740CALLFINLOGJPACKITINTOTHE
44760JMPFINDGEGETFLAGS44780JHERE
CALL
JHERE
FINDGD:
DI&IT
CONDS
TO
PACK
SINGLE
JCUNVERT
IN
THE
NEXT
DIGIT
FMULTIPLY
44860CALLVHOVAFISAVE
44880PUPPSWJGET
449¢@CALLFLOATJCONVERT
CONDSJNOw,
DADD7ADU
CALL
CALL
JMpP
FINDGE»
IFNEXTFNC,
<
FINLOGS:CALLPUSHF
45060CALLFLOAT
45080LGuTn-E,
45040
iSUBROUTINE
45100JM
a4512@<
LENGTH=?,
45160JMP
PUPKR
FOUR
FADDT>
FADD>>
1S
ZERO
ON
NUMBER
BACK
TO
THEFAC
FAC
NEXT
THE
LOG
JSAVE
FAC
JCONVERT
I,E,
IN
AND
wE
SNG
PREC
ALREADY?
ARE
TO
BY
ARG
OONE
DUUBLE
PRECISION
PRECISION
PRECISION
NUMBER
10
DIGIT
TO
THEDIGIT
SINGLE
TO
PRECISION
DOUBLE
PRECISION
THE STACK AND WE ARE DONE
STACK
POINT
JADDITJGETPREVIOUS NUMBER OFFSTACK
IT
TO
4
DIGITS
PRECISION
FLOATING
JADU
A
7
NUMBER
DIGIT
DIGIT
On
WAS
HAVE
LOUBLE
DOUBLE
THE
DIGITS
NUMBER
FaAC
A
CONVERT
IN
PRECISION
DOUBLE
STACK
JGET THE FLAGS OFF
FIN,
(HL)
1000000
PRECISION
THE
THE
WE
TO
SINGLE
OMUL1244940
MSB
PRECISION
VALTYP
,GE,
OFF
OF
CALL44920
OLD
ALREADY
STACK
DOUBLE
1WwE
7
THE
SINGLE
11F
A
THE
IS
INTEGER TO SINGLE PRECISION
THE FOLLOWING JUMP
224,164,044,000
FINDG3:
FINDGL
CONVERT
B
DIGIT
FINDG3
45140
.
NEX1
FComP
TO
TIMES
DAD,
OVERFLOW
MOVKR1
45000
verr2l’
WE
TEN
USE
JP
45220
0@Ruee
IF
GET
CALL
44960
001735*
THE
FOUR
JCONVERT THE
J0O NOT TAKE
VECIVE
YO
CAN
32769
lNTEbtk
CONSI
A
JNZ
2
WE
44600
44842
QL3S
QL1205°
THE
SO
DECIMAL POINT INFORMATION
EXPONENT INFORMATION BACK
THE NEXT CHARACTER
IGE
PUT
CUNV:RT
TOU
IN
BY
UIGIT
44700
44820
20lvee
200000
32768,
12=6
44680
44800
0o1731*
Pe1732*
HANDLE
PAGE
A.C
10
CALL
XRA
JHERE
FINDGV:
TO
MOV
PUSH
JHERE
?7-AUG 75
.
.
A
NUMBER
IN
.MATHPK
F4
FOR
BASIC
MCS
8282
GATES/ALLEN/UAVIOOFF
Q6108
47(113)06309
POINTINPUTROUTINE
FINEOGS:MOV
27=AUG=75
PAGE
12=7
23wAUG=b4V01742oplove©wo)TS45260V@1745*Qole00oQeavar45280RLC001744°*Q01000@0QLAT45390RLC@01745°
©01746*
001747°Qolove
@o100R
021000QUeeRs
@eAVeRT
0QvBRRS45329
45340
45360ADD
RLC
ADDJADD
iNOW
JADL
001750vploee@vos2e453860sulJSUBTRACT
001751°QpBLVLBLVRVLD00175e*
001755*
0R1754*@Aploee
0vleee
Q00veeQvo137
Q00323
@01621°45400
45420MUV
JMP01755QooereQL1740°
2683
FLOATING
MACRO
MAC
45209
JHERE
4522¢
IWE
45240
WE
PACK
MUTIPLY
JNOTE:
IN
THE
THE
OLO
EXPONENT
NEXT
DIGIT
EXPONENT
OVERFLOwW
AE
A
IS
OF
BY
THE
TEN
NOT
EXPONENT
ANDADD
CHECKEDFOR
JEXPONENTDIGIT
JFIRST4
BY
§ TO MAKE
DQUBLE TU
IT IN
OFF
e«
IN
THE
NEXT
MULTIPLY
5
GET
DIGIT
EXPONENT
BY
10
310
ASCII
CODE
ISTORE EXPONENT
JCONTINUE
454492
.
.
.
MATHPK
Fa4
FOR
MAC
BASIC
MCS
8082
GLATES/ALLEN/DAVIDOFF
23mAUGmb4 B61208
2699
MACRO
FLOATING POINT
47(113)
96309
27=AUG=T7S
SUBTTLFLOATING
INPRT§JENTRY
PUSH
POINT
©U1756°0@10V0QEUOS4S45480
4550827¢2©017S57*QploMRQROK4l45520LxIHyINTXTa#
2703001760°200000©EBPALR2764VU1T61*VPVLRRRL1754°2706
2707Q017635
001764°20000V
QpRRRBQVQ3150QLALOL
PL1766°*455490CALLSTROUT
0017652010000VUAs4)L45560POP
2708
001762° 0R1000
TO
H
OUTPUT
2700
2701
2705
PAGE
OQUTPUT ROUTINE
45460
.
.
.
13
ROUTINE
LINPRT
JSAVE
LINE
JPRINT
JFALL
NUMBER
MESSAGE
INTO
LINPRT
2709
2710
2711
2712
2713
2714
2715
2716
2717
2718
45620
45640
45660
45680
©o1760°
JPRINT THE 2 BYTE NUMBER
JALTERS ALL REGISTERS
LINPRT:
IFN
001766°
Du1767*001000
0P10R0QD353
0QLWRST45790
45720XCHG
XRAMV18,230
001772°221000VR3S —F+———_4S5760CALLFLOATRe®
©201770°
©01771°
BR1773*
©Ve1774%
00100
0200V0
200000
d@0EOY
0LALR6
QUER3W
45742
H,L
JSETUP
REGISTERS
FOR
FLOATR
A
JCONVERTTO FLOATING POINT
CUNISSJPUTTHELINE
A)SETFORMAT
0L1155°
QR1T63*
“TACC
001775°0010e0201776°0000RQQ0QVRLR
QULTTT*LoRLVDQELTTS*
002000* 021000
IN
LENGTH=2,
<
QUAVAl
XRA
¢
0VA34S
NUMBER
TO
FREE
IN
THE
FAC
AS
AN
INTEGER
FORMAT
CALL
LXIFOUINI®
HySTRUUI##JSET _UP THE SIGN
:
TPUT PRINT STRING AUDRESS ON STACK SO WE WILL
PUSHH)} RETURN TO IT AND DO AN "INX
1THISGETS
]BEGINNING
THE
JFALL
INTO
RID
OF
THE
OF
A
SPACE
LINE
FOR
H"
THE
SIGN
AT
NUMBER
FOUT
—WWW CAL FouTo
JTPRINT
THE
NUMBER
STRouI #4¢
OUTPUT
J1FLOATING
46080
JALTERS
46100
.
JTHE
ALL
OF
FaC
REGISTEKRS
ORIGINAL
CONTENTS
OF
THE
46122IFNLENGTH=2,¢FOUTsLxIH,FBUFFKJGET
HJSAVE
voeenl*
002002’
Q02003*Aplevd
000RRR
vpoeeRdwReoL4l
MBRVRL*
0eL776’*46140202004°201008QU34S46160PUSH
002005°Q21000QLA3ST46150
46200JPUT THE
FSIGN
002006°201000©ERU6LS462¢0MVI
002007°
P2aea10’2900RR
021eveGUOL4L
QuB3be46240JP
002011"QgoeedQvK1sS’
SIGN
Mg
iny
OF
THE
FAC
IS
BEGINING
IT
FOR
LOST
OF
CHARACTER
WHEN
WE
NUMBER IN THE BUFFER AND
JGET SIGN OF NUMBER
JPRINT
SPACE
IF
BUFFER
RETURN
MAKE
IT
POSITIVE
POSITIVE
.MATHPK
F4
FOx
BASIC
2752
27153
2754
MCS
8080
23=AUG=64
MAC
be2012*
200009
GATES/ALLEN/UAVIDOFF
26308
Qeouee
002n14*200000200055
veleveve1000TUITE]
Qeouse
0v2017°QeeveeALY
vvenz2e’en1eeewoesie
o221’
veepee*
vo2pas’
vo2p24’
Qv2025"*vpoeeeQu2e6s’
we2vil’
vpence’
2poer0
ve1ove
veloee
veenne
Veovew
MACRO
POINT
47(113)
QUTPUT
©6309
27=AUG=75
PAGE
13e1
ROUTINE
Aueuee’
s’ Qelove
ey0vea1s5*ovenie’
FLOATING
46260
46eb0
QeB345
avest4
Myl
Myhet
JIPRINT
FOUTYs
M,"o"FPUTA
46320FOuT19100IT
40360
P01175*
oe2vel*
JHERE
FAN
7150
Wt
GET
INTEGER,
WE
KNUW
JINTEGER
JTHIS
IN
FACWEREEPIN
A
THEEXPONENT
C,D,E,
ALGORITHM
Ib
WE
USE
USED
FOR
A
WILLBE,
TABLEOF
SPEED,
JPUT
ov20ar’dple00PUELET
Mvoi00e0v0ees?
000365wee2n31’PUSH@p1000Q0ve315CALLPb#
FouTCs1SEE
veoeanMOVRI221,103,117,3707118
FCompJFCOMP
022035°Q00000de1e00CITIL)
QeoeooQuoles
CUEPELM200000Qvecal
002037°*
LUEL LT
202041°Qn1000vpoeeeQvevel
Qee370
Qovebeeve117
vocp4e’onl1000CITERE]
0020435
°@pvene002044°200000
IF
10
IN BUFFER
THE
NUMBER
NEGATIVE
NEXT
CHRACTER
IN CASE
IS
POSITION
NUMBER=Q
ZERO
46589
IS IHEN CONVERTED TU AN
TEN TO CALCULATE EACH DIGIT,
THE FAC
POWERS OF
TEN’S
1F
EXPONENT
NUMBER
NUMBER
IS
,LE,
RETURNS
COUNT
TUO
BIG
ONSTACK
OR100
IT
99999,94997
377,
@
SMALL
1S
TOO
OR1IN
IFF1IS RETURNED
A,
SO
SMALL
THE
Qv1517°*
vv2use’
2082n4s"*boloeePbB34e
LLEPT TQnoeReQv2671"
o4lLLTTTUL
woensev’
202051Dpi000UL ELYY
oo1000000315
@oense’Q00vena01673"
002055°200000deecde"
©0B2054"021000002055*201000wou3es
ULLETE]
JPOFOUTS46640POPPSW46660CALLFINMLTPYES,46680PUSHPSWRANGE
JMp!IN46700Fuut3JSEEIFNUMBER
CALLo1vieINO,DIVIDE
POPPSWJADDONE118NUMBER
46620
INO,
Pv2u34’
ov2use’
ev2nSe*dpvene©0e2057°ve0e00TELITM
'LELTY001000epoveRQu206e’0208000av_usSe*202065"
va2p64’veleveUITELYY46740
aveeT446760
TTERE]
ovpe3T"*
46720
FOUT9:
INRA
0o2nes"*
0R2066"vo1evoeP0036546780PUSHPSwW
80100040800CALLFoutce
202067°hpeweoLIRSS
ne2er4’
NUMBER
IT
ODD
BE
wILL
PARITY
}
46600
puleeo
ZERO
IF
SIGN
POINTER
THE RANGE 100000 obEy FAC ,LE, 999999 AND ROUND IT TO
COUNT OF HOW MANY TIMES WE MULTIPLY OR DIVIDE BY TEN
THE
WHAT
vven3e’002n34*
vu2n3s’
MINUS
1SAVE BUFFER POINTER
INEGATE NUMBER IF NEGATIVE
46340
Quaer4’
Qvaees*
A
JINCREMENT
46300ISINRANGE
MULTIPLYITBYTEN
ISNOWIN
NUMBER
TO
BY
RANGE
IT
TEN,
1S
TOO
BIG
EXPUNENT
,LE,
999999,4997
o
B
.
.
MATHPK
PUR
BA&IL
Fa
MCS
8080
23rAUGmb4
ZGUS
GATES/ALLEN/DAVIDOFF
V6308
voepto’aeavenwe2uel’
LUEIDV1000QBRs1s
vecare*
vv2ers*vpooveLTI
M
vaveaeQuaue7"’
weenr4a’we1e00avveT4
FLOATING
MACRO
47(113)
POUINTOQUTPUT
FOUTSSCALL
06309
27%AUGn75
PAGE
46820
46840
A0
40860
FAODH
Qoeari*
002100°
gu2101°
002102
Qv2105*
Q1000
UL ER )
va00veve1srz2°
vpouoeoeere’
209315
voloee
Q20000
2npeoee
21000
Quiviegor
vevvve002101’
INR
PRINTED
JMAKE
7
1IN
CALLWINT
46980CALLMOVFR
471000lutLIDEIF
LxB8,22400+6+8CO0E
Ae2
1000PLUELD)
2p1000Qvaedl
en2110*vnleee
@e0vee
479602
,4__+___,—4!060
Quaite
de211e*gpaveq2124
wo2104°
veeyys’
2v2114°
002115°val00020vasTe
ap0neeseacal
Qvosee
THE
SHOULD
ROUND
NUMBER
WILL
ALWAYS
CAUSE
INTEGERPARTIN
IN
IS
EXIT
WILLNEVER
NUMBER
MSB
I,E
THE
lN!EbER
PART
INTEGER
WILL
47100
BE
POSITIVE
WITH
BE
A
THE
HO
ZEROAND
BEZERO
TU
C,0,E
FAC
INFIXEDOR
POINTCOUNTFOR
PRINTED
JC =
1GETDIGIT COUNY
EXPUNENT
FLOATING
E
NOTATION
NOTATION
SSS
; SEEREP NUMBER SHBUESIBE PRINTED
Shalp 1
IN
E
NOTATIONT
JYES, IT f§ obTe of
47120
47140
iYES,
IT
IS
,GT,
999999
vv2les4’
vpevee202111°VeALTH
oea1e747180MOViB
ge212e’Pp1op0aeeTe47200MVlJSET
ve2ies’*Qo006Avavelva2124°*2e100020aLTs4724047260dpleeeavasal
voe2y2e*deloveQ00365
ee2127°opleee2eevel
47160
47280
200000avesie’vaveneQeel1e’Avdees47340
Qboeed47360
Qo1000@o0000Queese
Q1000Qves14
47360
JE
H
PSwW
JCALCULATE
LXI
delovn0uey 34’
282135°
PUP
PUSH
A
=
IF
i
DCR
473200p2131"ve2135*
FOUTe:
47300vo213e’
0v2136"
vve131*
vver4v*
go2141"
THE
DECIMAL
vel000
vee130"
S0
1SEYLCEISYA
Qo2125*
SINCE
NON=ZERO,
RANGE,
ARE
ONE
iSAVE
NUMBER
wover2e*
Quei21’
Q21000
NEAREST
TO
NON=ZERO,
Ay
AUDING
JGET
46960
NUMBER
A
AND
}
472¢0
.
PRINTING
BE46920
47040
an2106°@o2127°
HE wane anos sss
2116
INTO46900
47020
LLTTT
]
Jeeuvenboares*
Qalce
200000
18DIGITS
vele2s’
av2ere*
va2104°
ve2111"*
NUMBERALL
FROUND
46940
002075°
ve2a76°
IYES,
i
46880
13=2
ROUTINE
DECIMAL
FIXED
WE
POINT COUNT
POINT FLAG, THE
ARE
USING
NOTATION:
JGETBUFFER
THENUMBER
ADD
DIGITS
INXHRY
OF
ISTURE
FSEEIF
JPUTA
10
POINTER
FSAVE EXPONENT
THE
0,FOUTBL
FIXED
S
EXPONENT
POINT
ORIGINAL
FROM
FOR LATER
OFLARGESTPOWEROF
ITISTIMEPRINTA
DECIMAL
JINCREMENT
THE
@nooveQv1ese’Qoeevevv2130°291000aveses474¢2I1SAVEFLAGS
en100020034547422iSAVECHARACTER
POINT
BUFFER
IN
ZERO
EXPONENT
STACK
LOC
TO
IS
NOTATION
THE
TEN
DECIMAL
POINT
BUFFER
POINTER
IF
IT
IS
TIME
POINTER
.MATHPK
FOR
BASIC
MCS
8080
23=AUG=64
GATES/ALLEN/UAVIODOFF MACKO 47(113)
V6308
FLOATING POINT UUTPUT
26309 27=AUG=7S
ROUTINE
20032547442PUSH0JSAVEPOWER
OF
TEN
2859002145*221000QAvR31547460CALLMOVRFJGETNUMBER
IN
C,0,E
2860Q02144°200000QUic4L’002145¢2020000QL2136°@02146°
002147°¢0p10A0
Qnloee©0A34)
©0AVRG47480
47500POP
MVlH
ByJGET
I8 8POWER OF TEN PUINTER
NEXT DIGIT TO BE PRINTED
002150°20000020QLSTJADD ONE TO DIGIT
JSUBTRACT LU
002155*Quleee©VeRv4s022156*901000Q@172022157*20100090@e36002160°volevn000127002161°201000©eYV4SINX
002162°
P02163'¥p10A0
2010000VAL1T)
@0Re36MOV
Q02164*
002165¢
092166*
202167*
Vo2170*00lene
0plewe
201000
Vo100000117
0VQALSS
0LALSS
0v@322Q02171*
6va17e’
002173Povove
Q00020
0e1vee
QpRoee0e2151°
0L2144°
0Le31S
0QLERT4’002174¢00200l0v2170°
002175*
0ole0e
FOUT143
2210002Q00Pe001225’
002200°
Q02201*Qpdvve
@Rl0veobL2175°
0RYSSS
00220’
002205¢0plvee
Ao1000QveO34l
QLB16V
002204*2010000LAV4S
002205*
002206*001000
00leReQLAsQ1
0ROL1S
©0e2212*
we2211'
002212!
002215*0o0eer
Qeovee
vRlove
Qp10en0c213e’
20W2171°
VROLRS
0vos1e
002214*00000e©v2e3e'
MOV
47600
INX
MOV
p
s88
MOY
ouT1e
000O315
£
i
000002V@221’V010000RQBVSS
022217°*Qpleve@avalTe
0v2221"'2000000QBALLD
201000Q@31
Qp000ve
VPRVERQL2216"
0Qvec14”*
8080
23=AUG=64
FOuT11:
JPOINTBEGINNING
OFPOWEROFTEN
TO
AGAIN
WASN’T,
HJINCREMENT
IF
OFPOWEROFTEN
ADD
KRESULT
POWER
POINTER
C,0,E
IN
OF
OF
TO
TEN
NEXT
JGETPOWER
JGET
7PUTBUFFER POINTER
CHARACTER IN BUFFER
INXFINCREMENT
TEN
PUINTER
POP
OCRJGET
IWAS
BUFFER
COUNTERS
THAT THE
WAS
POSITIVE
BACK
POWER
IN
OF
TEN
FAC
POP
MOV
IN
(DE)
PUINTER
OFF STACK
LAST UIGIT?
700 MORE IF NOT
]
FouTie
ISUV?RE&S
DOCX
THE
MOVA,M
JzFOUT11
CPI
GATES/ALLEN/DAVIDOFF
D638
Po2225*0A1V0DQV2226*V0A0LEBLRVSE
V022271B010P0VLV3NG
002232*00BVBR201ese’
Q02231*0pRREdQAwv2223*
vve232'
002235
002234*0p10ee
Ppleoe@V0361
oveadsie
QpRER@
000WREw271’
obRc3e’
002235'
MO
71T
JSEE IF DECIMAL POINT GUES
11T DOES, WE HAVE NU ZEROS
©BR3Te
FLOATING
MACRO
47(113)
POINT
OUTPUT
TRAILING
ZEROS
160 BACK
JGEY
bl Ad
JSUPPRESS
MCS
JSUBTRACT
ISAVE
OCR
Ji
QRR3Te
Vo2222"
BAblL
BYTE
AFTER LAST DIGIT
TO SUPPRESS
Qv2e10*
0d2223°
002224°*
ron
NEXT
MO
FADDA
JINZ
60
201000
JPOINT TO
JSUBTRACT
JSUBTRACT
o
0wL@30e
002215*
082220*
INR
MOV
suB
471580
0voc4s
002176°202177*
002207°* vol00e
475402
»
47560
Qua137
o
475220v@226
00Q17S
»
©VALVLR4021000
o
Q01000
POINTER
>
Q02151022153*
TM
021000
P02154* ep1oed
DECIMAL
263109
IT
1IGNORE
POINT
27=AUG=7S
IF
PAGE
WE
TO
LAST
CHARACTER
TRAILING ZEKOS
HAVE
AN
INTEGER
.
.
13«4
ROUTINE
48182CPILJIGNORE
48200cN2INXHRTJIF
JzPSW
FouTL7JGET DECIMAL EXPONENT
JRETURN IF NUMBER WAS
48220
46240
FOUT12:
48260
002236°0010000QVOLLL0L2237°vaowReoeelas002240"201000©VLRV4S002241°*Q0100eQURLEL022242'200000@0BES3002243"Q010M0002244°
002245*
022246*2000B0Ye
Bu0wVe
@01VGE002247'@0RVRDVLRSS©0o2250"20lwoReVWoLST©02251°*Qulove@veLT4a8a2e
V0e25e’0010ve00RLRL46440
46460
002255°00e0RR©0OLSTQ02254*
092255221000
@n1eenQeaVRe
QRA3R6002256°Q00002veoAVie@022S57*
002260°Qda100@
020008wu0Bs2e
nLB22S4’002261"200000Queed4”*Q02262*A21v0P00QLASR6002265*200000Q0RLTe
IFLOATKAG
48280Vi
48300InX
POINI
JPUT48340MYlMoReh
0eB36E48300JPFuuTi4
pu2e5e’
©LRe34*
VBRLEL48380MylMyat
45400CMA
48480
48500
NOTATION
H
4320
IN
THE
SIGN
OF
THE
NO
DECIMAL
DOP,
POINT
MOVE
==PUTAN
JPUTAN"E"
JPUTSIGN
"E"IN
INTHE
OF
iAPLUS
IF
PAMINUS
INEGATE
IF
UIGIT
EXPONENT
FINITIALIZE
TEN®S
FOUT1SJO0
ALI"are12JAOD
48560IPUTQ0ALVAS48580
ALLR16Y48600
P010R2LOLV4S48620
Qulvve
0010000eB167
20QV4S48640
48660
002271°*
@0e272*9nlvee
21000ved161
QvRs4l48680
48700
002273Balevdnra3ty48720
Q02274*
Qu2_275"@01000
2000ed020ALd1
Q0216448780
002276°
vve271*000000
2plevdQVRe24
0@vRLel002300*0pLPRd
FOUT15:
CALCuLAI: THE TWO
MVI
B8,"0"=1
JNC021040
FORMAT
BUFFER
IN
BUFFER
NEGATIVE
48540Q010A9
POINT
BUFFER
EXPONENT
48520Q022617°*
902270*
FIXED
ZEROS
POSITION
POSITIVE
J INCREMENT DIGIT
JSUBTRACT TEN
002266*
TRAILING
NEXT
EXPONENT
8
1eQ02265*
TO
IN
THE
EXPONENT
INR
SulQ02264*
BEFORE
POINTER
INR
FOUTia43
THE
EXPONENT
IN
THE
IT
AGAIN
BACK
IN
DIGIT
COUNT
IFRESULT
TENANDCONVERT
WAS
POSITIVE
OFEXPONENT
TOASCII
INBUFFEK
BUFFER
IN
uv
FOUT193
FOUT173:
8
INX
MOV
INXA
MOV
PUP' C
JSEE
FOUTCB:
MOVRI
JPUTTEN'’S
FWHENWE
FAC
TO
HERE,
DIGIY IN
POINTER
A
I8
,LE,
ZERO
BUFFER
iPUT ZERO AT END OF BUFFER
JEXIT WITH (HL) POINTING TO
JALL
IF
DIGIYT
JUMP
JPUT ONE*S
FINCREMENT
RET
48760
.
13=3
©02142*
022152* 221000
.
5
PAGE
2858MITIOXI>ICIPIMIP>E
Fa
STRING
DONE
999999,499
224,164,243,367
jCOMPARE
NUMBER
WITH
CONSTANT
vvBseT
002301"220000Q0AC4S
002302'An1avdQLVOSLS
002305200200QRO1817°*
20
FLCOMP
.MATHPK
Fa
'OR
BASIL
AC
MCS
8080
23=AUG=64
GATES/ALLEN/DAVIDOFF
26108
2964
2965P0e324*0000080202c60"*20235’001000CLLETEY48820
2966Ave3ne’Q01000Puosae48840
aser
2968veesar’Qpo0eRvo2310"apeverQuaven’
Qu2ses’w0231’@a1vveLLTELHY46860
0v231e’Qp0o0w0e20002048920
2969
297¢
MACRO
FLOATING
47(113)
POINT
002315°
Apeneoveaude48940
002314°2000022Qveuee48960
00000Qeacov48980
490200
faesy1e*apeevepeeedo49029
CLEEINAvoouveeveacoe49042
20232020000049060
eo2321"
ne2s2e’
op2325*
0v2324*
Po232s*200000Ll LT}
Qvee2e2p2vedaeeovar49100
Queone
LToeouee49120
LT ERT]49140
2pe0v0Rpoovas49169
2000020000049180
weasze’
weaszar*
Q00000
vbR14449200
L4laeouee49220
2p00e0Pyl49240
P@233e"QeoneeveoLle49260
vves3e*
002335*Ap0v0001Ty49280
0e2334"20000020000049300
002335’opoeveeLTI49320
Qv2336*
f02337°*2porR020802049340
Qpovee20RvR0
PAGE
"
POP
PCHL
JCUNSTANTS
FHALF3:
13=5
1GET
FOUT9
4]
FOR
RETURN
ADDRESS
INUMBERTOOBIG,
INUMBER0K,RETURN
OFF
STACK
DIVIDE
BY
TEN
FOUT
i1/
FTHLIS
CONSTANT
IS
ALSO
USED
BY
SQR,
SIN,
COS
TEN TABLE
100000
FouTaL:
490802
w233’
27=AUG=T7S
ROUTINE
JrPO
48900
02z’
06309
OUTPUT
10000
1000
493500aee>
49380<
LENGTH=2,
JOUTPUT
49400
THE
VALUE
494201INAyB
49440PALLueuxsr:na
49460JTHEORIGINAL
49500JTHEFORMAT
49520
49540JTHEBITS
IN
ARE
THE
FAC
ACCORDING
TO
THE
FOURMAT
SPECIFICATIONS
ALTERED
CONTENTS
OF
THE
FACIS
BAND
LOST
494860
SPECIFIED
A
MEAN
THE
IN
A,
C
AS
FOLLOWS:
FOLLOWING:
49560@ MEANS FREE FORMAT OUTPUT, I,E,
TRAILING ZEROS ARE SUPPRESSED, A49580POINT49600JUSTIFIED IN ITS FIELD, B AND C ARE IGNORED
{1 MEANS FIXED FURMAT CQUTPUT, I,E, THE OYNER
FORMATTING INFORMATION, THE NuNaER I8 RIGHTBITS OF A
JUSTIFIED
TRAILINGISUSED
PARTOF
49620
49640
49660
.
.
’
IS
OF
496801
49700OF
NOTATION
MEANS
ACCOROING
ZEROS
GROUP
THREE
ARE
THE
NOT
SEPARATE
PRINT
MEANS49740
497602MEANSFILL
MEANSOUTPUT
49780MEANSPRINT
THE
IN
THE
THE
THE
WITH
OF
A
THIS
INTEGER
THE
BYCOMMAS
WITHCOMMAS
SPACES
NUMBER
SIGN
BITS OF
PRINTED
MAGNITULE,
GROUPS
NUMBER
LEADING
THE
THE
ITS
SUPPRESSED,
OIGITS
ANDDOUN'T49720
TO
THE OTHER
NUMBER IS
IN
A
THE
FIELD
FLOATING
POSITIVE
NUMBER
FOR
THE
WITH
DOLLAR
NUMBER
A MUST BE ZERO,
IN FIXED OR PLOATING
AS
IS
PRINT
USING,
NUMBER
INTO
ASTERISKS
SIGN
A
LEFT
ARE CHECKED FUR
IN ITS FIELD,
("x")
("$")
PLUS
GROUPS
SIGN
("e")
.
.
.
PTURSNCIEIND SN
LY Bers pak some
MA THFK
Fa
rOfl
BA)IL
MCS
89289
23=AUG=b4
GATES/ALLEN/DAVIDOFF
06108
MACRO
FLOATING
3017498003018
3019
302049820!
IBIT
498402iBIT
49869
498891BIT
3pey
47(113)
POINT
QUTPUT
26309
27=AUGn7S
PAGE
INSTEADOF21PRINTTHESIGN
1UNUSEDPRINTTHENUMBER
@
MEANS
§
MEANS
i
IIFTHIS
49900@MEANS
49920iCANNOT
3022
3023
30244994023025499603026jB
499803027THE
302850000
S500enTHE
3029500403030502608
303150080FFOUT
3032Se100303350120
(C
A
BIT
BE
OF
NUT
JENTRY
303450140
50160FOUT:XRA
3u3s50180PUFOUT3CALL
30375200
JENTRY
THE
IN
DUNUT
ASSUMES
PLACES
IN
THE
IN
IN
DECIMAL
INCLUDE
AFTERTHE
FLOATINGPOINTNOTATION
SPECIFICATION
FIXED
POINT
FLELD
THE
24
4
TO
THE
YO
FOR
THE
EXPONENT
IF
THEFACINTHEFACUSINGTHEFORMAYSPECIFICATIONS
ISAVE
FREE
THEFURMATSPECIFICATION
7SET
A
SPACE
THE
LOAJSEE
MOJSAVE
FLAGS
FOR
FIELD
IF
WHAT
IN
KIND
©
IS
ON
NUMBERS
A,
A
BAND
ANDPUT
INTHEBUFFER
APLUSSIGN
SPECIFICATIONS
PLUS
A
OQUTPUT
IN
IN
GET
C
SIGN
VALUE
WE
HAVE
IT
THESIGN
S¢380JPUT
JGETTHE
THEBUFFER
VALTYP
SU460
FORMATED
NUMBERS
A
OF
JGET
1
FREE
LENGTH
POSITIVE
DONTT
00, PUT
iSAVE
F1F
TO
POSITIVE
58340
S5¢300
S0440
POINT
BIT
FORMAT
FORMAT
JSAVE
Sedew
1E16
POINT
DECIMAL
PRINT
S04ve
NOTATION"
,GE,
DECIMAL
THE
PRINTJCHECK
POINTER
BUFFER
WE
AND
HAVE
PUT
OF
A
A
THE
FAC
POINTER
BACK
NEGATIVE
MINUS
S1GN
BACK
IN
NUMBER,
IN
THE
(HL)
NEGATE
IT
BUFFER
JSAVE THE BUFFEKR POINTER
INEGATE THE NUMBER
Sv4s@
50509
JGET
Fouta:
THE
JPOINT
50540
50560
0,A
50580
50600
VALTYP
50620
50640
Je
FOUTFX
ITFOR
JPUTTHEFREE
JGETTHE}SINCE
7SU
JTHE
B
8iWECAN
MviM,"o"JPUTA
S4749JzFOUTZRS07602CPlSe789NCS0809;nfiut
50829Lxl
TO
PRINT
NUMBERS
IN
)
FREE
1S
JDECIDE
JwE
PRINT
8,SCODE
AN
INTEGER
IN
JSET
}
TO
BACK
NEXT
CHARACTER
GOES
SPECIFICATION
LATER
FORMAT
VALTYP,
32768
IS
OUR
VNEG
IS
NOT
COULD
INT
AND
NOTACCURATE
WANTSFIXED
BIT
IN
HAVE
32768
FORMATED
THE
CARRY
CHANGEU
IS
THIS
SNG,
OQUTPUT
FORMAT
IGNORE
ZERU
IN
ZERO,
4FOUFRY
THE
FORMAT
MAN
IHEREPOP50729
POINTER
WHERE
THESutee
TO
BUFFER
TO
JGETJSAVE50680
Se842
THE
OF
TOJTHEY
JTHEY
Sv660
OF
RIGHT
TO
FOUIN
"E
IGNORED,
(DECIMAL)
ANI
50529
LEFT
THE
POSITIONS
JZ
Myl
Fuuti:
I,E,
IS
NUMBER
POINT)
FIELD
56260
50300
503292
6)
NOTATION,
FIELD
THE
(BIT
NOTATION,
IS
DECIMAL
50240
50280
PUINT
NUMBER
POINT)
THE
,LE,
PUSH
S5¢02ew
IN
NUMBER
COMMA
THE
PLACES
B+C
THE
FIXED
HUW BIG
THE
OF
NUMBER
INCLUDE
OF
INCLUDES
C
ON,
THE
PRINTEQ
NUMBER
LT
IS
TELL
NUMBER
DOES
AND
SPACE
PRINT
AND C
(B
.
13wb
ROUTINE
IT
WHAT
HAVE
A
THEOLDTHEBUFFERINCASE
FINISH
IS,
KIND
SNG
OR
FREEFORMAY
THEDECIMAL
ZERO
B
AND
C
ITUP
AVALUEWE
POINTCOUNTAND
OF
THE
NUMBER
HAVE
DBL
COMMA
COUNTMATHPK
Fq
FOR
MAC
BASIC
MCS
8082
23=AUG=64
GATES/ALLEN/UDAVIUUFF
0b3UB
FLOATING
MACRO
47(113)
POINT
OUTPUT
26309
27=AUG=75S
PAGE
13=7
ROUTINE
3070
307150860
EULLY3ereSe9ee3073
307450920
50940
CALL
3075
307650969
50980B AND CONDITION
HyFBUFFR+1CODES IF wE HAVE A TRAILING
JGET POINTER TO THE SIGN
3017S1000MOV8JSAVE
30785102202MVl-JDEFAULT
51049LDAJGET
51060
51080
51109
51120MOV
AN]
Jz
MOV}
51140
51160CHP
MV]
FOUTZSt
51180
JCONVERT THE INTEGER TO DECIMAL
PFALL INTO FOUTZS AND ZERO SUPPRESS
JSET
LXI
UP
THE
AND
DIGITS IN FBUFFR
ZERO SUPPRESS 1F
51240
IN
FORMAT
SPECS
TU
FILL,
TO
SIGN
SEE
SAVE
A
SPACE
IFWEMHAVE
WASASPACE
TO
IT
DON'T
DO, SEE
IF
THE
SIGN
JSET THE SIGN TU AN ASTERISK
18
MOV
L
HAS
THE
SIGN,
FJFILLINTHE
JGETTHENEXT
JSINCE
51280
51300
C
ZERO
THERE
THE
OR
FILL
THE
CHARACTER
ARE
NO
Jz
JYES,
51340
51360S4
513680L L
JARE WE AT
51400
INO,
H
I
JYES,
IT WAS
A SPACE
CHARACTER
IN
THE BUFFER
"CHRGET"
H"/"MOV
IS
A, M"
IT
}154=",
"
DO WE
JYES, SUPPRESS
>
S1420
SUPPRESS
IF
SIGN
SPACES,
} EGUIVALENT TO “INX
100 WE HAVE A ZERO?
51320
THING
B
JZERQ FLAG IS SET IF IT WAS
ISET FILL CHARACTER TO AN ASTERISK
CHRG
51260
SIGN
FILL CHARACTER
ASTERISK
JWE
JWE
MOV
FOTZS81:
THE
THE
NECESSARY
49
JINZ
51200
51220
FouTCl
JZERO SUPPRESS
JASTERISK FILL
HAVE
1T
A
COMMA?
THE DECIMAL POINT?
GUESS
BACK
NOT
UP
AND
PUT
A
ZERO
BEFORE
1Y
51440
S1460
FOTZS2:
MOVJGET
51480ANT§
51500Jz51520
51540ocx
MVIFOTZ83:Moy
FOFXxIStDCx
FORMAT
UULLAR
JWE
H
THE
DON'T
JWE HAVE
1 SIGN
JO0
WE
SPECS
TOCHECK
ANDPUT
FOR
A
FLOATING
SIGN
HAVE
ONE,
HAVE
ONE
BACK
A
UP
TRAILING
IN
THE
DOLLAR
SIGN?
ANI
RNZ
JIYES,
INO,
RETURNJ}
BACK
JPEUPLE
MOV
RET
FOUINI:
JHERETOINITIALLY
JSIGNOFA
SET
POSITIVE
5
MATHPK
Fa
PUR BASIL MCS 8087
AC
23=AUG=64
JPUTIN
JALLDONE
UP
THE
THE
TEMP3JSAVE
LxlHyFBUFFR+1JGETMVIW,JPUTIN
TALLDONE
DBLIN FREE
JHERE
GATES/ALLEN/UAVIDOFF MACRO 47(113)
Q6108
FLOATING POINT OUTPUT
TO
Y
PRle
A
THE
AND
HERE
NON=ZERO
PUT
WHO
ABOUT M
THE
FLAG
SIGN
WANTA"DCX
PUTINA
IS
BACK
SET
IN
H"
AND
SIGN
FORMAT
STA
PUSH
NOTE
UNE
SPECS
AND
SPACE
FOR
THE
NUMBER
RET
FOUFRV:
OON'T CARE
1
M,8
UP
JUMP
SNG
OR
063109 27=AUG=75
ROUTINE
THE
A
ISAVE
PAGE
FORMAT
POINTER
A
SPECIFICATION
INTO
FBUFFR
SPACE
THE
FORMAT
BUFFER
POINTER
:
3
13-8
PATRICIA HAITI
LAY Bag eees Pace at
312351920Ji
312451949JHERE
312651980
3125
3127
3128
3129
3130
3131
3132
3133
51960MyvI
52009
52020JHERE
MyI
52040
xXW0
FOUFRS:
5e062
52080
5¢140
313552168
TO
TO
CALL
SET
UP
0,20
1000,001
SET
0,6
UP
THEFLAG
THEFLAG
FOUUTNY
LxI
52100
52129
3134
FUUFRS
HAVE
TOPRINT
i"LxI
!}
ARE
JC =
§SET
IN
COUNT
PL]INR0JCHECK
52220CmpP0INRA
5
52380
52400
52420
52440
FOFRS2:PUSH
CaLL
JHERE
OLx
POP
JIT
52460
52480ov
c91
52529CP1
S5250@
Jz
IF
IS
THE
ARE
IT
oJHAVE
AND
FOFRS27IT WAS,
INXHRTiYES,
PoWJGET
52589JzFOUTONJWE
52660
ARE
AND
EXPONENTB,AJSAVEVALTYPFGETTHE
}A
Ser4e
52769MOV
JZJGET THE
JWE HAVE
Mvl
Xw01800,001
MvIM, "E"
52840INXH
52860
52882JPUT
MVISe9ue
52920
52940JP
Mvi
CMA52960INR
FOUCEE:
IN
ThE SIGN
M, "e"
FUUCE1L
My"at
THE
OK
IS
ZERO
NOTATION
LATER
DECIMAL
EXPONENT
DIGITS
CHARACTER
WAS
ZERO
IF
ALL
THE
"D"
FRACTIONAL
POINT
DIGITS?
ALSO
BACK
WE
ARE
IN
FIXED
EXPONENT
THE
POINT
IN
THE
NOTATION
BUFFER
BUFFER
A
Ok
THE
EXPONENT
VALTYP
EXPONENT
TO PRINT
UVER
JPUT
sIGV
EXPUNEN
iA PLuS
TO
DEIDE
IF
WE
PRINT
AN
"g"
"D"
JGET THE "O"
¢
NOTATION
10%0D=}
EXPONENT
ORIGINAL
DECIMAL
EXPONENT
IN
JTHE
POINT
E
NOTATION
POINT
TO
IT
THE
CPI
52820
IF
"E"LOA
Sesee
FIXED
Dw)
IN AND PUTMOV
S5c764
IN
POINT
SUPPRESSED
DONE
Se729
FOFLDN:
IS
EXPONENT
SEE
IGNORE
52700
52680
ADD
IN
CONTINUE SUPPRESSING
WE
THE
JFALL
THE
IT IS ,6T,
THE BUFFER PUINTER BACK
POP
PUT
.1
7SAVE THE EXPONENT FOR
JCONVERT THE NUMBER TO
TRAILING ZEROS
JMOVE BACK TO THE LAST
CnZ
52620
DECIMAL
PRINTED
BG
FIXED
USING
NOTATION:
JGET
52602
TOO
BE
WE
IF
a M
"o
TO
SHOULD
1S
FOR
AND
NOTATION
1}
JGET
P:n
Fou
&uPPREbS
PART
ZERO
IT IS ,LT,
IT
OK
TO
DECIMAL POINT COUNT
FIXED POINT FLAG, THE
52562
JHERE
E
NUMBER
52549
5¢640
COUNT
FORMAT
JSET
JSET
JE
H
fO
FOR
IF
$1T 1S 100 BIG,
52320
S5e360
FORMAT
THE DIGIT
INTEGER
COUNT
COUNT
FIT SHOULD,
Mav
MV
OCR
THE
COMMA
COMMA
52200FOFRS1:
SET
FREE
18 ® DECIMAL POINT COUNT
52180
52340
IN
B" OVER THE NEXT TWO BYTES
JSEE
JINC
DBL
INORMALIZE THE FAC SO ALL SIGNIFICANT DIGITS
B,2#%400+3$COVE
7
52280
52300
SNG
A
TO PRINT A SNG IN FREE
JSET THE DIGIT COUNT
0
5e260
A
JWE HAVE A DBL,
ALD
52240
.
JWE
IF
OF
BACK
AN "E"
THE
NEXT
EXPONENT
IN
TWO
BYTES
BUFFER
POSITIVE
7A MINUS IF NEGATIVE
INEGATE EXPONENT
y.
MATHPK
FOR
BASIC
MCS
808¢
GLATES/ALLEN/UAVIDOFF
FLOATINGMACRO 47(113)
POINT UUTPUT
552980
53000FOUCEL:
317853020FOUCE2:
Fa
M
232AUG=b4
317s
35179
B6108
JCALCULATE
53040
DIGIT
EXPONENT
8,"0"=1FINITIALIZE
INRB12
FOUCERJINCREMENT DIGIT
JSUBTRACT TEN
700 IT AGAIN IF RESULT
530803182ADI
551003183
3184
3185JPUT
53120INX
53140MOV
LUARS ¥
THE
EXPONENT
IN
JADLD BACK
THE
JPUT
INX
H
JWHENWE
JPUTONE*S
FINCREMENT
FOUTON:Myl
}
XCHG
Lxl
TO
JUSING
PUT
THE
MOV
RNZ
53480MOV
55500RET
A
POSSIBLE
COMMA
UIGIT
JUMP
POSITIVE
CONVERT
TO ASCII
IN
THE
END
POINTER
(DE)
FOR
IN
IS
BUFFER
ZER
TO
TO
OF
THE
FINISH UP
THE
TO
IN
C,
PRINTING
NUMBER
END
OF
THE
NUMBER
FFXFLV
POINTER
COUNT
A
BUFFER
HERE
ZERO
AT
DONE
COMMA
EXPUNENT
HERE,
FORMAT
THEBEGINNING
ANDZERO
C
IF
WE
ARE
NOT
SRECIFICATION
ISAVE
A
TEMP3JIGETTHE
109JLOOK
JWEARE
CrAIWEAREN'T,
JALLDONE
AND
TO
DIGIT
ZERO
A
OF
POINTER,
THE
IN
JGET
CrA
LDA
53440
53460A
JALL
JHERE
FOUTCC:
Foulcc:
FREE
7
H,FBUFFR+1
RET
53360
53380
AJPUT
JSAVE
55289
S33ve
53320
53340
53400
53420
TEN'S
Inx
53220
COUNT
WAS
N
MOV
535260
TEN®S DIGIT
IN TEN ANU
BUFFER
FOUTZR:
55180
55249
TWO
.
13«9
MVl53060
53160
THE
PAGE
sul
JNC3180
3181
53200
26309 27=AUGe7S
ROUTINE
POSSIBLE
FORMAT
AT
THE
COMMA
COUNT
SPECS
COMMA
BIT
COMMAS, JUST
USING
ZERO
THE
RETURN
COMMA
COUNT
53520
53540
53560
HERE
FOUTFX3
Tu
PRINT
A
NUMBER
IN
1
53580
55600
FIXED
JCHECK
:U
FOUF XV
lnEnt
TO FRINT
JC
TO
x1
PRINT
THE
JWEHAVE
ANINTEGER
ANINTEGER
KIND
FORMAT
A
OF
OR
A
IN FIXED FORMAT
B,6%400+3+SCO0E
IN
FIXED
JSET
1+
COMMA
COUNT
CALLFulccJCHECK
Y1GETTHE
IF
MOVA0)SEE
Sul]}
cpFUTZERIWE
PUSH0
TO
WE
COUNT
TO 3
DON'THAVE
MATHPK
F4
#UN
AC
5229
3230
BASIL
MCS 8080
23=AUG=64
TOISTOOPUTINZEROS,THEY
CONVERTEDTOSPACESOR
THE
FIELD
CALLFouTClJCONVERTTHE
POP0JGETFIELD
ORABcz100WEFUFXISJWEDUN'T,
GATES/ALLEN/DAVIDOFF MACRO 47(113)
26308
FLOATING POINT QUTPUT
THE
}WE
?"DCX
?}AND
PAGE
NEED
54080
941990
A
LENGTHS
54140
JHERE
FOUTTSS
54160
54180
54200
54220
54240
54260
rev
WE
JFALL
54120
FFXIX1t
TO
t1~15H
UP
A
FIXED
PUSH
TO
6
AND
USE
THE
DECIMAL
COMMAS
SPACES
BECAUSE
LATER
ASTERISKS
AGAIN
BE
BY
FOUTZS
DIGITS
BACK
POINT?
ON
WHAT
WILL
OVER
ABOUT
LATER
UP
EXTRA
DECIMAL
LENGTHS
CARE
COVER
FLOATING
BIG
NUMBER
H",
HERE
IT,
B,WE
WEWILL
WAS
IN
AT
ONLY
DO
A=@
FOFxIs,
WANT
A
B,
THE
"MVI
M,0"
THE CONDITION CODES
5
3
DO
HAVE
IN
AND
FORMAT
1SAVE
DECIMAL
PLACES,
FILL
THEM
UP
ZEROS
WITH
J}
PRINT
BACKSPACE
DON'T
IN
NOTATION
13«10
J1F
54060
32313232
od
86309 27=AUGw7S
ROUTINE
54040
TO
TO
HAVE
ISAVE
IT
LENGTHS
WE
00,
HAVE
POINT
POINT
FIELD
JFOFX1IS PRESERVES
u
.
PRINT
FIELD
THE
J
IF
WE
DBL
FORMAT=FIXED
DECIMAL
POP
VALUE
SPECS
SNG
JCHECK IF WE HAVE
7 POINT NOTATION
FFXIFL
!hERE
FORMAT
WHAT
JGET
FINISH
UP
THE
NUMBER
NUMBEK
BUFFER
CALL
POPFUUTZS
HJzFFXIxiMOVM, 8IWE
INXHFINCREMENY
MylM0JPUT
POINTER
JZERKO SUPPRESS THE NUMBER
J1GET THE BUFFER POINTER BACK
JCHECK
IF
DO,
A
WE
PUT
HAVE
THE
THE
ZERO
A
TRAILING
SIGN
IN
BUFFER
AT
THE
THE
SIGN
BUFFER
POINTER
END
OF
THE
NUMBER
54300
54320JNENE To CHECK 18 4 FIXED FORATFLXED POINT AORBEN OVERFLOGED iTS
54340JO
54360JTHIS
54280
JHERE
TO
CHECK
IF
JFIELD LENGTH
8
THE
|45 é
B
IN
A
THE
ASSUMES
FIXED
FORMAT
FURMAT=FIXED
POINT
NUMBER
OVERFLOWED
THE
DECIMAL
POINT
IS
IN
H,FBUFFRINXJGETHJINCREMENTYJGET THE LOCATION OFTHE DECIMAL POINT
susLJFIGURE54460sus0118SPACE
54489RZ54500MOV
FOUBEL:
FOUBES:
LUA
TEMPR2
A POINTER TO THE BEGINNING
INO,
54520
7
54540
J}
POINTER
OUT
THIS
JYES,
AyM
KETURNFROM
MUSTHAVE
AND
THE
FIELD
BUFFER,
BUFFER
MUST
GET
S4660Jz546892DCxHITMOVE
PUSHHJSAVE
54780JHERE
JTHISWE SEt
OCCURSS548u0iASIGN54820]ADOLLAR
7
THE
POINTER
CHARACTER
THE
WITH
BE
THE
JIF 1T IS A SPACE OR
} IGNORE IT AND MAKE
} NO ILL EFFECTS
WaW
MUCH
SPACE
SINCE
SMALL
NEXT
TAKING
TO
TAKE?
FOUT
WE
CHECKING FROUM THE BEGINNING OF
THE
54720
TOO
CHARACTER
ARE
DONE,THE
54640
WE
AREi
S47v0
NEXT
OF
}
94620
THE
AMOUNT545892
cPl
Jz
CP1
TO
MUCH
RIGHT
WE
WE
HOW
THE54560
S4600
.
TEMP2
54440
54389
54409
54422
ITS
SPECIFICATION
THE LOCATION OF
STARTED
THE BUFFER
ENOUGH
TO
CHARACTER
FIT
IN
AN ASTERISK, WE CAN
THE FIELD SHORTER WITH
BACK
ONE
TO
READ
THE
CHRGET
POINTER
94740
54760
54842
i
54860
i
IF
IF
WE
WE
IGNORE THE LEADING
THE FOLLUWING: (IN
"="
OR
AZeRO
ADECIMAL
549290JUR
ELSE
54949JOVER THE CHARACTER FOLLOWING
JOECIMAL POINT EXPLICITLY,
FOUBE2:
DECIMALPOINT,
ADECIMALPOINT
JUST"INX
(MANDATORY)
YOU
54980
A
(MANDATORY)
POINT
i
i1F
ANOTHER
A
ZERO BEFURE
ORDER)
(OPTIONAL)
(OPTIONAL)
54880
SEE
"e%)
SIGN
54900
54960
DIGIT
LEADING
FOUTZS
WOULD
(MANDATORY)
ZERO,
HAVE
1T
MUST
BE
SUPPRESSED
THE
I7,
ZERO,
LAST
ONE
SO
AND
55040LxI8,FUUBER
CAN
JGETTHEADDRESSwE
55060PUSH]7ARELOOKINGFOR
CHECK
CHARACTER
7ZEROFLAGISSET,
iZERUFLAGISNOT
WE
BEFORE
WE
NOT
PSW
55000
JPUT
THE
THE
PUSH
55220
X
.
CAN
SEE
(EITHER
ON
THE
FUR
THE
H
THE
STACK,
FIRSTTIME
IFSEE
THE
THE
ZERO
SET,
GO
TO
WE
A
CHARACTER
b
EHAINPK
FOR
BASIC
MCS
8080
23=AUG=b4
GATES/ALLEN/UAVIDOFF
Yb08
FLOATING
MACRO
POINT
A63¢9
47(113)
UUTPUT
3282
328355100CP1
528455120RZ
55140CPI
551602
551892RZ
55080
27=AUGTS
PAGE
13=1)
ROUTINE
Nt
CHARACTER
NEXT
THE
JGET
CHRGET
JSAVE IT AND GET TYHE NEXT CHARACTER IF IT IS
7 A MINUS SIGN, A PLUS SIGN OR A DOLLAR SIGN
ngn
55200
55220
55240
55260
B817ISN'T,
"o118IT
FOUBE4INO,
L]
55260
55340
55320
JGET
FOUBE4
FOUBE3:
55460
55480
55500
555¢0
CANJI|
JWE
1009,0011YLl
OCxL)MOMeAJANDUNEJTHEFIRSTPOPPSWJGET
55600
55620JzFOUBE3JPUT
JMP8
FOUBE3
55660
55680
55700
1F
A
POSSIBLE
CHARACTER
EXITS
rnt
WILL
BE
H
IS
IN
POUINT
ONE
WE
TO
THE
THE STACK
ANOTHER
CAN'T
THE
CHARACTER
SHORTEN
DECIMAL
NEXT
CHARACTER
2
THE
FIELD
POINT
BYTES
BACK
CHARACTER
SIGN,
THE
IT
BACK
ONE
TOOBIGFOR
THE
IN
HAVE
TO
WORRY
TWICE BECAUSE
SECOND
UFF
THE
ABOUT
THE POINTER
OCCURANCE,
THE
STACK
BUFFER
IF
IT
IS
NOT
THE
FIELD
NUMBER
POINTEK
NUMBER
MINUS
IN
JALLDONE
WAS
THE
CHARACTERS
THE
THE
JPUT
7
DON'T
THE
THE BUFFER PUINTER OFF THE STACK
IF THE FIELD IS NOW SMALL ENOUGH
JLEAVE
%"
TO
LAST
)}
WE
BUFFER
CHARACTER
1
JGET
My
OF
CHARACTER
BACK
THE
JGET
55760
55780
55800
55820
RID
DIGIT,
OVER
POINTING
JGET
JSEE
NUMBER
Fuuuea
55740
DULLAR
BEING
FOUBE4:?
55720
A
B"
THE
TPUT
55580
55640
NOT
JPOINT
FOR
ADDRESS OFF
GET
THE ZERD, WE PUT THE CHARACTERS ON THE STACK
ONE PUSITION IN FRONT OF WHERE THEY ORIGINALLY
MAXIMUM NUMBER OF STACK LEVELS THIS USES IS
LAST ENTRY FLAG, ONE FOR A POSSIBLE SIGN,
55540
55560
FOUT
THE
NOT
NEXT
THE
IS
"
JWHEN
GET
ZERO?
CAN
JITX
JIF WE CAN GET RID OF
JBACK INTO THE BUFFER
JWERE,
NOTE THAT THE
JTHREE == ONE FOR THE
55440
A
WE
JSKIP OVER THE DECIMAL POINT
A
PERCENT
TOO
OFF
IN
TO
THE
THE
THE
STACK
BUFFER
ALONE
BEGINNING OF
THE
1
LARGE
SIGN
FOR
==RETURN
FIXEDFOKMAT
THE
TO
INDICATE
THE
FIELD
FROM
NUMBER
FOUT
55840
55860
55880
TO
FOUFXV3
PRINT
A
SNG
OR
FFXFLY
55940FFXSFX
TO PRINT
2
55960
55980
56000
IHERE
56100
FFXSUO3
FIXED
JPRINY
A
DBL
IN
J1GET
DCOMPDJWE
JSET
JC =D
@
FFXSOCJIFTHE
10
kaul
IN
FREE
FLOATING NOTATION FLAG
NUMBER
POINTER
CAN'T
PUINT
D,16%400+3CODE
FORMAT
JSET
XRA
OR
THE
IN
JWE HAVE A SNG
FIXED FORMAT==FIXED
0, FFXOXM
56060
56080
IN
JGET
}
56020
56040
56120
DBL
JSAVE THE BUFFER POINTER
H
55900
55920
TO
IN CARRY
Ew«NOTATION
POINT
NOTATION
1D16
PRINT
A
WGE,
NUMBER
10%16
IN
FIXED
NOTATION
= NUMBER OF DIGITS TO PRINT FOR
FOR DBL (THIS IS FOR COMMAS)
FAC
WITH
THE
WAS
A
SMALL
PERCENT
FORMAT
ENOUGH,
SIGNA
TOFREE
SPECS
GO
A
PRINT
NUMBER
DBL
IT
,GE,
10%16
FOURMAT
°
°
.
.
MATHPK
F4
r0n BASIC MCS 8080
AC
23wAUG=64
bAltS/ALLEN/DAVIUUPF
061U
FLOATING
MACRO
47(113)
POINT
OUTPUT
26309
27=AUG=7S
PAGE
56140STATEMP3S6160POPH1GETTHE
56180ocxLJSETIT.UP
INOW(HL)=FBUFFR+}
56220
56240CALLFUUTY56260oCx
MVI
56200
JPRINT
1
56264
JHERE
FFXSFx:
My
PRINT
TO
SNG
IN
FCOMP56380JPFFXS00JITIS,PRINTIT
56408
S6420LxIDy6%400+2+$CODEISETUPFLAGSFOR
JD=NUMBER=2
56440
56480
JHERE
FFXSDC:
TO
ACTUALLY
PRINT
FOUTNY
am
POPH
POPB8
Wo
56560
———56580
hae
L
S6600IHERE
56620PUSH
PRINT
OF
(THIS
OR
SIGN
FROM
FOUT
POINT
IFTHE
INFREE
==
DIGITSTO
IN
E
NOTATION
NUMBER
SNG
IS FOR
DBL
THE
PRINT
JGET
1D0
A
NUMBER
THE
FIELD
DIFFERENT
WITH
NO
LENGTH
STUFF
FRACTIONAL
CyrAA,BIWE
0}
c? THE NUMBER
JFOUTZS WILL LATER SUPPRESS
JSET UP THE CUMMA COUNT
MOV
56780
FFxxvys
A,C
THE
THE
EXPONENT
MOV
56760
HAVE
hAS
ADDEMOVE,CIWE
3JREVDUCE
NO
56820JNCFFXXV156840ADI|JADD
56864CALLFourcc56880A EJCHECK
MOV56900ADD056926INRA56940MOVoA5696056980PUSH
CALLFOuTCy57200POP0
57029
E
57040
57060
FOTZRC
TO
PRINY
A
NEED
MOD
BACK
IF
TO
IS
ZEROS
THAN
THE
ADD
HAVE
THE DECIMAL
THERE
IF
THE
ARE
IN
NUMBERWE
2FOR
TOU
MORE
SETUP
USE
COMMAS
POINT
COUNT
AT
037140AJSEE
57160FUTZERi
JGET
ENOUGH,
CAN
THE
AsQ
JPRINTA
IF
BE
FIELD
JHERE
THE
E
DBL AND EXPONENT INFORMATION
NUMBER TO DECIMAL DIGITS
BIG
FOUTOP
IN
ALL
]57082
IN
SCALING
THE SNG OR DBL AND EXPONENT INFO
IN DIGITS AFTER THE NUMBER IF I
S71v@
57120
FIELL
DIGITS
THEM
JGET
JPUT
1S
-
IN B
GOES
JSAVE SNG OR
JCONVERT THE
JTHERE
NEGATIVE
AGAIN
3
AND
WE
SPECS
LEADING
CHARACTERS
LONGER
3
JSETUP
11T
FIELD LENGTH
EXPONENT
MURE
Sul
0
SIGN
SPECS
IF Sl
Sus
suB
56740
X%
SNG
DIGITS
MOV
56800
A
COMMAS)
96680
FUTZER
IN
BIG
A
NOTATION
S6660
CcP
TOO
WITH
ZERO
IF WE HAVE
56649
Se7e00
56720
18
FORMAT
ISAVE
1SAVE
8
SIGN
TBG"oIF VERN sions Ir MMB CaroNeAT 13 eGATIVE
FFXXVS
TO
SNG
CHECK
THE
JIF NOT, NORMALIZE THE NUMBER SO ALL DIGITS
1 BE PRINTED ARE IN THE INTEGER PART
1GET THE BUFFER POINTER
56520
56549
1C
A
J1SEE
FSIGN
CNZ
56500
1E16,
FOUT
FORMAT,
NUMBER
THE
THE PERCENT
CALL
JGET
INTO
FREE
BUFFER
FORMAT==FIXED
226,016,033,312
56460
-
-
OF
UONE==RETURN
FIXED
BACK
IN
IN THE
FRONT
IN
IN
JALL
POINTER
JUMP
NUMBER
MOVRI
56340
S6360
3
TO
IS ALREADY
JPUT
A
BUFFER
THE
JPOINT
L)
RET
56300
S5632¢
-
13e12
RUUTINE
WE
SHOULD
BACK
A=@
IN
LENGTH
DECIMAL
DECIMAL
HERE
COMMAS
THESE
ZEROS
SPECS
POINT
PRINT
IF
NECESSARY
SOME
ZEROS
TO
FILL
IN
PLACES
.
.MATHPK
Fa
FOR
BASICL
MAC
MCS
8080
23=AUG=64
GATES/ALLEN/DAVIDOFF
26308
3388
FLOATING
MACRO
47(113)
POINT
OUTPUT
26309
JMP
57160
27=AUGe=75
PAGE
FOUTTS
57200
160CHECK
OBLTHAT
7
57220
JHERE
Moy
13=13
ROQUTINE
TO
PRINT
E\A
A
SNG
OR
FINISH
THE SIZE,
NUMBER
HASFRACTIONAL
MOVORAACNZDCRARTY}
HAVE
57320ADD£}
DIGITS
57340PUSHPSWChFINDL1VFrxxve
FFXxves
A,C
57380JMMoVAEJWE
ADD0)
57440MOVA, B57460I5748057500lnEnt
sy57520sub57540cPFOTZER1
57560POPPSW
F
ru
CORRECT
HMAVE
THE
TWO
CASES
NUMBER
wnxvv
NUMBERS
IS
7
ol
PRINT
SOME
BIGGER
LEADING
THAN
THE
ZEROS
NUMBER
IF
OF
WE
JWE
DON'T
B,EJGET
ALL
.}AEISAVE THE EXPONENT AND "C* IN FIELD
JSET UP THE DECIMAL POINT COUNT
57640ADD37660INR
NEED
THE
THE
NUMBER
PERTINENT
MOVoA51700
571720
57740
57760
57780MOVA0JSET UP THE COUMMA CUUNT
JTHESE 2 INSTRUCTIONS MAP
I AND 16 TO 2
FOU‘CCJCHECK
ANT
ADI
AUD
CALL
LL
NERE
FFXXV33:
FFX
TO
PRINI
A
NUMBER
FOTZER
LL
IF
WE HAVE
TO
WE
INFO
57680
THE
IS
WILL
DO
SAVED
IN
6
1PUT
iSAYALL
'PU‘IN
JGETTHE
ZEROS
A
BEFORE
DECIMAL
NUMBER
}DECIMAL
7HOLD
PUINT
PRINT,
ALL
HERE
THE
COMMATHING
DECIMALPOINT
TRIMMING UP
POINT
wESAVED
ANDTHE
TO PRINT BETWEEN THE
ZEROS
THE FIELD
FIRST
DIGIT
WE
WILL
IS BIG ENOUGH
DIGITS
THE
SPEC
TO 4
THE
’CONV&RT THE DIGITS AND DO THE
LTy
BEFORE
8,C
TO
160 PRINT THEM
JHERE WE HAD TO DIVIDE BY TEN SO THE FIELD
1 IS SMALLER THAN ALL SIGNIFICANT DIGITS IN
} THE NUMBER
JPRINT THE ZEROS
JSAVE THE EXPONENT IN B
A,
C
0
FUTZER
))SAVE
ByAJZERO THE DECIMAL PLACE COUNT
J2ERO THE COMMA COUNT
C,A
FOUTCY
0
FFXXVE3
EXPONENT
JCONVERT
JGET
THE
AND
THE
NUMBER
THE EXPONENT
"C"
TO
IN
THE
DECIMAL
AND FIELD
FIELD
SPEC
DIGITS
SPEC
BACK
.
.
PUN
BASIC
MCS
8089
23=AUG=64
GATES/ALLEN/DAVIDOFF
Bbi08
FLOATING
MACRO
47(113)
POINT
OUTPUT
06309
27=AUGw75
58249ORAE
56260582840JzFEXXVT
58300
568322ADD0
}
58340
58360
OCkA
FOTZER
JTHERE
584203451
345256440
584060JMpP
345358480JHERE
3454
3455
345658500
58520
58540
58560346056620
3461
346258640
FFXXv7:
FEXIFL:
58680
346458700
340558720
3466568740
340758700
FOUTTS
WERE
NO
DECIMAL
WE
IF
HAVE
TU
PRINT
ANY
MORE
WERE
ANY
TRAILING
1F INISH UP THE NUMBER
PLACES, IGNORE ALL DIGITS
ZEROS
LHLD
JTHE
TEMP2
FOUTTS
TO
PRINT
END
JFINISH
AN
INTEGER
IN
OF
UP
FIXED
THE
THE
NUMBER
AFTER
IS
NUMBER
FORMAY==FLOATING
PUSH0CALLCONSIJSAVE THE BUFFER POINTER
iSAVE THE FURMAT SPECS
JICONVERT THE INTEGER TO A
0JGET
PUSH
THE
FORMAT
SPECS
JHERE
FFXFLV?
TO
PNlVl
A
Fr
IBOB:OBI
FFXSFL3
6
F
FOUTNY
SNG
OR
DBL
INFIXED
J1IFWEHAVE
JWEHAVE
ILxI
JWE
FORMAT=FLOTATING
A
SNG,
SET
THE
ADBL,GETHOW
B"OVERTHEADBL,GET
HAVE
RIGHT
TWOBYTES
HOWMANYDIGITS
JGETTHE
56840B3472
347356860JGETTHE FIELD LENGTH SPECS
56880ACJCALCULATE
3474S89¢0A}347558920PSwJSAVE3476589403477589602
58980
59200
59060
348359080
348459100
59128
o>
MOOOP=2»0®
)SAVE
JGET
THE
NUMBER
THE
POINTER
SO
INTEGER
PRINT
DIGITS
TO
BACK
EXPONENT
THE
HOW
MANY
"C"FIELD
SIGNIFICANT
SPEC
SPEC
FOR
DIGITS
WE
MUST
LATER
IF THE SIGN IS8 A TRAILING
CARRY IF A IS8 ZEROTHEFIELDSIGN
D=2IFSIGN,
0377
JSET
59140539160591892348959200ISAVE
349059220JSET
349159240349259269
1IF
IF
WE
WE
hAVE
DO
C=NUMBER
3486
?
HAVE
WE
ALL
JSET
1
NOYAYION
wE
PART
JSEE
JSET3487
59280
BUFFER
IN
SNG
PRINT
3488
FFXLVLS
ARE
IS
FLA
NEXTL]
PRINTED
A
DIGITS
58820
BE
AS
POINT
MANY
JSEE IF WE HAVE ZERO
JIF NOT, NORMALIZE THE
}
OP
NOTATION
SNG
3470
347159020
ALL
DECIMAL
THE
POING
BACK
NUMBER
587803482
AT
BACK
5680059042
THE
WHERE
340693480
AFTER
DECIMAL PLACES
54683481
ZEROS
DIGIT
THERE
SOME
JGET THE BUFFER POINTER
JSET FLAGS TO PRINT THE
FFALL INTO FFXFLV
58660
3463
IF
LAST
JPOINT
58400
545056580
56600
THE
JCHECK
JPRINT
cP
JMP
58380
13-14
JCHECK
34413442
34433459
PAGE
ROUTINE
3444
3485
THE FIELD
DIGITS
PUSH
B,E
3479
WHETHER
MOV
FFXXVS51
3478
ON
NOT
MOV
FFXXVal
.
.
OR
57620
}
3458
,1
PRINT
JOECIDE HOW MANY
3457
DEPENDING
,LT,
,GE,
JIRESTORE C
3447
3448
3449
SIGNIFICANT
FX
E
57860
3446
OF
LOOP
S7600
57820
578402
3445
NUMBER
DIVIDE
IS THE
ITHIS
S7420
THE
THIS NUMBER FOR LATER
JSAVE
57400
57800
Fa
AND
57300
FFXXVS:
57580
MATHPK
ETC,
DIGITS
57260
57260
57369
.
.
ZERO SUPPRESS,
THEJSAVE THE EXPONENT, WE DON'T NEED WHAT IS IN E
JOIVIDE BY TEN THE RIGHT NUMBER OF TIMES SO
i THE RESULT WILL 8E ROUNDED CORRECTLY AND
57240
WE
OF
JTAKE
OF
LESS
HAVE
SOME
THE
THE
TRAILING
SIGNIFICANT DIGITS YO PRINT
THAN E, THEN WE MUST GET RID
BYDIVIDING
"B"FIELD
DECIMAL
INTU
A
NOT
BY
TEN
SPEC AND
PLACE COUNT
ACCOUNT
IF
THE
ANU
ROUNDING
#OFSIG
SIGNISTRAILING
DIGITS
.
.MATHFK
Fa
FOR
BASIC
MAC
MCS
8088
23=AUG=64
GATES/ALLEN/UAVIDOFF
Q6108
MACRU
FLOATING
47(113)
POINT
26309
27=AUG=T7S
QUTPUTRUUTINE
PAGE
349459300MylC,0JSET349559320PUSH0!}349659340CALLFourcyJCONVERTTHE
349759360POP0JGETTRAILING
59400MOysusEA, CJPRINT
3498
593580
3499
3500
POP
=i f" 59420
3501
3502
3503
8
COMMACOUNT
IGNORED,SAVE
THE
TO
ZERO,
THE
TRAILING
NUMBER
TO
INFO
TRAILING
ZERUS
IF
THE
39440
59460cP
POPFUTZRC
PSWJTHE
JGET
59460czFUFX1Si1F
59500
59520
59540
59560PSW
Ei SO IGNORE IT,
ALL WE CARE
} "OCx
H" AND NOT THE "MOV
JGET THE EXPONENT BACK
ISCALE IT CORRECTLY
350959580351059600059620[
—4——s9700
JPART,
RETURN THE BASE
JU,E ARE LEFT UNALTERED
S
0
L
VALTYP
59860
XRA
8080
a
ffi‘é/kf
FAC
SO
EXPONENT
ALL
IN
A
IWE
SNG
FOUNS13
HAVE
JZERO
A
OUT
A
IN
DECIMAL
HERE
POINT,
ABOUT 1S THE
M,B" AT FOFXIS
SPEC
IN
TO
THE
THE
BUFFER
END
IN
(HL)
THE
DIGITS
ARE
IN
THE
INTEGER
OF
VALUE
WE
HAVE
THE
EXPONENT
ISAVE 17
THE
DBL
FAC
TOO
MOVRIzal.xes 117,3701GET60000CALLFCJ60040
60060
60082POP
CALL
PUSHPSW
FINMLY
PSWJITJHPFOUNSYINOWSEEIFIT
POPPSWJTHEFACI8TOO
60140CaLLFINDIVJOIVIDE60160PUSHPSWJSAVE60180CALLFOUNSCJSEEIFPSWJWEARE
JPO
FOUNS2:
FOUNS3:
Fuunss
POP
PUF
HERE
FOUNSCI
MACRO
POINT
TO
JALL
IF
THE
FAC
224,164,043,367
CALLFCOMP
OUTPUT
60320354860340603602PCHL
3550
355160380
60400JHERE
355260420
RH
26309
ORTOO
TOSEEIF
BYTEN
THE
MULTIPLY
EXPONENT
IT
THE
BY
27=AUG=75
I8
SMALL?
THE
FAC
IS
PAGE
AGAIN
BIG
BIG,
FAC
DONE,
ENOUGH
GET
THE
EXPONENT
TEN
AGAIN
IS
GET
SMALL
THE
ENOUGH
EXPONENT
BACK
ENOUGH
999999,499
YET
TO
SEE
IF
THE
FAC
IS
13e16
TO
HJGET
FUUNS2JIT
NORMALIZE
JIT
A
DBL
THE
IS
BIG
.
RETURN
700
BIG,
ADRESS
MAKE
IS SMALL ENOUGH,
NUMBER
TOO
o
.
ROUTINE
POP
BIG
DONE
SMALL
JGET
18
EXPONENT
THE
1GET (DE) BACK
SEE
BIG
VEI
ISNTT,
JSAVE
MOVRI
47(113)
99999,9499
ENOUGH
JIT 1S, WE ARE DONE
(]
RE
A
FLOATING
WAS
A
ISAVE (DE)
JGET WHAT KIND
118
3547
3549
THE
10
Pau
GATES/ALLEN/DAVIDOFF
26308
IN
Fuu
60300
MCS
NUMBER
CALL
60260
23=AUG=64
FIELD
POINTER
PUSH
60240
BASIU
"B"
EXPONENT
THE599440
60100
AC
THE
THEJGET59960
600220
ran
THE
FOUTND
lNONHALIZt
59920
602680
COULD COME
SPEC BACK
THING
[
Z
59900
Fa
LAST
RAILING SIGN AND WE ARE DONE
INORMALIZE
59882
MATHPK
POINT
FIELD
THE
JPUT
FOUTTS
59740
59760
59800
59820
59840
60200
1S
JGET THE "B" FIELD SPEC IN D, PUT ON ASRQSSEBLE
59760
60220
LENGTH
1 IN CASE WE HAVE A TRAILING SIGN
0
—t+—>59720
POR ad a J
DECIMAL
THE "C"
C=@,
JSAVE
>
59680@
60120
FIELD
8
59660
59980
IS
7 LONGER THAN TREEENUMBER OF DIGITS WE CAN PRINT
3505
3506
3507
3508
FOUTNV?
SPEC
INFO
DIGITS
BACK
3504
S
COMMA
SIGN
DECIMAL
SIGN
JGET # OF SIG DIGITS AND "B"TM FIELD SPEC BACK
59640
.
.
13e15
IT
OFF
THE
SMALLER
RETURN
STACKMAYHPR
ruw
BASIL
MCS
80802
23=AUG=64
GATES/ALLEN/UAVIUOFF
Bb6308
MACRO
47(113)
EXPUNENTIATION
3553
355460440
60462
SUBTTL
IFE
AND
26309
THE
27=AUG=7S
SQUARE
ROOT
EXPONENTIATION
EXTFNC,
<
14
AND
THE
SQUARE
355560480JSQUARE
3556
355760500
60529JWE FIRST
JEXPONENT
3558
355960540
60560718 USED TO COMPUTE
IRESULT AT THE END,
3560
3561
356260580
60600
LTINEWTON'S METHOD FOR SQUARE
Iox(2)=A
1
X(N®1)E(X(N)#A/X(N))/2
3563
606402FSIGN
60660
60680
60700JM
RZ
Lxl
60740RAR
60720
ROOT
PAGE
FUNCTION
FUNCTIUN
SCALE THE
AND USING
===
ROOT
FUNCTION
X=SGR(A)
ARGUMENT TO BETWEEN ,5 AND
SGR(M#=2" (24N))®2"NwSGR(M),
SQR(M),
THE
EXPONENT
IS
2
BY LOOKING AT THE
THEN NEWTON'S METHOD
SAVED
TO
SCALE
THE
ROOTH
JCHECK FOR ERROR CONDITION
FLERR
JCAN'T TAKE SGR
]
©®SQR(Q)
JSCALE ARGUMENT
H,FAC
MOV
'YL
60760
60780
60802
60820
JGET EXPONENT
JGET
EXPONENT
OFNEGATIVE
TOBETWEEN
OF
SCALE
NUMBER
,5
AND
2
FACTOR
JUSE
SOR(Mw2%(2#N))=22"N#SQR
(M)
ISAVE IT
1SAVE POINTER TO EXPONENT
PSET EXPONENT OF SCALED DOWN NUMBER
5
H
A
60840
60860
60880
f
JREPLACE
JSAVE A
IT
60900
60920JSET
60940JSAVE
609602
ITERATION
COUNT
COUNT
1SAVE X(N)
60980
JCOMPUTE
61000
61020
MOVRM
61042
61060
61080
JGETA
FADUIN
A/X(N)
IN
THE
REGISTERS
X(N)
JOIVIDE BY
2
61100
61120
JGET
61140
61160
61180
JARE WE DONE?
INO, DO MORE ITERATIONS
JYES, SET EXPUNENT OF ANSWER
4
H
61200JGET
61220
61240JCONVERT TO AN EXPONENT
JADD EXPONENT IN
61260
61280JREPLACE EXPONENT
JALL DONE
SCALE
61340
61360IFN<
EXTFNC,002341"Govude0QVLIL1TS*QLRL4L61380PSHNEG:LXIP02342*
00VR343*'0p0R0R
VolovwQL23027°
QL34361400XTHlJSWITCH
002344°*D01VOD0PRV3S)61420PCHLJRETURN,
P0234u0*
volove
o
.
PI HA I a
MATHPK
Fa
A
GOUNY
FOR BASIC MCS 8080
MaC
23=AUGwb4
JSUBROUTINE
EAR
FUR
FPWR,
FACTOR
ATN
H,NEG
JGET
TME
ADDRESS
RET
OF
ADDR
THE
NEG
AND
ADDR
ADORESS
OF
OF
NEG
NEG
IS
ON
THE
STACK
.
0
SA i rr
.
GATES/ALLEN/DAVIDOFF MACRO 47(113) 86309 27=AUG=7S PAGE 14=1
Q63108
EXPONENTIATION AND THE SQUARE ROOT FUNCTION
3606
3607
3608
3609
Q02345*821000QU315
361000P2346°Vp0VRVEVL1205°
3611Q02347°¢vwnRvveQuaes4L*
3012Q02350*Q@l0vevPLL4L
3613
3614002351
©Q0e3S2*®0poeve
0phoenw2312
B02346°
3615Q02353Pp1ovwAees1S
3616002354Qpvowvs@v122e’
3617@U2355*PpoeerWBw_3sS1’
VP2356*
002357*Vplvve
Pplvee@VOs0L
Q0Rs21
61480
615007SQUARE
FwE USERUOT FUNCTION
SWR(X)=x",S61520CALLPUSHF1SAVE
61540LXIH,FHALFJGET
CALLMUVFM}
01560
615860
FPWRT:
POPR
-
SOR(X)=X",5
IGET
61600
ARG
1/2
!}
ARG
IN
ARGUMENT
ON
61660JEXPONENTIATIONINgB,©%03)61700IFIKSIWECmECKIFY=2,IFS0,THERESULT
61722INEXT,wECHECKIFx=9,IFS0,THERESULT
61740JTHEN61700INEGATIVE61780
61802JINTEGER, WE NEGATE X,
JIT,
IF X IS NEGATIVE61820JISTACK61840JTHE
Q02360°
0v2361°2pl0vd
voleenQB3ST
Quvesle61860
61880FSIGN
Jz
002362°
0@2363°
Q02364°
202365'000000
VRORVE
©A1000
Apleede@L2452°
QL2354
0QLOLITO
Qevoes761900
61920Qu2366*
002367°V01000
000000Qve31R2
0B0VA1T74°
CHECK
SO
INTEGER,
WE
RESULT
2p0VORQvesec*Vue371*velovveveesa2s002372°VA10R00VLR3ASQ02375*Qp100dA0VR1T161980
002574*0O100020036662000
202375°0deoRReQwe1T7QV2376¢QA10MY200315002371*
Q02490*200000
200000201c4v’
Vvaserl*002401
WILL
WE
EXP
61940
0V2370°
J
61960
62020
IF
USE
X
IS
AND
]
TO
FALL
FPWR
INTO
IF
FPWR
X®y
POSITIVE,
WHETHER
IF
AND
RETURN
TO
IF
IT
NOT,
Y IS
IT
NOT,
IS
IS
1,
IS
WE
EVEN
@,
CNECK
OR
00D,
LUG WILL GIVE AN
0DD, WE PUSH THE
AND
GET
A
NEGATIVE
THAT
IF
Y
Y
IS
IS
A
A
NEGATIVE
FC ERROR WHEN WE CALL
ADDRESS OF NEG ON THE
RESULT,
TO
COMPUTE
X®YSEXP(Y*LOG(X))
}SEE IF
11T 18,Y I8 ZERO
RESULT I8
JSEEIFXx
$ITIS,
JSAVE
!
ENTRY
STACK,
61680
WE
-
REGISTEKS,
IS
X
AyCJCHECK
177JTURN
MOVRFJGET
FPaR1INO
IS
ZERO
RESULT
ON
IS
ZERO
STACK
THE
SIGN
THEZERU
INTHE
Y
ONE
Vplove0QvRs6e002402'
d024p3*Vp00eR
oeleneQ042"
0vesTT’0U24@4*
002495°Q2love
Pol000Quesas
00O305iSAVE
PROBLEMS
YQ02406*221000Q@O31>JSEEIFY
2224027°2000000QV1445*Q02416* PoRVeD
0B2a11* eeleee002402’
oeveselJGETYBACK
IS
OF
X
FLAG
OFF
REGISTERS
IFX
IS
POSITIVE
ANINTEGER
5MATHPK
Fa
3659
3660
FOR
BASIC
MCS
8080
MAC232AUG=60
002412°
0020137
GATES/ALLEN/DAYIOOFF
26108
MACKO
EXPONENTIATION
47(113)
AND
THE
@639
27-AUG=75
SGUARE
ROOT
PAGE
142
FUNCTION
001000
0pl000000321
0UB3LS62120PUSHPSWISAVE
366100100¢00031562142CALLFCOMPISEE
3662000000001317°3663000008002401
°366500169000O1T4POP.
3664
00034162168
366600106000003762200
3667
001008
20100800034162220
001000CUOUA23669
367¢777777
000000002415°3671001008
001220
3668
"
3674
3675
3676
*
©00008000090
601008
0000@R002424°
000334
B02340°
000008
00106000243¢°
000314
000208
000000
Q0edsi®
MATHPK
Fa
FOR
MAC
BASIC
1177778
000341
0vAV4S
2014541
LO
IF
JPUT
EVEN=ODD
JGET
X
BACK
62240SHLDFACs1FSTORE
HO'S
62260
62280PP
SHLD"
FACLOJGET LO'S OFF STACK
ISTORE THEM IN FAC
62300ccPSHNESINEGATE
NUMBER
62320czNESINEGATE
THE
AGAIN
000325PUSHRISAVE
000315
0LO421"
002436°62362CALLJCOMPUTE
00030162382POPR62400CALLFHULT>b2420
62440aneEXPo01e00Q00321
Q01006
000000000315
000517"
0opA20202443*
8080
23%AUG=64
62348
GATES/ALLEN/DAVIOOFF
06128
FPWR21
MACRO
47(113)
EXPONENTIAL FUNCTON
JIF
@639
SUBTTLEXPONENTIAL
62480IFNEXTFNC,
<
369862560
62500
62520
62540
3699
62560
3700
3701
62600
62620
3702
62640
3703
27=AUGS7S
Y
X
7LOG
PAGE15
FINTEGER
PART
OF
THIS
TO
THE
SAVED,
RESULT
IS
FPREVIOUSLYPUSHFISAVE
201,070,252,073JGET
902456U0RCTVMOVRI3708800000627003709
3710
3711
3712002457°
002660
002461
002462000000
001000
000000
00OLD0LA20L
060URL
V0EETS
0€dR5E3713002463010000085153710002464®00200000R51T*3715
3716002465°
002066'@00000
V010000U24537
BEGLTe3717002467°00WE03716002470200000VU464’3719002471601000000376
FHULT
BY
BASE
FACJCARRYS@
2107HLOVEXJIT18
ARGUMENT
1.E,
@02472°001000002474°
202475%00000
0020000010753720002476001060900315INT)18
3725
3726
3727002471°
002500
002501000000
00600
00levo0¥144S’
002474°
060326200JCHECK
3729402503°
3744
3745
NOT
OF
THE
2,
00000200200
0LBUA2
200sE62HLOVEXJWE
0adeoe@veS32
0B1073°oL247l*00160000E365PsHJSAVE
06BCA1
002513% 00002D02512’00200002506
002514
002515¢
002516
Q02517001¢eR
€00600
000W0
0g1¢¢0000315
©60QK03’
0V2512°
000315
0u2s22*
002523'001000
021000
H) FONE
00A4Ae’
20E506"
Bv2515*
AVOI1
00@S0)
IF
FAC
=
OF
2
WE
1S
INT(ARGALOG2(E)
IF
700
ABS(FAC)
BIG
,GE,
100
128
BIG
HAVE
TOO
BIG?
OVERFLOW
FOR
OVERFLOW}
Y
SCALE
FACTOR
JADU ONE TO THE NUMBER
FADUS
6
SINCE
CACULATE
0b2a61*
020000
INTEGER
THEN
WATER
COWPUTE,
POWERK
80@210
ovas2e
AN
THE
END,
0014468
002473¢
00000p
000000
Y
OUT
IS EASY TO
INT(ARG/LN(2))
3722
3723
902520°
002521
AND
HIM
ARGUMENT
3721
3742
3743
SCALED
LOG(E)
3720
3738
3739
374p
3741
THE
2"INT(Y)
THEN
CALL
3737
BLOW
APPROXIMATION
JPOLYNOHIAL,62680
002511° 001000
0DD
THE
62660
3736
WAS
AT0V1edS’
02450
00CAL
3735
Y
BY
AN008315002510
IF
NUMBER
ANSWER0p0A0R
VUVOVD
001000
00250/'
NEGATIVE
WILL
AND
0r1000
3734
END
EXP (YLOG(X)
WAS
SCALE
002453
002454°
002455
3753
AT
NEGATIVE
INOW COMPUTE 27 (XaLOG2(E)=INT(XxLOG2(E)))
P (LN(2) % (INT(X*LOG2(E))
+1)=X) WHERE P 15
727Y52%INT
(Y) %27 (Y=INT(Y))
0024520oicee
0e00ED
CARRY
FAC
FUNCTON
3705
3706
3707002505
002506¢
IN
FWE FIRST SAVE THE ORIGINAL ARGUMENT AND MULTIPLY THE FAC BY LOG2(E
JTHE RESULT IS USED TO DETERMINE IF WE WILL GET OVERFLOW SINCE
FEXP(X)
327 (X#LOG2(E)) WHERE LOG2(E)LOG(E) BASE 2, THEN WE SAVE THE
3704
3731
3732
IN
INFORMATION
002433"
001000
00002
00P000
001000
60100
FLAG
ODD
DU1175¢
62460
002504°
AND
JGET EVEN=ODD INFORMATION
A
000305
3695
3696
3697
0v2502¢
INTEGER
H3694
3732
EVEN
AN
RAR
3693
3728
FOR[
MOy
FPAR1T
001000
000890
INTHAVEPOP
62188
201698
MCS
OF
WE
HULLNZFMULTIPLY
PSwJGET
JGET
BY
LN(2
SCALE FACTOR
ARGUMENT
OFF
STACK
SO
WEMATHPK
Fa
FOR
BASIL
HCS
8080
GATES/ALLEN/UAVIUOFF
MAC232AUG=64
06108
3746002524°001000260321
3747
3748002525°
002526°0P1000
00100000036
209315
3749
37500025271
002530°000000
0p0V0E0EBL1T
@B2520°
3751
3752
3753002531°
002532°
002533001000
008090
0000003754002534°3755©02535°3756@02530¢3757
3758
3759
3760@02537°
002544’
002541'
002542'37613762
MACRQ
EXPONENTIAL
47(115)
06109
27-AUG75
63000
63020PUSH
CALLQURS1S
021175°
062527°63040CALL00100000QL4163060H/EXPCON
00000R@¢asse’000000wp253e’0pl0ee
0go0ee
0p00eE
Q01000BUPS1S
¢o2632°
UU2535¢
00B02163060POLY
63100@02543°000000201477002544'000000002540@22545¢
202540¢0p1000
0p1060000301
00011263120
63140002547
002550
002551°€01000
200000
00000Q©0@3B3
©@2517°
00254363168FHULT
3770
3771@v2552%
©002553°0veCes
0008000VAL10
00010063220
652403772
3773002554°
082555¢
0025567000000
000000
0000@0B00VSE
0Ud224
00216463260
63280
633603776P02557°
002560900000
800000063160
0¢B11763320
63340160
173777002561'00000000B0SH633600563778©02562°00000000816763380167002563°
902564°
002565°
002566'000000
0000OE
000000
00Q0DL000156
000VDC
000210
00017263400
63420
63440
63460156
002
210
172=,0830136
3781
3782002567¢00000000034663480346124165735
Ve2572¢
002571¢00BLOL
000000000240
0UBLS263500
63520240
052@02572¢00000R00017463540174©02573°0000O000012063560120@02574°000UO00U025263580252@02575°
002570°
@02577¢000000
UPRROE
0nde00000252
000176
00037763600
63620
63640252
176
377©02600°
002601°
002602°000000
000000
0pALAYCUB3TT
000177
00017763660
63680
63700377
177
177P02603700ABEEBUBLOY63720020©22604°
002695°
@02676¢VOAARE
000000
0000000UOLDY
000200
00220163740
63760
63780200
200
201
3765
3766
3767
3768
3769
MATHPK
Fa
3799
3800
63200
FOR BASIC HCS 8080
MAC
23mAUG=04
@02601°
002610°
00900C
00P0ER
3801002611000R0R
3802
380300261200000
0BVOU
0VR0RY
0BVOD
63800
63820
63840
63860
63880
15m1
JPUT SCALE FACTOR BACK
ISUBTRACT ORIGINAL ARG
JEVALUATETHE
0, SCODEJMULTIPLYBY
B
€0§
}
JCONSTANTS
EXPCON:
10
100
FOR
EXP
JUEGREE.
7 =,0001413161
0ee
[l
000
201>
1001329882
=11666653
44999999
06309
27=AUG=75
11,0
PAGE
ON
STACK
APPROXIMATION
2
=
(Bet)
POLYNOMIAL
INSTEAD
OF
JUST
ADDING IT TO THE EXPONENT S0 FMULT
WILL CHECK FOR EXFONENT OVERFLOW
as6
224
164
GATES/ALLEN/DAVIDOFF MACRO 47(113)
@108
EXPONENTIAL FUNCTON
0Leedl
PAGE
FUNCTON
15e2HATHPK
FOR
BASIC
HAC
Fa
MCS
8060
23wAUGR64
GATES/ALLEN/DAVIDOFF MACRO 47(113) 06109 27=AUGe7S PAGE
B6108
POLYNOMIAL EVALUATOR AND
THE KANDOM NUMBER
3804
63920
63920
3805
3806
3807
380863950
380964000
3810
3811
3812
3813002614738140026157200000002550
3815vo26106°
002617
002620°001608000000008021
000515°
9000000u2614°
3816
3817
SuBTTL
IFN
000020
200315
AND
THE
RANDOM
JEVALUATE
63962JPOINTER TO DEGKEE+1 1S IN (HL)
JTHE CONSTANTS FOLLUW THE DEGREE
64040
001000
EVALUATOR
64260
POLYXE
201205
64080
FCONSTANTS SHOULD BE STORED IN REVEKSE URDER, FAC
IWE COMPUTER
i COAXSCIRK®34C2aX"54CIAX"T+,,,4C(N)
#X" (2aN+1)
CALL
PUSHF
15AV.HAS
LISTACK
Dy FHULTT
JPUT
ADURESS
vv2621°
P02622°
002623°001¢00200325
0003456410207
20100064120"3820ISAVE
00120820831564140MOVRFISGUARE
0026247
002625°
002626
¢
vezea7’000000[TTeITl
00261764160FAULTa02020000517°3825©02630°422009ov26243826002631°¢001000CITETH
©aeeee
Q01000
000315
3827
64340
3837
3838
3841
000200001285¢002634°
vo2635*700208
001008ouaeart002636°
0026377
002640°001000000176
000¢4364420
001000000315644ag
000000ovgeaa’000000
201000202635
0026417
vo2642°
©02643°¢
PUSHFISAVEAJGETDEGREE
MOVFMJMOVEFIRST
JUNVI8"
InNXH
X01000, 006
POPPSk
CALL
64460
IT
64480JGET
DEGREE
POPRJGET
X
00100000264722100064520
64540
645600CR
RZ
PUSHRJARE WE DONE?
1YES, RETURN
INO, SAVE X
64580PUSH
PUSHISAVE
FSAVE
CALLJEVALUATE
FOR
BASIC
MAC
008345
000000200515
000517*
000200ov264e*
MCS
8080
23=AUG=64
002657¢ 021000
802660
" 021060
202661° 200000
vo2662"
208305
000365
200000
GATES/ALLEN/DAVIDOFF
06108
002663°001000
3863002664°
002665°021000
MACKO
PULYNUMIAL
47(113)
EVALUATOR
06309
AND
27=AUGRTS
THE
RANDOM
PAGE
DEGREE
CONSTANT
THE
TO
NEXT
MULTIPLY
6464000831564660POP
CALLH
MOVRMJGET
JGET
LOCATION
CONSTANT
64680PUSHWJSTURELOCATION
64700CALLFADD7NOT
000345
0ees1s
2000257
WILL
0026617vo2667*20100000034164720POPJMOVE
002670"29100020930364740JnpISEE
3868P02671°000000002643°3869
3870oo2672"000000202665°
OF
JPSUEDO=RANDONNUMBER GENERATOR
3873i1FLAST
3874J1F ARG
} USING
3875
3876
3877
iTO
ARG=g,
THE
RANOOM
,LT, @, A NEW
THE ARGUMENT
FORM
THE
NEXT
FPREVIOUS RANDOM
NUWBER
NUWBER
NUMBER
BY
A
CONSTANTS
UP,ADD
POINTERTONEXT
GENERATED
RANDOM
IN
THE
RANDOM
IS
CONSTANT,
AND LO BYTES ARE
BE SHIFTED IN BY
JEXPONENT
JTHIS IS THEN NORMALIZED AND SAVED FOR THE NEXT
JTHE HO AND LO BYTES WERE SWITCHED SO WE HAVE A
JGETTING A NUMBER LESS THAN OR GREATER THAN
,5
002675"
THE
FAC
SET
TO
FMULT
CONSTANT
200
SO
THE
WE
RESULT
MULTIPLY
ADD
IN
THE
ANOTHER
SWITCHED,
THE
NORMAL, AND THE
WILL
BE
LESS
TIME,
RANDOM
THAN
1,
CHANCE OF
LENGTHR2,
<
3885
202675
421690
(TR
FSIGN>
JGETSIGNLENGTH=2,
<OFARG
3887
3888CALLVSIGNJGETTHESIGNOF
3889PUSHPSWFSAVE3890
3891chFRCSNGJIF(%Aa)3892STAVALTYPJMAKEPOPPsi>JGETanRND1JSTARTL1Hy RNDXJGET
3893
0026747001000oeasre
0026751000020
900090002671
901080LIS
202676°
002677°
THE
1T
1S
SINCE
NEGATIVE,
WE
SURE
THE
THE
ARG
SIGN
USE
THERESULT
SIGN
NEW
FORCE
WILL
IT
TO
BE
A
IS
"SINGLE
PRECISION"
BACK
SEGUENCE
002752°
002675
3901202703°200002oo1eea’
39020027247oeeeeev02720°
3903©02725°001008eeesie
000315
65262
65280
65302
390465320
390565340
65360
002706ve1e0e3968002797°222000001243t
3989eerie’Q0600002798’
2e2315
65382
LAST
NUMBER
IF
NEGATIVE
GENERATED
HOVFH
JRETURN LAST
JMULTIPLY
BY
NUMBER
SNG
IT
002725
vo2700* 000080
002701
¢ 200000
vo2782" o01000
3926
3907
AND
CONSTANT
1S STARTED
AND
3880
IN
IN
RETURNED
NUMBERS
SEGUENCE,
3881
3882
3883
3898
FADD
THEM
DONE
SEQUENCE OF
RANDOM
FRANDOM CONSTANT,
THEN THE HO
JEXPONENT 1S PUT WHERE IT WILL
3878
3879
3899
3900
SO
CONSTANTS
OF
SCREW
CONSTANT
IF
3671
3872
3897
X
oe124st
0026557
000200
Q02666
° 200020
3894
3895
3896
BY
GENERATOR
3865
3884
FAC
BYTE
16m1
NUMBER
3866
3867
3886
X
POINTER
POLY,
200341
3861
3862
64600
64620
POINTER
CONSTANT
64500
201000
X
POINTER
OVER
008391
20321
000075
208310
0ueses
201069
WE
JINCREMENT POINTER TO FIRST CONSTANT
000361
oo1000
001200
001000
BY
WHEN
X
201000
POLY1:
MULTIPLY
SO
I8 UPDATED
201000
002654
002655¢
Q02656
3864
CALL
Moy
64400
(HL),
201000
voeeset
002655
3857
3858
3859
3860
POLY:
ON
JTHE CONSTANTS FOLLOW THE DEGREE
JCONSTANTS SHOULD BE STORED IN REVERSE ORDER, FAC HAS
JWE CUMPUTE:
§ COSCIAX+C2AXT24C34X
34, ,, #C(Nm1)
AX* (N=1) 4C (N #X"N
202645
[rerery
002650
Fa
000096
64380
IN
CONSTANT
002644¢
©02651
MATHPK
208315
EVALUATOR
DEGREE+] IS
JPOLYNOMIAL
JPOINTER 10
64360
oe2e32’
002633¢
01000
WILL
FFALL INTO POLY
64268
FHULTT
X
X
JGET
64280
3834
WE
CONSTANT
64200
64300
64320
3833
RETURN
OF
64180
3828
3829
3830
3831
3832
GENERATOR
P (X"2)
X
3821
3822
3823
3824
5818
3819
NUMBER
<
EXTFNC,
63940
64220
002615°
PULYNOMIAL
16
GENERATOR
GENERATED
CONSTANT
A
1F
ZEROMATHPK
Fa
FOR
BASIC
HAC
3910
3911
MCS
8080
237AUG=64
s02711"
vp2712"
GATES/ALLEN/DAVIUOFF
D108
vp10002ves1s
000000G0o517*
000000oo2r07"
0010000e20g1
3912002713°3913
3914veer1a’0e2715°0002003915
3916002716°0a0e0e000050
20015¢
[TELAY001000[ITTES
3917oe2720!
egara1*
o272’000200
000e0n201020000106
009261
000315
vo2r23*0geeee000025°
3918
3919
3920
3921
3922a02r24*200000ovarie’
002725°001200000315
3923du2r26*00000eo140t
3924eo2121°0002000e2723"
3925002730
0027317
wg2732¢001000002173
ae10¢0
MACRU
POLYNOMIAL
47(113)
EVALUATOR
06109
AND
27=AUGe75
THE
RANDOM
PAGE
NUMBER
65400CALLFHULT>
65420MOVKI150,850,261,186
16=2
GENERATOR
7ADD
IN
CONSTANT
OF
ORDER
27(=24)
FADD
65462
RND1Y
HOVRFFSWITCH
HOAND
LO
BYTES,
65480AEJGET0013165500[JPUTHO
IN
LO BYTE
65520CoAJPUTLO
IN
KO
00n06063929
393
3931201000
001000
200000
201200200117002733°
602734
0027357
202736*65540ni200IMAKERESULT
000200
00005565562HJGETPOINTER
001000000106655803932202737221000200C60656008,M
"y200JPUT
JSETEXPONENT IN OVERFLOW POSITION
EXP S0 RESULT WILL BE BETWEEN
3933602740
002741
av2742*201008Quesis65620NURMALINORMALIZE
2020000ug1ao”0pe00e
0010000ueEal65640HyRNOXJSAVE65660MOVHF1TIME
FORRND
3926
3927
3926
3934
2027453
3937
3938
3939
3942
oeer4a’
802745
202746
002747*
202750
002751°
©06000
201000200305
900000vo1254
Qe2ras
65700
202752
200000
TO
EXPUNENT
THE
@
AND
RESULT
ve2726°
ouaise’
oearae’
000000
BYTE
POSITIVE
200200
022000
202000
LO
JCONSTANTS
RNDX
3
002755*000000ouvol2e
ovasal65720
65740@02754¢
002755°0000002uo1176576017
000060000200
20017265780002756
° 000260200
172
104
002757000000000104
0027600900ae002761006000200065
060230
65800
65820
65840
65860
122
307
ANU
JLAST
STORAGE
RANDOM
JRANDOM
NUMBER
NUMBER
OF
RANDOM
NUMBER
GENERATED,
ORDER
GENERATED
BETWEEN
@
AND
FOR
NEXT
1
2724
265
230
65880
Ma THPK
Fa
FOR
BASIC
MAC
MCS
8080
23mAUGR64
GATES/ALLEN/UAVIDOFF MACRO 47(113) 06109 27=AUG=75
SINE, COSINE AND TANGENT FUNCTIONS
3954
3955
3956
3957
3958av2762°001000CITTTEY
3959
3960
3961
3962002765
vn2764"
082765°
002766
¢0000080e3u70t
02750
290200PITITI
3963wo2767°020000av2r6st
000000
001600
PAGE
1
06108
Q00315
3964
65900
65920
65940
65962
65980
SUBTTL
1PN
cosy
66000
SINE, COSINE
<
EXTFNC,
AND
TANGENT
FUNCTIONS
JCOSINEFUNCTION
JIDEAS
Lx1USE COS(X)SSIN(X+PI/2)
HiPI2
1ADD PI/2
CALLFADDS>
66220
JFALL
TO FAC
INTO
SIN
3965
3966
3967
ISINE
66280
66160
3968
FUNCTION
JIDEAT
JTHE
USE
FAC
1S
IDENTITIES
DIVIDED
BY
TO GET
24PI
FAC
AND
IN GUADRANTS
THE
INTEGER
I
PART
OR
IS
1V
IGNORED BECAUSE
3969
397066120397166160JCOMPARING
397266180
66200JIDENTITIES ARE THEN USED TO GET THE RESULT
IN GUADRANTS I OR
AN APPROXIMATION POLYNUMIAL I8 THEN USED TO COMPUTE SIN(X),
CALL
PUSHF
JOIVIDE FAC BY 24P
66140
3973
39742027703975
3976*3978ve2rTar3979
3980002775
#02776°
0o771*000000401200000205
[ITTER
8003353
7
0eeu1
¢01000
3977
3981
3982
3983
3984
3985
3986
201000200315
200000000000001205
202766
401000200091
ono00e000111
@00000
200008
00020
200600
001000
0012000
901000
3987
66220
66240
FSIN(X+2#P1)aSIN(X),
s1
MOVRI
40e315
va1ees’
202771°66260CALL
200301
PTTEER66280PUPK
66300CALL
THE
RESULT
THEN
OF
203,111,017,333
THE
THE
JAFTER
1
ARGUMENT
DIVISION
DIVIDING
BETWEEN
3989
3990000000208515
000655(L)ou3vee”3991
3992221020CALLJOISREGARD
09000000315
0012057
"
00300766320399339940010900031566340CALL7
39952200003996000040399700100000839166360POPR0010002032109169000315
3988
000020
3996
3999
4geo
[T
4ee2
4ge3
vo3pa2*
vos023*
922000
200000
Q014457
veseie’
66380CaLL
66480<
EXTFNC,
18
be42e
L1
B,177%400+SCOUE
66448Hov0,C
ages66460MOVEC
490666482CALLFSug>
JGET
AND
1/4
BY
BE
COMPARED
WITH
PI/2/(2%PI)a1/4,
2#PI,
RESULT
IS
1
INTEGER
PEKIODIC
200017
203015
prrr
0
CAN
WITH
WITH
PART
SINCE
PERIOD
2#P1
SIN
PI/2
IV,
BYMATHPK
Fa
FOR
BASIC
MAC
HCS
8080
23%AUG=64
GATES/ALLEN/UAVIOUFF
CE108
4ee7
4868003024°901000@UeCAl
4889003025000000Q3¢T4’
4910©03026°000000A@Sae’
4011003027°Uplode0eB315
4e12003930020000@URL1l’
42130U3M3100BOPD@@3u2s’
4014D03e32*0010004815
4216003033
0v3934*001000
0010004017003035'0000003044’
4018
4619©003036°
003037°000000
U0100R003U30C
©00S1>
MACRO
SINE,COSINE
66508IFN
47(113)
AND
26109
TANGENT
27=AUGRTS
PAGE
EXTFNC,
<
665208%HiFRG66540CALLFsuss>
JSEE
0UL3ST66568FSIGN000667
0UAS6R66580
66600sTC
.SINY7SET QUADRANT I FLAG
JFIRST GUADRANT, GET
66620CALLFADDA1ADD
4020003940°000000BUOVGL"4021003041000000©003L35’40220030428010004023
4924
402500304320100000826766660©03244°0010A000036566680003045001000UA36466700cP4026003046’00000VU1175°4627©03047°000000VR3040"462866720EXTFNG,
<4029
4030
4031
403266740LX1B, 177+4004SCODE
66760
66780
66800oy
MOV
CALL0,C
E,C
FADD>
66820
66840EXTFNC,
<
Lx1
HyFRY
@LE3ST
4933
4034003050001000QAL41
4035003051000000AW3ET4*
4036QN30S2'B00PRDVK346’
403900305300100000R31S
4040003054’000000©00¢AS*
441003055’
203¢56°
©03957¢
003060000LOD
001000
0pi0d0
000000WASLSL!
00361
0ve324
001175¢
003061700000N0LS0S4*
437
66640
ORAJCLEAR
JSAVE
66920
66940POP
eNePSH
NEG
IFE
HCS
8080
108
1/4,
USE
THE
JEVALUATE
ISAVE X
ISGUARE
FHULT67240
67060
67080CALL
LI
CALLPUSHF
Hy SINCON
HOVFM67102PUPR
ISAVE
FIRST
x"2
DEGREE
M1A4IGET
PUSHPSWISAVE
ISAVE
ISAVE
FruLTJEVALUATE
"JGET
47(113)06309
27+AUGTS
PAGE
THE
POINTER
CALLMOVRMJGET
H
FADD
HISAVE POINTER
7ADD_IN CONSTANT
JMOVE POINTER TO
406467320POPR40667360
IGET
Pk
POLYL
DCR
A
JSEEIFDONE
INO,DONEXT
INZ00100000QU4LJup
FRULTT>
EXTFNG,
<
L1
Hy SINCONIMULTIPLY
W03p62°67400
67420
674404071
4872003063
003064"000000
000000©@3100°
©23060°4973
4074@03063°
003p60'001000
030DV2303
©002613°67460Jnpi
4075003067@00048003L6S*4078003070'V0B00033340790030710PO00DVERR1T4080063072°000000@0A1116756014gB1003075¢800000U221675802014uB2
48B3
4084
4085003074
003075
003076
003077°@BG0G0
00000
400000
@PB000DORLAC
20ALEV
00BLED
00E1TT67600
67620
67640
67660220
200
290
177>4686003108°67480JCONSTANTS
67500EXTFNC,
<
67520333
67540017
FOR
SIN,
PPL/2
i=76,57498
i81,60223
i=41,34168
i6,283185
67680
67700EXTFNG,
<
0L0UDS617205>
489003121°00000R0Ceele67740212
4990
4091
492B03102°
003105°
©@03124*400000
WA020
0000000LA32T
0POUS6
00B20667762
67780
67800327
236
206
4093
4094003105'
023106200000
200080PER1A4
0UALAE67820
67840144
246
4995
4096003107
003110000006
900000@231
020767860
67880231
207
4297
4098
4¢99003111
0@3112'
003113090000
0p2C0C
00000062130
P0RL6Y
00204367900
61920
67940130
264
043
4180
4161003114°
003115200000
800000@00207
00234067962
67980207
340
4102003116°00000A00013568200135
4103©0311/¢Q000000UO24568020245
4104093120'68040206
4105
4166
4107@03121°
003122000000
2020000QUd33Z
0EdL1T68062
68260332
217
203123¢000000
002000
4108003124*Q000000111
00023
200206
68100
68120111
203
411168180EXTFNG,
<
a11268200JTANGENT
INTO
FAC
MULTIPLY
BY
NEXT
CONSTANT
x=2
67382
JCALCULATE
POLYX>
4109
4110
FUNCTION
COS
OR
POLYNUMIAL
IGET DEGREE
4p67G0OVOE
IIT
CONSTANT
468
4069
487000310¢°
II,
37s2
PUSH
CALL
POP4086
IDENTITY:
FUNCTIONS
POP.
III
III
CONSTANTS
67260
67280
67300
4g87
OR
POINTER
POLY,
TO
67240
4u77
II,
THE
CONSTANT
4061
4p62
4g63
4276
X
SIN(PI=X)sSIN(X)
USE
FLAG
GUADRANTS
X=2
CONSTANT
CALL
TANGENT
11
DEGREE
POP
AND
I,
X=2
JMOVE
PUSHR
PUSH
HACRO
1V,
APPROXIMATION
JGET67220
67340
ORIGINAL
X
67200
CUSINE
TDENTITY:
4060
4g6s
BACK
GUADRANTS
JGET GUADRANT
INEGATE IF
IN
MOVRF
SINE,
IN
SIN(Xm2#PI)8SIN(X)
EXTFNC, <
CALL
PUSHF
POLY1:
IN
GUADRANT
CALL
GATES/ALLEN/UAVIUGFF
D
JAODCALL
67160
67180
23mAUGm04
1/4
JIN
FADDS>
67148
BASIC
ARE
CARRY
JGET
7
CALL
67120
MAC
WE
QUADRANT FLAG
INEGATE IF IN GUADRANTS
66900
67020
FOR
GQUADRANT
172
PUSH
66880
66960
66980
67000
Fo
WHAT
FSIGN
SINIT
66860
ae3s
MATHPK
17=1
FUNCTIONS
THE
BY
TERM
XANDWEARE
THESINBYEVALUATING
APPROXIMATION
DONE
POLYNOMIAL
X*2
IVMATHPK
Fa
FOR
BASIL
MAC
MCS
8080
23=AUG=b64
GATES/ALLEN/DAVIOUFF
2b108
SINE,
47(113)
ANU
27=AUGeT7S
PAGE
17«3
FUNCTIUNS
FTAN(X)=SIN(X)/COS(X)
4114ve3125°*ap10ep00R3LS4115Qe312e0*800000
0PAVeN0V1205°
LL3Les*4117ves121°*
vos130°Bu100e0Les1s4118ve3131°DpoeenQe3132"9000e0003126°0n3135°
P03134°201000Qvese}68280Pniveeoves4lPOP8JGET
68300HJPUSHF
0u3135°
2031360010000P0AS1S66320CALLPUSHFVo3137°*200000
0p@Pen0e1205°
0e3131°
4119
68240
68260
QURsSS68340XCHG
2p1000©wA31S68360CALL
000000
000000Qe1225°
003136°0p1eve2003515
2e3145°008000povR762"
vo3146°
no3147°*0000000e03142°
@n1000Q0Y30S
au3150°
Q03151°2n00e”0ePeS3’
Q00000
FOR
BASIL
MCS
B808E
CALLcus
JMPFOIVT>
GATES/ALLEN/DAVIDOFF MACRO 47(113)
ARCTANGENT FUNCTION
B6108
SUBTTL
68460IFN
6848068500414020315241414142003153"
223154°4143003155°veoeeewes1se’
4144Qe3150"aeleeew0374
003157"*
Q23160"oo4146epovee0e3154°
4147Q03161°veleoeneavre
4148003162Qpee0eRQU467
4149203165°
Q03164"
Q03165
Bus166°
Av31e7°*QP00Qu3157*
Quieeedpaeee
bnleve
LITEEY]
BU0374
neasde*
68520
LO*S
WHERE
06309
ARCTANGENT
27=AUG=75
.
18
FUNCTION
<
EXTFNC,
FIDEAS
USE
IDENTITIES TO GET
JAPPROXIMATION
ATNE
PAGE
FPOLYNOMIAL
FSIGN
TO
ARG BETWEEN @ AND
COMPUTE
JSEEIFARG
IS
J1FARG
]ARCTAN(X)==ARCTAN(=X)
NEGATIVE,
USE}
68580LDAFAC1SEEIF
ovasTe68600cPl20120201
QUes3e68620JeATN2jGETTHE
281175*
FAC
,GT,
1}
Qv3ens”*
2e316e"’
@ploeebogenepo3L77°*200000vo3200"
203201vooeve2010eevo320e"
003205"
@23204"2avuveevaleoeQ03205vuioee20004l68760
6b64RLx1B,201%490+SCODEQpenee100400
Qesi67*Qn1600veel12l08660MOV0,C201000Q0813168680MOVE,CJCOMPUTE
Pe1000Q0as1568700CALLFDIv7CITTTYY68720LX1H,FsussJPUTFSUBS
LUTT2%
Qe3177°*
a0R34568749PUSHH)IT
LxIHyATNCON68780CALLPOLYX68800LxIH,PI2
veoval
CONSTANT
1
RECIPROCAL
TO
USE
THE
IDENTITY:
ARCTAN(X)®PI/2eARCTAN(1/X)
26655
av3172*
o if EEE
ATN23
’
TO
ON
AND
JEVALUATE
THE
STACK
SUBTRACT
THE
SO
WE
WILL
REULT
RETURN
FROM
PI/2
APPROXIMATION POLYNOMIAL
.
weseyr”
ae3cee’
ves211*veleee
Qa00ueQuse1e*[ rrllQucel s’
203eee"Q05215°veleve20004}Q03214°beevee203u70*vos215*epaveeaese1l’©wes216*va10800"I'LER
S}ae3217°vpRoeeavoell68880
Q03220Qpeoeevealle68900
2032212000200
apReeeveosai
CITEIE]
o mom
o HELENE
Queers
2eR170
Qn322s*andeeevusaasé’
LUEFTEM
@23220"vpeene200156
QpveeeAudevd
el
ee3227°dpeveeoue1Ts
203230opeeee2vaste
68940
68960
68980
]
JCONSTANTS FOR
ATNCONZ
11
112
BO0
I
w=
65920
JGET
RET
68822
68860
dpdeee
AND THEN USE AN
NEGATIVE
NEGwesy7e’
003175*
Q03174°
003175°
oe3176*Qpoeee
1
ARCTAN(X)
IS
PSHNEGQ03171°QpRee
BELONG
cH4155
4156Q03206°
THEY
cMopeeeevv32a7°*
evs21¢*
(DE)
68560wes170°*
eponee
STACK
685404154
0o322e*
OFF
SMASHES
PAGE
68440
2p0eoe
JIGET
684004138
2n1e00
Qpoenn
X
©003145°
23=AUG=64
enioee
ARG
TAN(X)SSIN(X)/CUS(X)
MOVFR
683804139
4152
i
Q01080
4130
4153
SIN
POP
4137
4150
4151
1SAVE
CALLvo3g4e’
MaC
4145
PUSHF
eev2rre*
68420
MATHFPK
CALL¥a3140°
w3144
Fa
TAN
P03141°
Pe3145°
o
06309
TANGENT
4116
4120
.
MACRO
CUSINE
68220
4113
156
69040204
173
69869376
THE
PI/2
RESULT
IN
CASE
FROM
WE
WAVE
TO
PI/2
ATN
74002866226
i=,01616574
i204290961
172
002
69020
SUBTRACT
TO
JUEGREE
327
073
69200
PUINTER
-
o
.MATHPK
Fa
4189
FOR
BASIL
MCS
8088
MAC23=AUGw64
GATES/ALLEN/UAVIDUFF
Q6308
0BVR301
MACRO
ARCTANGENT
47(113)
203231°20000069080301
4190003232'2noeeRQBALST69100257
4191003235Qpdvee0wd174691204192©03234°000000QVR164691404193
4194003235
0@3236*Q00060
000000©BAUL6]
0023269160
69180
41950@3237*2000eR©eRA17S69200
4196©03240°200000QVR2R469220
43197
4198©03241°
0@3242°200000
0pQ00Q0QVOLTS
00Q)3e69240
69260
41990@3243°2000000017569280
4200
4201@03244°
0@3245°000000
0p00RRQLRS10
00017769300
69320
42020Q03246*Q2p0RRRvLRe2)69340
42030Q03247*200000QCR17669360
003250"QP00R0VLR34469380
203251200000QUEeT369400
Q03252'00Q00w00R11469420
083253'©oRe0ewoLlT669440
B03254*2000200VB15469460
0032550pQVReQveeSe69480
203256QpowReQeeesSe69500
203257Qp00ERWeR17/69520
0032600000000QLAVRY69540
003261"
003262Q0000
000000©RQWRY
0Q0OVOY69560
69580
@03263*Q000e0QUL20RL69600
06309
27=AUGw7S
PAGE18«1
27=AUGw7SPAGE19
INATIALIZATIONCODE
FUNCTION
»,07528964
11065626
=-,142089
»1999355
5
-,3333315
69620
NATnPK
run
BASIC
MCS
8980
bAth/ALLEN/DAVXDOPF
23=AUG=64 B6108
MACRO
SUBTTL
421869660RADIX
42206970071T
69680
145¢40
A03264°
47(113)
©6309
INITIALIZATION CODE
69640
4219
JTHIS
SYSTEM
IS
10
THE
SHOULD
BE
SYSTEM
LUADED
FIN ALL NON=MATH PACKAGE COUE
INIIIALXZAYlUv CODE
AT
69842EXTERNALCROU,LINGET,QINLIN,READY,SCRTCH, STROUT,REASON,BUF
69829EXTERNALSNERR, OMERR, ILLFUN
69860FUNIO==<®D256#"0312>+~040+SCODE
INITSA:BLOCK10
LXIHyAUTTXT
Qp10000QEO31S69920CALLSTROUT
0E0VRY
Qpo0eeQ0V1765w
003277’v03304°
203305
003306°
P@3307*Q001000
Qe000R
Q0100e
0000ADQVO33S
0QVOVol
0LYS3S
0VLRSTT003510°eal00p0LO34b203301°003302°
003305*
ve3304°
203311°
vo3312'
203315*
ooovle
Qoleee
00PCOR
vvel1ee
Quesie
©0E3343°
B05314°Qponee©o3310"200000145040
V03317Qoooee©L3313°
Voleee0PBLA4e
203315 Pnlevd
223320°
Pu3321*
PRV3seR’
QU0L4)
V0RLAR0VLOVGex
6a3322°00BRRLV336’
P03323*vo1eee0A0VoV4s
003324¢
003325
003326'0edR0R
eolove
VQRRRE0LLB31R
Qvavde
0QPAvERe
P83327*ooeoveQ03s21'
023330"
P03331'P01000
000000QUVQL4e
QA4
vus332*0pleveweavse
203333°
00000
0pevee003326
0010000©LRL4)
002000
69940INITS
69960IFN
REALIO,
¢
69980IN1}IGNORE
T¢000IN=vessJSEE
10020ANI010071S HE FUNNY
70040JeNOTSIO700260HeFUNIO
10080CNLCAZ##+2
Te100
GARBAGE
WHAT
KIND
CHAKACTER
OF
I/0
HE
IN
INTERFACE
IS
TTY?
H,"0310
70120SHLD
Te140
Te160<
LENGTH,
vl
H,"0304
CNLCAS##+2
70180SHLD
JSUBSTITUE
"CnZTM
CNLCAG#242>
QUVAVEVEN
Vu3334°¥03335°
Q23336°
BASIC
INIT
INITAT:
0QP4L3S’
L3214’
THE
INTERNAL69900
Vp0RAL
000000
OF
TINTERPRETER6976069880001000
THE END
69720MVoR4L003276*
0U3277*
Q03300*
.
SYSTEM
4217
14500¢
70208
70220
FUNIO==SCODE+<~0256#"0312>¢2
LxIH,FUNID
SHLUCNLCAL #3542
145¢@2x
B03337°00000R0VB3333*
003340°
Qu33a1*201000
Q00000©BRL4e
QBALAE*
70240
.MATHPK
Fa
4270
4271
FOR
BASIC
MCS
8U8Y
MAC23mAUGw=HAE
003342'
©03343*0000
0el000
GATES/ALLEN/UAVIDOFF
A6308
4272Q03344*0¢eRRQ0©WVR3s33
QVOSTTTv260d
003345*
P03346*201000
00d0AR0EV4b
0VAL4R70280
0ve31270300
©03347°
ovlevve
4276203350°000000VU340’
4277©03351*op0ePe©3341°
4278
4279
4280
14500270320
0004l70342
Q03352'0p1eeeQ03353°Q0000e14S002x
003354°
PB3355*
P03356*2p0R00
Qpuleee
00RLRRJzNOTPIO
WXlH,FUN1OQ
CNLCA2+2
SHLL10380My1H,70310
003362'021000003363°
Q03364°Q00000
2000020Q0VVAR10400SHLDCNLCA3+2
QRALM2w
0VO3356°
V033657 V100D0QVOLAs
603366°000REDVO304
003367*
003370°021000
Q000000Q0AL&e
@ROLEEx
VV3371*VvoRAeQU336S’
10422LENGTH,
<
72460SHLD
704492
145001Te489
QVeL4l10500
003372*0@leeRVO3373¢00000R145001Wo3374°0OQRRYVL3STL'Q03375*
Q03376*
QU3377*'vniewp
000COR
QoPvoe0Oeec4e
wVEOLREH
©O3sT7s*201000
000000
voVRRLU@L
177777
wVU3sTe*T@560
0QvokA4eTe58¢2
d0le0e
0U3404°VQ0VOR0DVBVALE
VBRPVRDVL340’
VOVROR
QVAV4L
PP4315*
vl
H,®0304
CNLCAG+2>
XH,FUNIO
SHLLCNLCAL#2
NOTPIO3>
LxI
70600(S 51
HySCODE+"D65535
CURLIN®#1IN CASE
HyTSTACKJSET
UP
JTYPE
A
003410*@poeve©L34p4r003411*001000@UA3T7110620vo3412*SPHL
001000QURLAR270640SHLD
10660
T0680CUNTRW,
«
XRA
A
Q¢3415°000000©OQLOY*
003414°200000003407
20100000V0EST
03416*0D10REWBLAV6ER
0034170000000VOCRD*
003420'
003421°*000000
vol000@V3415*
0PRB31S
FOR
BASIL
MACMCS 8080
23=AUGwbH4
©003422'200000QLOVAUW
003423°0p000R0QL341T*
©0V3424*P010000RAL4)
43270U3425'Q000RDALALRRw
10700STACNTWFL##>
CALLCROO
4328©03426'0gO00LQR3422*
43290Q03427*9010004330©03430*PP0LE0VLELALN
4531©003431'0ooLPDVV3425°
70740
0@RL4R
as32
To180
70800
0e343c’0210004334003435°000000QP4e4s’
4535003434VpvebeV0V3a3e’
4536
433702343520100000O31S
200000
0QUAU4)
IFN
727602
IFN
@63109
COOE
27=AUGRTS
003437°0o0oRe4539V03440°Q01000VLRSLS
Q0344)1°
003442°'dpoeVe
000000QROLVRLW
@L3436"
003443°ovleveH,TEMPST
##
SHLDTEMPPT##>
LxIH,MEMORYJASK70840CALLSTROUTJCALL
Te860CALLQINLINJGETA
LINE
JGETA
CHAR
eee327
INONZERO,
JGETDECIMAL
003444*0010000QuR3TO7090070880CHRGETCPIAN
©03445'QpReveeQ083446°Yol0v00vR101
VRS10920JzINITAT
003447*
000000wL32Te’
200LYD0VL344L*
4548003451°oplevewed2e?70940A
4349Q03452'voleeeQud3ee4350
4351109680V3453°
0Q03454*000uve
000000003501’
003447USEDEY
45522034550p10ee@PLL4)
4353
©03456'
70980
Qp000e0QL4eST'2000000P34SS*4355V03466’vploveovoeeR4s71008
4356©203461°4357
4358
4359©03462'
QVS463°
Q03464°Q01000QVOLT6
4554
4360
©003457'
01000
LOOPMM:
LxlHyLASTHR
INXH
Q00467
0vele7
o0BeTe71020MY1Ay311
71049
71060MOy
cHpMo
A
M
QPO3QeUSEDEF
71082INZ4361203466°Q20000436200@3467'0poeeRQL34Se*43630Q03470*Q0lede@eoETS71100OCRA
4364
43650Q@3471*'
Q@3472*
0Q03473°Qrle@e
@Q0lede
@epledeooeler
avecTe
evesle71129
71140
71162MOV
CMP
JzMy
A
M
LOOPMM
203460’71180JmPUSEDEF
4366
0Q0U3465*
Qp000e
volove
do100e
HOW
MUCH
THE
MEMORY
STRING
AVAILABLE
PRINTER
VL343’
4343©03450'
.
19mw2
7082043444346
PAGE
CR
REALIO,
<
43454347
TEMP STACK
STRING,
<
LXI
©u3s0ex
43384340
4341
OF ERROUR MESSAGE
STKTOP##
Tar20
GATES/ALLEN/UAVIDOFF MACRO 47(113)
Q6108
SYSTEM INITIALIZATION
4326
003436'
19=1
FUNIU=233C0DE+<"02562"0312>+]
Te520
70540
0034025*
201200
PAGE
FUNIO==SCODE+<TM0256x"0312>+¢2
T0360
No3415°
o
=vess
040
GUBL4L
0Q0O310
003407*
4542
INANT0pevep
003406°
4333
NOTSIO:
VALERD
0p0CeR
003405°
ases
27=AUG=75
003360°
003361'
003401'
B03402°
4324
06329
CODE
003357°¢
003400°
4323
47(113)
Q3350
0RAV4e
QPRVALH
0L3355*
vui400"
MATHPK
F4
MACRO
INITIALIZATION
w3336’
4273
4274
4275
.
SYSTEM
OFINPUT
OONTUSE
DEFAULT
QUV3515*
Q367©Q03474*2p000R4368
4569
4372Q03475
0Q03476'
Q23477*200000
B0ieed@L3466"
Q20PR3eS
do0bcoe003515°
4571PB3SQL’"Qp0ovoeBL3I4TH*
4372
4373@05S01*
003502*201200
0R00AQ0Q0BCAY
QvOLEOH
4374
4375©O3503°
0Q03504°000000
@2pleveQ34T
Q0BS5S
71200
712¢2
USEVDES:
H,8UF
LINGET
AMUUNT
OF
MEMORY
IN
(D,E)
.yr.
MATHFK
Fa
FOR
BASIL
MCS
8082
MAC23wAUG=b4
4376
4377003505
©03506*0P0Q0C
voowve
GATES/ALLEN/DAVIUOFF
Q6108
SYSTEM
MACRO
47(113)
INITIALIZATION
CeUE
Q03507°*001000wvLReeT71240URAQ03510
Q03511'201000
00000R0VQs0R
VVOLALW71260JNZ4581003512°4382Q03515Q0RweRd
0a1000@U3SRS*
@LOSSS71280XCHG4383003514°QP1000WVRUSS71300oCxH
4384Q03515001080QLRSS71320USEUEF:DCXH>
71340IFEREALLU,
<
023516*
H
71400HyTTYWIO
291000QVRV41wow4r27°003522
Q03523
005524*71420STROUT
Qo0RRRQV3I520°003525°Q0lveeQPBS1S71449GINLIN
0035527'
003530
003531'
003532'Qp0eee
oeloee
001000
20102000Qv3523°
uvesel
QURRGT
0e@31271460
71480
71500CHRGET
ORA
JZA
DFLENT
003534vovvve0v3526°71529LxlHyBUF
000000
Qp0vwd
ve3s511*
0eRs1S
QV3436x
©VO3441s
0QB3604’
023535GploeeQeew4l
003536*00p00RR©V350er
023540Qo1pe0VEA3LS
003542*PP000RQU3S36’
003543°voleveeeo172
003545*
0035462olowe
2p0vee003547*000000
0oleve003541'
VERLTS
Q03552
0R3553*Quieee
0pd00e
Q01000AvesTe
Quewav
vwes3e
003554200000e3517°
©03555*
003550*
00355/
003560Qoveee
Up10VR
0pReLe
00OPRR0B3546°
0VLOUeE
QVRVRU
VU354’
003537*
003541°
203544°
003550"
Pv3551*
200000
Q00000
Q201000
71540LINGET
©0Q6T7156071580A0
@oB30R
003517*71600TTYW
QUV3S525+
001000QwRR6R
VU3560VERVVd0QPALEBOx
003563700PU0RQ03557°
003564°Q0l00eQEVee
003565200000VRAVOUN
FUR
BASIC
MCS
8080
MAC23wAUG=b4
©03S566'Q000RR
T1620AE
7164016
71660TTYW
71680
LENGTH,<
71720STA
71740STRING,
<
71768
GATES/ALLEN/DAVIDOFF
P6108
LINPT 1 ##
11708SUREHE
SYSTeM
STA
J1ALSOSAVEFOR
A
TERMINATOR
LATER
MACRO
JDECLARE
LINPT1
EXTERNAL
LINPTS##>
47(113)
INITIALIZATION
06309
27=AUGw7S5
PAGE
19«4
CODE
VE3See’
003567'0lved0neBs260@3S70*0000000QLACiL4433Qu3S7e’QpdeRE©O3567'4434@O3S73°000000QV3565*40350Q@3574¢001080002326443600B3575*Q00000AURL3444370@3576°Q01000©PoLST718494438003ST7*02100lQve0T471860INRA
4439
4440003600°
Q03601*0Q1eP0
P01000QVARRS
0LAV6R71882
71900ADDE
LINPT4®
oaeas2e
71788
Sul14
71800
MORCPS:
JINCMURCPS
71820ADI28
4441003602’VN00VVRVLALYV4442Q03603*4443003624VPOLADQU3STE'4345093604°001000@Q0ALRL71960LXI0y SCOUE+7D65536="D50+1
4446
4447
4448Q03603'
0Qu3606*
0036Q7*QpRRRD
VpPORVE
Qolebp1TTTILT#
VL3LRR’
V0234171960POPH4449U361’bR1200BRAV4E72000SHLUMEMSIZ#®ISAVE4450
4451
4452003611°
003612'
0Q03613°P20000
Vp00UR
Q010ve©VOVOLR
wVV3LES*
noBL4e12020$nLDFRETOP##JSTRINGS
72040
12060DAD
JNCv
OMERRJCALC
JMUSTnexHJONELOWER
PUSHH>7SAVEIT
44449
HAS
LINPT284>
4430
003ST71* epleee
JMAKE
A
4434
4432
19=3
003533°
P03561°
;
4429
71380vnoven
Qovveve
Pa10ee
0P0LeD
PAGE
HySCOUE+16190>
QUVR34S003517'
003533
Fa
Lxl
003520*
Q03s521*
Q03526
MATHPK
PP1900
27=AUG=T75
0QVOLOLW
AL3SeR’
45784379
4380
71360
71920
71940
4453Q03614°2200200M0VAVAR*4454
4455
4456Q03615°
003616°
©03617°*000000
Q01080
001000©e361L1"*
QBBOS)
Q003224457003620Q00000QLRVOLW4458©23621"0000LEVL3614’a459Qv3622'02100QVRLSS72080
446002036232010000QUVO34S72100
a46172120
a472140
446372160
DFLENT:
1FN
IFE
STRING, <
JSET
UP DEFAULT
IN
STRING SPACE
REALMEMORY
STARTFROM
SIZE
HERE
IS
ON
FROM
STKTOP
STKTOP
STACK
iFUNCTIONODELETION
}TONEW
ADL
A
ROUTINE
MACHINE
ASKAGN:LXIQ46772240LUPASK:PUSHM446812262LxI446972280COMPAKq47e72300447172320447272340PUSHMJPUT447372300XTHL7(H,L)sMESSAGE4474
a47s72380
72400STROUTJPOINTER INTO TBLOO
JPRINT THE MESSAGEGOES
CALL72420CALLGINLINJSEEWHATHESAY
72440CHRGETJSEEWHATTHEJPOPOFFPOINTERJ1POPOFFCANDIDATE
HyTBLLO
JUST
4K
72220
Jz
FUNCTION
FOR
72189Te20@4466
UPODATE
TBLDO
JSTART
FPUT
D, TBDASKJOONE
FINFUNJYES,
JINTO
72460
72480
72520
200
EXTFNC,
<
4465
72500
DOWN
STRBOT BY SUBTRACTING
BE POSITIVE
4464
4476
°
06309
POP
FINFUN:
H
cPlot fod
POP0
JFREE
OF
ON
FUNCTION
CANDIDATE
TABLE
FOR
START
OF
FREE
MEMORY
ASKING?
GET
FIRST
(0,E]
ON
FREE
AND
MEM
LOC
QuUIT
MESSAGE
LOCATION
POINTER
HAS
TO
FIRST
ON
THE
CHARACTER
INTO
FOR
OF
STACK
INPUT
WAS
TBLODO
START
OF
MEMORY
.-.
.
MATHPK
Fa
FOK
BASILC
MAC
MCS
8082
23*AUG=64
GATES/ALLEN/UAYIDOFF
P6108
4482
47(113)
12540
26309
27=AUGw75S
JZHAVFNS
72580INZASKAGN
72600
72620PUSHM
72560
4486
Crl
726402
4490
44910y ILLFUN
72700
12129
72740M E
H
M0
72760
4494
4496Q03624°20100VLQUV4)
4497
44980@03625"
003626200000
Q000DQe4R1D'
VL3L20'
4499Q036270010000UBS1S
4500003630°*000VR?Q3525w
203631°
003632°200000
0010000Q03625°
@LASLS
P03633°VoYL@Qe3526%
B03634*0A0VBDQU3630°
003635°NolveeQvos27
203636*
0@3637*001000
Q@200QVO3T6
00A13)
P63640°
003641*0Ol0VE0Q0QL2)
00Q0B0
VP0RVY0VV3264°
VV3633°
003642°
Fa
4535
¢
INTOTBLDO
ISWHATWE
TBLODJGET760ASKAGAINFURANOTHER
IFWANTSSIN,CUS,
72840CALLSTROUTiTHESTRING72800CALLGINLIN72880CHRGET12900CPInyw72920LxID, INITSAJASSUMEFYUP,72940HAVFNS
0u3b4L*001000QUAST612960nan
VPOVBD72980OKCHAR
003650VP100D©RO181
QLOS1R©EPVOLYQL3bbE*0V23652°0PVLRDVL3644°@LRsTe735000
P03654°V036550p0OVRD
Q210000QvRL16
weOsee75020
003656
003657*0P0AV0E
Q0ORVYwve3624*
0V03651*003660*0plveeP03661"P00VR0QEOVRLr
0036630010000QUOLRL
QPOR4)
STACK
DELETE
ANY
FUNCTION
ATN,
FNS
73040
]
N
ASKAGN
OKCHAR:
H, ILLFUN
JMAKE
SURE
BOMBSIFTRIESTO
BUTNOTSIN,COS?
CALL
THEM
0VB36S6’
15000D,ATN
ATNFIX¥#
Q03664°Q@RUER0Q©3152°W03665"00A0V0OQ03666
003667*
Qu3670"Q01000
000020
V00VLE0BL366L’00042
0BRLAL*
0V3b64"73080
003671*
Q3672001000
0R000E0QRR3T6
©RRA1Q)73100
8080
23=AUG=64
GATES/ALLEN/DAVIDOFF
Q6308
0QuLSL1e
SYSTEM
Y
MACKO
nAw
47(113)
INITIALIZATION
PAGE
d0lpve003674°0Q0VALwO3712*0000000Q0366T*4538
4539003676*
©03677*001000QVBLA4EV00VOD4540Q03700VPRVRDQURLRex
VL36T4’4541
45420203701'
Q03702*Q81000
Q00000@BAV4E
QURLER*4543003705°QobLRDMV3LTT*45440Q0V3704°2p1000QVOL4e45450U3705*000RR0OLOLRLx4546Q03706°Qpevedww3TRR’45470e3707*Q01000wvove)4548003710°000RRRwB2762'4549
4559
4551©03711*
©es71e*
003712*0gRVAwPL3Te5*4553©03714°000ewe45540BEU3715*V010000VUVIL4S4555©@3716*Q0ieve@vav4e4556Q03717'Q00000@QVALRLN4557
4558
4559
4560
4561Q03720°
Q03721
0ev3722*
PO3723*
©035724"900000
901000
eolnee
Q0000D
Q@eveeQU371e*
QVA34S
Qwovel
WVLASLS*
Q03717*45620037252p10ve4563Q0372645640@03727°4565
4566©03730°
©VO3751*@peodw
0plvwveVeS723*
0ees2)754004567Q0373:'0010edVBO3T17542904568
4569
45720Q23735°
0QP03734*
@03735°2n100¢
Q00000
200008@LAL4e
Q3413w
QV3T27*734404571003736001000QLRSS754604572
4573
4574
4575Q03737°*
003740
003741
003742eelvee
GpB0VE
BpReRdQ0BS5S
QVAVALH
@b3T734°754806pleoe0QURL1TS755004576003745'deleva@LRe2S735204577©R3744"QeloR0QeR1S773540LsA]
4578Q03745°081000Q0017273569A0JHIGH
73140
HAVFNS
TANFIX##
75182SINFIXe#
73200
735260
JTEST
CUSFIX##
73160
73220
75240
.
196
V03675°*
QCOUVes
Jz
27=AUGe7S5
ATN
CUDE
003675*
0ve3S3s
75120
26309
JOELETE
4536
20100
POINTER
NOT
THE
003712
V0u3651°
©03713° 001000
ON
JASK4537
4552
GOES
STORE
HyFNS
LUPASK>
QYovvdw
MCS
JPOINTERJTHISHvol00e
BASIL
DONE
LxI000000
MAC
ARE
CALL
FIX UP
EXTFNG,
<BU3645’
FOR
WE
OVEK
IFNQ03644
Q03662 0pR0VRE
START
ASKAGN:003646"
003653 Q@lvee
ANSWER
HIM72800V03645°
VU3647*
0VRS12
SO
BAD72828
72780
4495
IT
AJMAKE
7 (H)L)=FIXUP PLACE
7266272680
4492
WANTS
J1IF
JPUSH ON FUNCTION
TLOCATION THAT WE
4488
4493
19=5
JHE
Ne
4489
MATHFK
PAGE
CODE
4964
4487
.
MACRO
INITIALIZATION
4485
4483
.
SYSTEM
D,C05>
HAVFNS3
XCHG
JTEXT ALWAYS PRECEDED
JPUT BOTTOM OF MEMORY
BY
IN
MVIM0
JSTORE IT
13280INXHJINCREMENT7133500SHLDTXTTAp##JSAVE BOTTOM OFMEMURY
75320
75340XTHL
LlD, TSTACK0VVR34T75360COMPARQp100e©Ve@s3273360JeQ00002V362UAEJSUBRACTFROM
LJLOW
ZERO
(H,L)
Q00kAv
45790V03746°Q1002QVRC3475580
4560
458)©03747°
©03750'00120V
PpluveowLl14T
ouevel73602
73620
4582003751900OLR177760#4585QAv3752'QpRVYRDwQe3T740°4584Q03753*201000QVRE1)73640
4585003754*deleneveA31S75660
4586
4587Q03755*
©03756°Qp00PP
QpovveQL342ew
@L3ITS1*
POINTER
0
5
STKTOP
REASON
C
VAKTAB
STKTOP
PART
PART
L]’H,A
B,SCODE+65520JLEAVEIN
ITYPECKRLF
(B,C)
8
-o
MATHPK
Fa
FOR
BASIC
MCS
8080
MAC23=AUG=b4
GATES/ALLEN/DAVIOOFF
Qb63U8
Be37s71*oni1eeewoB315
458690e3760"QpvveevoLl66"
4590Qesr61°dperneB03755*
4591CUEY
LT Mvo1veepvov4l
op2vee0e4146"
vo3760"*
4588
4592
4593
Vu3765"
Av3764°vpRove4594V03765ve1000200315
4595P03766"Qoeevneoese3on
4596wo3767°[ousT63*
4597eveval
4598LLEYALM
203771op1000290000QU3T766%
4599wosrre’vnvvee003760"
q600003775ve1000Voouv4e
4601v03774*opeveeQbovel
4602e03775*veoveeLEYRE
S
0o3770"
4603
Q0lveeousrri*Qvos1S
4604vonovebRovaL
4605ULVuenveVUSTT4"
4606
4607
SYSTEM
3
MACRU
47(113)
INITIALIZATION
713680
26109
CALL
JPRINT#HyWORDSJIYPETHE13720STROUUTJ"ALTAIRBASIC
INOwUP
73740
SHLDREPINI##+}
SCRTCH
15780CALL
73800LPTSW,<
15820MVIA4
73840ouT73860XRA2
75880STA73920CONSSW, <LX]
73940CONSSH,
<73960Lxl74000PCHLwe4paL’vo1vwevooval
vvd4pae’bnovueQuavaox
4014004nns*bnoenpvu3rTI1*
4615
4616
4617wo4pnsdn1000Qpvduae
4618204005°ooLT
4619Qv4pae”vpoveeav4uee’
4620Qvapar*ouivaeL L3}
73909
S$TA
735980
VERSIONwwe=a"
THE
EVERYTHING ELSE
LPT
H,READY>
H,CONSDO##>
SCODE+2
74040IFE74060
74080
74100TBLDO4624
4625462674120ADR(SIN)
462774140
74160
74180
74200ADR (FNS2)
4630
FREE
LPTPOS#E>
SHLD
LT3
SEY
JCLEAR
A
abee
4628
BYTES
HEADING
PRTFLG##
dees
a629
OF
H,STROUT
75760
a609
4611
19e7
LINPRY6084612
PAGE
1570046104613
27=AUG=T7S
COOE
<
EXTFNC,
ADRCINITSA)
ADR(FNS)
ADR(SINFIX)
ADR (RNDFIX)
ADR (RND)
ADK (FNS3)
74220
ADR(SWRFIX)
ADR(SWR)
74240
74260TBDASK:74269FNS?DC"WANTSIN"
FNS2yDC"wWANTRNODM
FNS3:OC"WANTSGR"
IFN<
EXTFNG,
JEND
OF
ASK
TABLE
74309
74320
74340
74360
74360
74400
2>
.
.
°
FIT et
S00 te HAL nr RAAT fap Frenees ce ne
MATHPK
Fa4
4641
4642
LLTK)
4644
FOR
BASIC
8080
GATES/ALLEN/DAVIDUFF
V6308
23wAUG=64
Q41vwebuaenee127
004011°*Vp0o0esQe0101
Ypoavevea116
Qpeevveboole4
Qvanie*
204915°
4645Q04n14°*Poovee2P0V40
4646Va4n1s”*
[LLTITY
Q417"Vnevon0weR123
evel1l
q647
4648
hpevve
vwoeoen
eoap2e*waeoee204p21°bpveveI'TI0K]
Qo4p2e’
vo4pas’voovenwea1L?
opoveY
vo4p24*onovee0URUsS>
a04p2s*voveaeBovles
4655
4656vo4pee’Qpovewoen101
wo4par’VrovLeYdv4n3e’vpveaYVUALSS
vo4p3L"*
vo4p3se’bpoovenvv101
Qpoveeneala4
4660204035°opavee0Ba116
204n3s*
468546686
Ppavag
FNS3
06309
DC"WANT
74440
2>
LT LT)aveuLsveeelePLELITT)vvovle74480D10
Qoag4n’dpooen74500DC"WRITTEN
4667
4068Qvan4r’
Qo4pde’pep127vpeneeveo1eeQpoveeave1114669Qe4pas’QpevveweRl1e44670
4671wodpas’
w04p45"*as7e2Judp4e’epenLee0a116
4673Qo4par’0pRuLeLTIy
4674
204050°
épepee
ApRveeveR102
000131
vp4pse’)0PRLaL
LPLTEELPpeveeQuolee
4678204054°
"L
dpdeeeaea111
204055veovenPvel14
woagse’Ppoveeovo114
46810e4nas7eQpoeee4062Po4p60’
QedpsL”
204p62’Ppe0v0(LY
avalor
Qooeeegeei1el
Vplvveopel24
Q046"Qpooen2001025
Bdoapes’veoveeQve1es
4683
4684
4685
4686
204p65" Qpevop
Q04060
" époveeQuen4e
8240p67"2BAv40
204p70*
L)
AUTTXT:
ACRLF
BY
BILL
GATES
&
PAUL
ALLEN
&
MONTE
DAVIDOFF,"
vuvles
4677
204p51°
74468
pen124
4676
a87s
19-8
poesie
vpLoeeopeBve
¥RV Ye
PAGE
SIN=CUSwTAN=ATN"
opepee
4663
4064
27=AUGw7S
CODE
wevl1e
465746584659LLLVELY
LELTE RN
w04p3e"’
A
CITTE
47(113)
venl1es
46534662
74420
MACRO
INITIALIZATION
CITI2E]
4654LI}
SYSTEM
Qealie
404946504651
4652
-
MCS
MAC
200040
veaveeveelee
QodprL’Qpoveeevalel
eeante’@pRveewee1es
oodprs’oplvueopa114
-o
MATHPK
Fa
4694
FOR
BASIL
MCS
BUBQ
MAC23=AUG=64
QL4744GOVRRY
004p75°*VpACRY
¥04n76*Q0BLBE
GATES/ALLEN/UAVIDOFF
©¥b63U8
VVALL14
©VO105
P04101°VEBRLRQeRlL6
QPPLA0VYOV AL
ALRUALYVPAL4L
PpRORY
004105°
VPOVPL
VPBVORQVO1LT
PROREL
VERLREQUAlLe
QLB124
PB4111°BRBLYDVD105
QU4112’APBYBL
QoovBrRVVV4D
PVR1BY
Qu4114*Ppovve0BR101
0041167
204317*QQVLOVR
VAVRVE©UA111
VPV1V4
004120°VEOLVLQVLILT
QUA121*
004122*VvbURLVPB1R6
@04123°PULYRRQURLSL
0povve
©VpLRUL
QUalRe
004125'
004124*VpVLRB
Q00000PpVROD©BOOVLe
204126°VRALRY0VVBLAL
004127*Qeovew00R124
QVBRS6
0Q0RL1S
004130*@eO0BR0VAL1LS
Q04131"QpRvopwvol12e
QMOLYL
Vpovee
19=9
wveol26
Bo4125*
004132’
004135°
PAGE
VVA11S
004196*
004115
-
27=AUG=75
CODE
VELOL4Y
0R410A7°*
004119*
Q04113*
06309
Q0114
VERVVRPPOLYR
004195°
47(113)
VRYIGL
004nTT*
0041092*
MACKRO
INITIALIZATION
0BAV4WL
0041090°
Q04104
SYSTEM
0
TTYWID:DC"TERMINAL
WORDS:)
DC"
WIDTH"
VUO11S
©UA11l
A04134°0povve000116
V04135
Q04136*
UB4137°Ppopen
VpoROp
Pp0VRY0BR1el
VOR114
VPOLAY
Vu4140*vpooewWn4141°VeORVYVo414e*dpdLoe0L01R4
W04145*ppoveeQL0124
ovel27
VOR11)
0V4144*QpRLODQLRLI10
Qv4144°0POVVMYVOBSLY
0041457
Q04146°004147°PPVRUL
0POROR
Qo0eR0VPARVDL
QAVRL4L
VRB102
004150°PpORAR0VLO13)
A04151"GovwvneveR124
00415e*
A04155"Qpeevn
oeonoeQL1085
wveR12S
PB41547P000ODVVRV4L
004155Ppoverwevelee
BYTES
FREE"
.
FTIR SEL Het THRE fi tres rue stone
MATHPK
Fa
FOR
BASIC
MAC
4747
V0V4156'
MCS
8080
23=AUGwb4
PPOVER
GATES/ALLEN/UAVIDOFF
06108
004157°VPOOVOBRB1RS
0Q04160'QpO0VO0BLO1BS
4750004160*VROVABVLO3AS
47510QU4161°©VPRVUOQLVLLS
47520Q04162'000000Q0UL1e
4753
4754Q04163°
004164°0000000RBLYS
47550pROVR004165'QLO01e
0p0VREARE101
4756
4757QRA166°'QPOLOY0RAL114
0Q04167°0P00Q04758Q0R124
QL4170*0PRUBYVER10)
47590Q04171*DPOLOEVVOL1L
4769004172’4761QV4175°BpovRe
0PRVVL4762Q04174*VeRRRBQRO1Qe
4763004175QpReeewvviLl
4764004176QROOEDQVR123
0©04177°*0e00RR©LVO111
766Q0V4200*VEBPED0VA1RS
4767Q04201VBRRYDBVRL4L
4768Q04202'Q0BLVR0QLd126
47694770004203°
004204°©AVLEY
Pe0eVn4771Q04205°0e0e0e0vo12S
47720904206°PEOPAR00V111
4773Q04207°Bo0ReRQ00117
Q04210*PpoeRe0eLB116
47750Q04211°QpRVOe4776PB4212°4777©Y4215°PP0VAY
PpRuoe0VOL6S
PeAvSe
4778Q0V4214°QPVRVLVVALKY
004215°0P0VRPVLEBLS
Q04216°200wVQvALlR
4782
VWB133
4764Q04220°'epewde0eA10S
4785004221°0pe0advebe11l
4786QU4220wOLIPvwAlRT
4787Q04225°GpoeReBYO11Y
47880@4R24°'0pov0eVU124
4789004225V000U0BRESS
4790©ve4R26"'PpoeRAY@04e27*
0©Q04230°0vdvve
QpeveeRrVeL4VY
vvRle
4793Y4231’0vplevo00015
Q0455QpRvLypeR1es
4796
4797@04234°'
Qv4235°VPOV
0pRRER
4798
VeOVeD
.
.
ACRLF
ACRLF
OC"ALTAIR
BASIC
VERSION
3,0"
74700
ACRLF
74720IFELENGTH,
<DC" (FOUK=K
74740IFELENGTH=1,<DC" (EIGHT»K
VERSION)
">
VERSION)">
VUOLLS
4791
4792
0e4232*
o
QpVRVE
1910
WLRRLR
4780
0204217°
PAGE
QUOL4EY
4781
4783
27mAUG=7S
COLE
©EV1RS
@bBlee
4774
Vp2VRRD
06309
VvR12e
PROL4D
4765
004214
MACKO 47(113)
INITIALIZATION
PQUR122
47484749
4779
SYSTEM
@ed12e
Q204230°QEULVYQeA11)
VL0117
©VB116
Q04237°QpBRAYQVV13S
©-
MATHFK
Fa
4800
FOR
BASIL
MCS
8060
MAC23=AUG=64
GLATES/ALLEN/UAVIODUFF
Ab308
SYSTEM
©V4237°*VURAVYQLR33S4802©V4240°"PpQVRDALAU1LS4803V04R41'Pp0OUeoveLleA60Wa20424e’QpRRVDPLORAL74800
74840
4801
74760
5
MACRO
47(113)
INITIALIZATION
IFE
26309
27=AUG=T7S
COOE
PAGE
31911
LENGTH=2,<0C"
(B1G VERSION)
">
74780
ACRLF
[’
4805
4806QNAR45°BRRVLEVLBL1>
4807Q04244°*2pP0PRO48PS004245°PPROVRY00A105
@LR11S
4809Q04246PpLeRYQCR11T
48100042470pRVOR0RB12e
4811
4812004250°
0042S1*Qpuweee
@A0000R0LA13)
QULL4Y
4813004252°'vpooen4814Q04255'VP0VRDPRO11Y
4815Q04254vevved0VA13e
48160Q04R55'V0VVVYQU105
4817Q0425500R0V0YQVR3RS
0042567PALVLYMLAVAY
4818
4819Q04257°
4B20©042s57°
4821©o4315*
MEMORY?D
OC"MEMORY
QL1235
LASTWKRE:
)
BLOCK
IFE
FOR
IFN
L
p04pRs*
“u100ee>
4
4827
END
ERRORS
DETECIED
PROGRAMBREAK
9KUSED
15
027735
.
i
.
o JAI ISLC
IE ta CEMA
Sh 41113) S018 Bers ac 8
F
FOR
MAC
BASIL
MCS
8080
23mAUG=b4
GATES/ALLEN/DAVIDUFF
V6308
200007
291173
SYMBOL
OMULT
INT
OMUL T
MACRO
47(113)
06309
27=AUG=75
PAGE
20
TABLE
001476°
INT
001506°
FRULT3
FHULT4
FMULTS
000632
000571
Q00105omuLTe201524°23624DSKFUN200020SPDFMULTA200605
ves15e*DVOERK0RA6ST*EXTFHULTBeop6oe’
03205
vp3e17*E
ERRUR
ERROV220003FMULTT000515
000607"
F04010
e00400"°
EXPQ02452°wen2r2*
0U270*EXT
EXTQ00000
o01522°
203536EXPCON
EXTFNC
FACvoassa’
0ee001
003162°SPO
EXT000eR)FACLOBo2430*EXI4opee32’
0000e)FADD©00ApRS*INTReg2252"
FADD30Ra125*
203667°
0pap3s”*
veRvoe
0evooe
vo000e
LLLLTT)
(LTS YA
bdooven
voeeoL
we2r62*
eo3e77°*
op3755°*
An3404°
[.I'LLF]
E
FAQDL
FADDA
FADDH
FADDS
FADLT
FADFLT
voees7"*
INT
wp2veL*
002015
002151
ve2216"
ove254"*
0v2271*
0a274*
002266"
000000
LTI EY
0PeR23*
002034
002071
ep2124"
FBUFFNR000143ev2132°
aneve2*vp206n*
FCOMPe001347°002360"
FCERR
FCOMP
FCOMPD
00423’
o0v1317°*
ovasle’
opv2274*
ev1700°FCOMPSou1141°001344°eo2422*
003604°Fulv000655002356
200637°FOIV1Quar20*203074
FoIv2200755°PR3614"
FOIVA
ovA733"
FOIvVB
FOIvVCgverer*
voeras’
FOIVG200736°
2v244p°
J
>
Q00017°*
Qo0011"*
Qvee1s’
145001
FRIVT200653°FHALFguasie’HAVFNSFINPo3712*
081531°ICOMPSvet142’
FINL
201545°
000024
P03661°EXT
FINCPU1555"INIT003304°INT
FINDIGee1702*INITATpo3eTe’FINE001641°INPRTFINER0R1644"INRARTFINE3201660°INT001445°INT
FINEChvle21*INTXTe01760"EXT
FINEDGpoLT42”INXHRTP01252*INT
FINLOG001731°FINMLTQ01673°FINMULee1e672*
FAINOP
.
STACK
5
©04315°
4826
MATHPK
TEMP
"013000>
as24
CORE
1SPACE
LENGTH,
<
4823
NO
JLAST WORD OF SYSTEM CODE+1
=030
TSTACK:
3
asee
4825
SIZE"
901635
FLOATo01150°
FLOATK01155
FMULT0ees17°*
FMULTZ0eBss57*
ILLFUN
INITSA
003264’
001756"
001145°
INT
INT
«MATHPK
Fa
FOK BASLC MCS BUSD
MAC
23=AUG=64
GLATES/ALLEN/DAVIDOFF MACRO
00108
SYMBOL TABLE
[t000¢0524257¢INT
LENGTH000001LINGET0@3541°LINPRT201766°LINPTY
LINPT2
LINPTS
LINPTE003557°
©03562°
003565°
203602°
LASTHR
L06
@0421°
LOGCN2
LOOPMN000404
003460°
LPTSK000008
[l
200006
47(113)
06309
27=AUG75
PAGE
20s1
OKCHAK003660°SHIFTR000334°
SFDOVERR0002677816Nvo1322*
EXTPI2003070°SIGNC0011357
INTPLUSTK001615°SIGNS001143°
EXT
EXT
EXT
EXTPOLY
POLYL
POLYX
PUPHRT002632°
002643°
002613°
000630 *SIN
SINI
SINCON
SINFIX002770"
003044°
003100"
003705°
OMEKR
003727°
SHRADD
0003627
INTPUPPRTPSHNEG
PSK002340°
200006SNERR003511
°
SPDPUSHFQINLIN001205°0036337STRINGSTROUL000021
QINT201372¢STROUT003771
SPD
0014747
SUR
STKTOP
082345°
003734¢
201776
MEMORY004243"MEMSIZ
HINUTK003611°
001603MLOVEX001073°REALIUTEMPRT203430
MORCPS003567°REASONTENPST003425°
HOVE091257¢REPINITSTACK204315°¢
HOVFMoo1222*RND1HOVFRon1225°RNDXTTYW1Do04127°
MOVEL
001261°
EXT
EXT
INT
QINTA
READY
TAN
TANFIX
RND.
TTYW
.
TATTAB
2@3125°¢
003702°
203517
003717°
HOVHF
MOVRF©01254°
on1240°ROUNDUNPACK001272
RUUNDAMOVRMQ01243°ROUNDBUSEDE9203501
MUL1®0o1106°SCRTCHWORDS00alae*
MULDIN
HULDIV000001
001035°S6N
SHFTRYZERD
ZERUO000173
000174
HULOVY001076"SHFTR2SCOVE@e2543°*
MULDV2P01077°SHFTRSc2004005
MULLN2
NEG
NEGR000506
001175°WF204005
©00310°
NORM1
NORM2
NORM3200200
[rrevy
NORMAL000146°
NOTPIO003400°
ASKAGN
ATN
ATNZ
ATNCON
ATNFIX
AUTTXT
[
CASSH
CNLCAL
CNLCA2
CNLCAS
000151
°
USEDEF
000356°
203515¢.
CNLCA4
p
4e94
CNTWFL
COUNSSw
4615
4130
4586
€41
547
se7
2343
3642
4158
OCRART
OFLENT
oIvie
2798
DMULTY
OMULTY
OMULTR
DSKFUN
DVRERR
E
EXTFNC
FaC
FACLO
FADD
FADD1
FAOD3
FADLA
FADDH
FAODS
FADOT
FADFLT
FBUFFR
FCERR
FCOMP
FCOMP2
FCOMPD
3989
.
.
3766
4935
.
.
“
4453
3824
3855
3911
4usew
.
.
..
,
4280
4298
325
343
697
634
8331873
1044
1272
1576
27081100
1338
1692
2729
2892
3735
4234
4291
4448
HAVFNS
ICOMPS
ILLFUN
INIT
INITAY
INITSA
LASTWR
LENGTH
LINGETY
LINPRT
LINPTY
LINPT2
LINPT3
.
.
MEMORY48064
MEMSIZ4459
.
.
MINUTK
MLOVEX
3842
429
1195#_28ze2887
1549364838213923
118838593928
37152
39844127402640444145
1270127612802391
279341171623
esee23272789282728452916
38373975399241154123
1632
4e42
3813
.
.
o
ROUNDA
.
.
.ROUNDB
SCRTCH
56N
SHFTRY
SHFTR2
SHFTR3
SPIFTR
SHRADD
SIGN
SIGNC
SIGNS
SIN
SIN
SINCON
SINFIX
SNERK
SR
STKTOP
STRING
2373
2375
a8e323812387
a781a392458045954598
282437614156
194
2389
4s2s4426
426442964305
217
2112188
317
404318%
405¢
5354
2433
2435
STROUI
STROUT
TAN
TANFIX
TEMPPT
TEWPST
TSTACK
TIYW
T1YW1D
TXTTAS
UNPACK
USEDE9
USEDEF
WORDS
2ERQ
2ERDR
SCODE
2340
1693
oc2
13
1858
2364
2818
3768
43iw
6138
6554
187
2392408250202
25528628742942973893908396467
627
658a6491628%
6594633399
5256826877094
817%
8988
9538715
821743
830910930749
835
934970974983984¢
102241028103610481041
7048708
8039816
8958897
9508952
101981021
1087
10658
11908
1888
1198
10881
11994
1095
1203
636
1106
1212
534
639
691
1125
1234
2724
640%
692¢
750%
836#
935¢
11264
12354.-
o.
.LJ
PUSHFM
PUSHM
PUSHK
RAL
RAR
RETY
RLC
RM
o
o.
<
RNC2401612
RNZas14ss
455
459
1045
106913611365136913731583
1116
RP
RST
RZ
6046768159971e77111515422348236323942747363338884uid
4nee414045424397458545622144ns5406771031134415351697237623792384239025453849
ase7
3905
sB83053073115035061068287128754579880884889500SB11196
43291201
44493668
445¢372
453042504255426145444268
45554c82428742934300
685828442344274440
SHLD
SPHL
STA
689
4314
4315
375
sTC90
sus2ee
Sul
XRA
XR1
XTHL
833
838
4538
4say
4568
4600
4617
87089593243194419en9e2938156}24032417286745768651168117911951204170417062441715
53886697597912711281134813551554
4015
500
35/
SYNCHK
XCHG
4567
521
497
676
820
25998
137¢
44350
39#
23e2366887207
28894125438e45514571
24ne
11272716277143181177235693003
299
117¢
344
37¢e
426
495
4558
.
“
.
SPOODLER RUNTIME 14 SECONDS, 44 KCS,
**ENDw* USER MITS
(6000,6000) JOB
®
.
©
.
®
.
®
.
®
.
462
F4
DISK
SEQ,
READS, 3 DISK WRITES, 118 PAGES
205 DATE 27=AUG=7S 87336123 MONITOR
ALBUGUERGUE
SCHOOLS
SO7A
waENDwx
ethous URN NUTS AOULAOIE) JON FA BEG 403 OATE 27AUGATS ETHISIZS RONITOR ALWUGULRGUR SCHOOLS 347A seEAOTS
#*ENDx*USERMITS[6000,6000)JUBF4SEQ,205DATE27«AUG=75@7336123MONITORALBUQUERQUESCHOOLSS@7A#wENDax
**END**USERMITS(600Q,6000)JUBF4SEQ,205DATE27=AUG=7SQ7136323MONITORALBUQUERQUESCHOOLSSB7A##xENDww
w*ENDaxUSER MITS[(6000,6000)JOBF4SEQ,205DATE27+AUG=75@73:36323 MONITORALBUQUERGUESCHOOLSSO7A##ENDxw
ithe USE NITE (8060008) 08 14 S63, £8 GATE 21eAUGNTS B113012S AOVITON ALOUSULNGUR SCROOLS BETA 4sENGRs
5
##ENDa»USERMITS[(6000,6000)JOBF4SEQ,205DATE27<AUG=7S27136123MONITORALBUGUERQUESCHOOLSS507A#=ENDww
#*ENDx»USERMITS(6000,6000)JOBFd4SEQ,205DATE27~AUG=7507336323MONITORALBUGUERGUESCHOOLSSQ7A#xEND=w
#aENDa*USERMITS(60Q0B,6000)JUBF4SEQ,205DATE27=AUGW7S27336123MONITORALBUQUERQUESCHOOLSS@7AwwEND=w
wtncun Gn RUTH ein) JOB 4 SK, 295 GATE F7aAdGaTS B738123 AINETON ALBUGUERGUE SEOOLS SOTA saENOne
"
##END**USERMITS(6000,6600)JUBFrd4SEQ,205DATE27=AUGw=7S527336323MONITORALBUQUERQGUESCHOOLSSO7A»«ENDww»
*aENDxxUSER MITS(6000,6000)JUBF4SEWU,205 DATE27«AUG=7S07336123 MONITORALBUGUERGUESCHOOLSSO7As«ENDww
#2ENDa*USER[6000,6000)JUBF4StW,205 DATE27=AUG=75 07136323 MONITORALBUQUERGUESCHOOLSS@T7A=#xENDww
MITS
eethons BCH
ITH (heuseRae)
74
FTaAGHTS BTEAIED
NORETOR ALBUQUERGUE
ALOGRURNGUE SCHOOLS
SCROCLE SO7A
SOTA #xENDww
nENORn
USER MITS
[6V00,6000) JOB
JOB
F4 S03,
StQd, G83
205 DATE
DATE 27=AUG=7S
97836323 MONITOR
*aEND*»
w*ENDrxUSER MITS(6000,6000)JUBF4 SEQ,205 DATE 27AUG=75 @7:36323 MONITORALBUGUERQUE SCHOOLS SO7A ~=ENDw#»
#aENDaxUSER[(600Q,6000)JUBF4205ALBUGUERGQUE
MITS
SEQ,
DATE
27=AUG=75
@7:36323
MONITOR
SCHOOLS
SO7A
seENDRE
SETA swENDawx
SCHOCLS S07A
BTEIAIED NONETOR
21eAUGaTS @7:36:23
i(oes USK FITS TOMRLARIE]
[(600Q,6000) 08
JOB FO
F4 300,
SEG, 403
20A5 GATE
UDATE 27=AUGe75
MONITOR ALOVGUERGUE
ALBUGUERQUE SCHOOLS
H
AT
AR08 AAVAANC
[(6000,6000)
seiaisasseia:
BUPeldvanaRe
JUB
od
.
he
.
.
.
s#END»e
w*ENDa* USER MITS
»2END** USER MITS
.
.
.
.
F4 SEQ, 205 DATE 27=AUG=75 @7336i23 MONITOR ALBUQUERWUE SCHOOLS S@7A »=ENDw»
a
"
PRVROARZRVAYARANARRAARARZANANRARLARBAVEANANAPIANANREAANRPARRRRRRRAVRRRPAPA1
lS
11111111111 1141113111119111113111
hd
